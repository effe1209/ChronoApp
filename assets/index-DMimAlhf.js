(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var ad={exports:{}},ol={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x_;function fA(){if(x_)return ol;x_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(s,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:r,type:s,key:d,ref:l!==void 0?l:null,props:c}}return ol.Fragment=t,ol.jsx=i,ol.jsxs=i,ol}var z_;function dA(){return z_||(z_=1,ad.exports=fA()),ad.exports}var _t=dA(),od={exports:{}},St={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B_;function mA(){if(B_)return St;B_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.iterator;function z(D){return D===null||typeof D!="object"?null:(D=C&&D[C]||D["@@iterator"],typeof D=="function"?D:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,tt={};function X(D,Y,at){this.props=D,this.context=Y,this.refs=tt,this.updater=at||j}X.prototype.isReactComponent={},X.prototype.setState=function(D,Y){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,Y,"setState")},X.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function Tt(){}Tt.prototype=X.prototype;function ft(D,Y,at){this.props=D,this.context=Y,this.refs=tt,this.updater=at||j}var Z=ft.prototype=new Tt;Z.constructor=ft,$(Z,X.prototype),Z.isPureReactComponent=!0;var It=Array.isArray,ct={H:null,A:null,T:null,S:null},Dt=Object.prototype.hasOwnProperty;function M(D,Y,at,et,nt,bt){return at=bt.ref,{$$typeof:r,type:D,key:Y,ref:at!==void 0?at:null,props:bt}}function R(D,Y){return M(D.type,Y,void 0,void 0,void 0,D.props)}function S(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function I(D){var Y={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(at){return Y[at]})}var V=/\/+/g;function U(D,Y){return typeof D=="object"&&D!==null&&D.key!=null?I(""+D.key):Y.toString(36)}function w(){}function pe(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(w,w):(D.status="pending",D.then(function(Y){D.status==="pending"&&(D.status="fulfilled",D.value=Y)},function(Y){D.status==="pending"&&(D.status="rejected",D.reason=Y)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function ce(D,Y,at,et,nt){var bt=typeof D;(bt==="undefined"||bt==="boolean")&&(D=null);var At=!1;if(D===null)At=!0;else switch(bt){case"bigint":case"string":case"number":At=!0;break;case"object":switch(D.$$typeof){case r:case t:At=!0;break;case A:return At=D._init,ce(At(D._payload),Y,at,et,nt)}}if(At)return nt=nt(D),At=et===""?"."+U(D,0):et,It(nt)?(at="",At!=null&&(at=At.replace(V,"$&/")+"/"),ce(nt,Y,at,"",function(ne){return ne})):nt!=null&&(S(nt)&&(nt=R(nt,at+(nt.key==null||D&&D.key===nt.key?"":(""+nt.key).replace(V,"$&/")+"/")+At)),Y.push(nt)),1;At=0;var he=et===""?".":et+":";if(It(D))for(var xt=0;xt<D.length;xt++)et=D[xt],bt=he+U(et,xt),At+=ce(et,Y,at,bt,nt);else if(xt=z(D),typeof xt=="function")for(D=xt.call(D),xt=0;!(et=D.next()).done;)et=et.value,bt=he+U(et,xt++),At+=ce(et,Y,at,bt,nt);else if(bt==="object"){if(typeof D.then=="function")return ce(pe(D),Y,at,et,nt);throw Y=String(D),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return At}function J(D,Y,at){if(D==null)return D;var et=[],nt=0;return ce(D,et,"","",function(bt){return Y.call(at,bt,nt++)}),et}function gt(D){if(D._status===-1){var Y=D._result;Y=Y(),Y.then(function(at){(D._status===0||D._status===-1)&&(D._status=1,D._result=at)},function(at){(D._status===0||D._status===-1)&&(D._status=2,D._result=at)}),D._status===-1&&(D._status=0,D._result=Y)}if(D._status===1)return D._result.default;throw D._result}var lt=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function qt(){}return St.Children={map:J,forEach:function(D,Y,at){J(D,function(){Y.apply(this,arguments)},at)},count:function(D){var Y=0;return J(D,function(){Y++}),Y},toArray:function(D){return J(D,function(Y){return Y})||[]},only:function(D){if(!S(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},St.Component=X,St.Fragment=i,St.Profiler=l,St.PureComponent=ft,St.StrictMode=s,St.Suspense=p,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ct,St.act=function(){throw Error("act(...) is not supported in production builds of React.")},St.cache=function(D){return function(){return D.apply(null,arguments)}},St.cloneElement=function(D,Y,at){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var et=$({},D.props),nt=D.key,bt=void 0;if(Y!=null)for(At in Y.ref!==void 0&&(bt=void 0),Y.key!==void 0&&(nt=""+Y.key),Y)!Dt.call(Y,At)||At==="key"||At==="__self"||At==="__source"||At==="ref"&&Y.ref===void 0||(et[At]=Y[At]);var At=arguments.length-2;if(At===1)et.children=at;else if(1<At){for(var he=Array(At),xt=0;xt<At;xt++)he[xt]=arguments[xt+2];et.children=he}return M(D.type,nt,void 0,void 0,bt,et)},St.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:c,_context:D},D},St.createElement=function(D,Y,at){var et,nt={},bt=null;if(Y!=null)for(et in Y.key!==void 0&&(bt=""+Y.key),Y)Dt.call(Y,et)&&et!=="key"&&et!=="__self"&&et!=="__source"&&(nt[et]=Y[et]);var At=arguments.length-2;if(At===1)nt.children=at;else if(1<At){for(var he=Array(At),xt=0;xt<At;xt++)he[xt]=arguments[xt+2];nt.children=he}if(D&&D.defaultProps)for(et in At=D.defaultProps,At)nt[et]===void 0&&(nt[et]=At[et]);return M(D,bt,void 0,void 0,null,nt)},St.createRef=function(){return{current:null}},St.forwardRef=function(D){return{$$typeof:g,render:D}},St.isValidElement=S,St.lazy=function(D){return{$$typeof:A,_payload:{_status:-1,_result:D},_init:gt}},St.memo=function(D,Y){return{$$typeof:v,type:D,compare:Y===void 0?null:Y}},St.startTransition=function(D){var Y=ct.T,at={};ct.T=at;try{var et=D(),nt=ct.S;nt!==null&&nt(at,et),typeof et=="object"&&et!==null&&typeof et.then=="function"&&et.then(qt,lt)}catch(bt){lt(bt)}finally{ct.T=Y}},St.unstable_useCacheRefresh=function(){return ct.H.useCacheRefresh()},St.use=function(D){return ct.H.use(D)},St.useActionState=function(D,Y,at){return ct.H.useActionState(D,Y,at)},St.useCallback=function(D,Y){return ct.H.useCallback(D,Y)},St.useContext=function(D){return ct.H.useContext(D)},St.useDebugValue=function(){},St.useDeferredValue=function(D,Y){return ct.H.useDeferredValue(D,Y)},St.useEffect=function(D,Y){return ct.H.useEffect(D,Y)},St.useId=function(){return ct.H.useId()},St.useImperativeHandle=function(D,Y,at){return ct.H.useImperativeHandle(D,Y,at)},St.useInsertionEffect=function(D,Y){return ct.H.useInsertionEffect(D,Y)},St.useLayoutEffect=function(D,Y){return ct.H.useLayoutEffect(D,Y)},St.useMemo=function(D,Y){return ct.H.useMemo(D,Y)},St.useOptimistic=function(D,Y){return ct.H.useOptimistic(D,Y)},St.useReducer=function(D,Y,at){return ct.H.useReducer(D,Y,at)},St.useRef=function(D){return ct.H.useRef(D)},St.useState=function(D){return ct.H.useState(D)},St.useSyncExternalStore=function(D,Y,at){return ct.H.useSyncExternalStore(D,Y,at)},St.useTransition=function(){return ct.H.useTransition()},St.version="19.0.0",St}var H_;function Xd(){return H_||(H_=1,od.exports=mA()),od.exports}var Nr=Xd(),ld={exports:{}},ll={},ud={exports:{}},cd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q_;function gA(){return q_||(q_=1,function(r){function t(J,gt){var lt=J.length;J.push(gt);t:for(;0<lt;){var qt=lt-1>>>1,D=J[qt];if(0<l(D,gt))J[qt]=gt,J[lt]=D,lt=qt;else break t}}function i(J){return J.length===0?null:J[0]}function s(J){if(J.length===0)return null;var gt=J[0],lt=J.pop();if(lt!==gt){J[0]=lt;t:for(var qt=0,D=J.length,Y=D>>>1;qt<Y;){var at=2*(qt+1)-1,et=J[at],nt=at+1,bt=J[nt];if(0>l(et,lt))nt<D&&0>l(bt,et)?(J[qt]=bt,J[nt]=lt,qt=nt):(J[qt]=et,J[at]=lt,qt=at);else if(nt<D&&0>l(bt,lt))J[qt]=bt,J[nt]=lt,qt=nt;else break t}}return gt}function l(J,gt){var lt=J.sortIndex-gt.sortIndex;return lt!==0?lt:J.id-gt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var p=[],v=[],A=1,C=null,z=3,j=!1,$=!1,tt=!1,X=typeof setTimeout=="function"?setTimeout:null,Tt=typeof clearTimeout=="function"?clearTimeout:null,ft=typeof setImmediate<"u"?setImmediate:null;function Z(J){for(var gt=i(v);gt!==null;){if(gt.callback===null)s(v);else if(gt.startTime<=J)s(v),gt.sortIndex=gt.expirationTime,t(p,gt);else break;gt=i(v)}}function It(J){if(tt=!1,Z(J),!$)if(i(p)!==null)$=!0,pe();else{var gt=i(v);gt!==null&&ce(It,gt.startTime-J)}}var ct=!1,Dt=-1,M=5,R=-1;function S(){return!(r.unstable_now()-R<M)}function I(){if(ct){var J=r.unstable_now();R=J;var gt=!0;try{t:{$=!1,tt&&(tt=!1,Tt(Dt),Dt=-1),j=!0;var lt=z;try{e:{for(Z(J),C=i(p);C!==null&&!(C.expirationTime>J&&S());){var qt=C.callback;if(typeof qt=="function"){C.callback=null,z=C.priorityLevel;var D=qt(C.expirationTime<=J);if(J=r.unstable_now(),typeof D=="function"){C.callback=D,Z(J),gt=!0;break e}C===i(p)&&s(p),Z(J)}else s(p);C=i(p)}if(C!==null)gt=!0;else{var Y=i(v);Y!==null&&ce(It,Y.startTime-J),gt=!1}}break t}finally{C=null,z=lt,j=!1}gt=void 0}}finally{gt?V():ct=!1}}}var V;if(typeof ft=="function")V=function(){ft(I)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,w=U.port2;U.port1.onmessage=I,V=function(){w.postMessage(null)}}else V=function(){X(I,0)};function pe(){ct||(ct=!0,V())}function ce(J,gt){Dt=X(function(){J(r.unstable_now())},gt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(J){J.callback=null},r.unstable_continueExecution=function(){$||j||($=!0,pe())},r.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<J?Math.floor(1e3/J):5},r.unstable_getCurrentPriorityLevel=function(){return z},r.unstable_getFirstCallbackNode=function(){return i(p)},r.unstable_next=function(J){switch(z){case 1:case 2:case 3:var gt=3;break;default:gt=z}var lt=z;z=gt;try{return J()}finally{z=lt}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(J,gt){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var lt=z;z=J;try{return gt()}finally{z=lt}},r.unstable_scheduleCallback=function(J,gt,lt){var qt=r.unstable_now();switch(typeof lt=="object"&&lt!==null?(lt=lt.delay,lt=typeof lt=="number"&&0<lt?qt+lt:qt):lt=qt,J){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=lt+D,J={id:A++,callback:gt,priorityLevel:J,startTime:lt,expirationTime:D,sortIndex:-1},lt>qt?(J.sortIndex=lt,t(v,J),i(p)===null&&J===i(v)&&(tt?(Tt(Dt),Dt=-1):tt=!0,ce(It,lt-qt))):(J.sortIndex=D,t(p,J),$||j||($=!0,pe())),J},r.unstable_shouldYield=S,r.unstable_wrapCallback=function(J){var gt=z;return function(){var lt=z;z=gt;try{return J.apply(this,arguments)}finally{z=lt}}}}(cd)),cd}var j_;function pA(){return j_||(j_=1,ud.exports=gA()),ud.exports}var hd={exports:{}},je={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F_;function _A(){if(F_)return je;F_=1;var r=Xd();function t(p){var v="https://react.dev/errors/"+p;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)v+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+p+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(p,v,A){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:C==null?null:""+C,children:p,containerInfo:v,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,v){if(p==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return je.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,je.createPortal=function(p,v){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return c(p,v,null,A)},je.flushSync=function(p){var v=d.T,A=s.p;try{if(d.T=null,s.p=2,p)return p()}finally{d.T=v,s.p=A,s.d.f()}},je.preconnect=function(p,v){typeof p=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,s.d.C(p,v))},je.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},je.preinit=function(p,v){if(typeof p=="string"&&v&&typeof v.as=="string"){var A=v.as,C=g(A,v.crossOrigin),z=typeof v.integrity=="string"?v.integrity:void 0,j=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;A==="style"?s.d.S(p,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:C,integrity:z,fetchPriority:j}):A==="script"&&s.d.X(p,{crossOrigin:C,integrity:z,fetchPriority:j,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},je.preinitModule=function(p,v){if(typeof p=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var A=g(v.as,v.crossOrigin);s.d.M(p,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&s.d.M(p)},je.preload=function(p,v){if(typeof p=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var A=v.as,C=g(A,v.crossOrigin);s.d.L(p,A,{crossOrigin:C,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},je.preloadModule=function(p,v){if(typeof p=="string")if(v){var A=g(v.as,v.crossOrigin);s.d.m(p,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else s.d.m(p)},je.requestFormReset=function(p){s.d.r(p)},je.unstable_batchedUpdates=function(p,v){return p(v)},je.useFormState=function(p,v,A){return d.H.useFormState(p,v,A)},je.useFormStatus=function(){return d.H.useHostTransitionStatus()},je.version="19.0.0",je}var G_;function yA(){if(G_)return hd.exports;G_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),hd.exports=_A(),hd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K_;function vA(){if(K_)return ll;K_=1;var r=pA(),t=Xd(),i=yA();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}var c=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),z=Symbol.for("react.consumer"),j=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),tt=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),Tt=Symbol.for("react.memo"),ft=Symbol.for("react.lazy"),Z=Symbol.for("react.offscreen"),It=Symbol.for("react.memo_cache_sentinel"),ct=Symbol.iterator;function Dt(e){return e===null||typeof e!="object"?null:(e=ct&&e[ct]||e["@@iterator"],typeof e=="function"?e:null)}var M=Symbol.for("react.client.reference");function R(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===M?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case p:return"Fragment";case g:return"Portal";case A:return"Profiler";case v:return"StrictMode";case tt:return"Suspense";case X:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case j:return(e.displayName||"Context")+".Provider";case z:return(e._context.displayName||"Context")+".Consumer";case $:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Tt:return n=e.displayName||null,n!==null?n:R(e.type)||"Memo";case ft:n=e._payload,e=e._init;try{return R(e(n))}catch{}}return null}var S=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=Object.assign,V,U;function w(e){if(V===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);V=n&&n[1]||"",U=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+V+e+U}var pe=!1;function ce(e,n){if(!e||pe)return"";pe=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(H){var x=H}Reflect.construct(e,[],K)}else{try{K.call()}catch(H){x=H}e.call(K.prototype)}}else{try{throw Error()}catch(H){x=H}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(H){if(H&&x&&typeof H.stack=="string")return[H.stack,x.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var b=y.split(`
`),N=E.split(`
`);for(h=o=0;o<b.length&&!b[o].includes("DetermineComponentFrameRoot");)o++;for(;h<N.length&&!N[h].includes("DetermineComponentFrameRoot");)h++;if(o===b.length||h===N.length)for(o=b.length-1,h=N.length-1;1<=o&&0<=h&&b[o]!==N[h];)h--;for(;1<=o&&0<=h;o--,h--)if(b[o]!==N[h]){if(o!==1||h!==1)do if(o--,h--,0>h||b[o]!==N[h]){var q=`
`+b[o].replace(" at new "," at ");return e.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",e.displayName)),q}while(1<=o&&0<=h);break}}}finally{pe=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?w(a):""}function J(e){switch(e.tag){case 26:case 27:case 5:return w(e.type);case 16:return w("Lazy");case 13:return w("Suspense");case 19:return w("SuspenseList");case 0:case 15:return e=ce(e.type,!1),e;case 11:return e=ce(e.type.render,!1),e;case 1:return e=ce(e.type,!0),e;default:return""}}function gt(e){try{var n="";do n+=J(e),e=e.return;while(e);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function lt(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function qt(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function D(e){if(lt(e)!==e)throw Error(s(188))}function Y(e){var n=e.alternate;if(!n){if(n=lt(e),n===null)throw Error(s(188));return n!==e?null:e}for(var a=e,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return D(h),e;if(f===o)return D(h),n;f=f.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=f;else{for(var y=!1,E=h.child;E;){if(E===a){y=!0,a=h,o=f;break}if(E===o){y=!0,o=h,a=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===a){y=!0,a=f,o=h;break}if(E===o){y=!0,o=f,a=h;break}E=E.sibling}if(!y)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:n}function at(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=at(e),n!==null)return n;e=e.sibling}return null}var et=Array.isArray,nt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,bt={pending:!1,data:null,method:null,action:null},At=[],he=-1;function xt(e){return{current:e}}function ne(e){0>he||(e.current=At[he],At[he]=null,he--)}function Gt(e,n){he++,At[he]=e.current,e.current=n}var Ye=xt(null),hi=xt(null),dn=xt(null),Qi=xt(null);function Yi(e,n){switch(Gt(dn,n),Gt(hi,e),Gt(Ye,null),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)&&(n=n.namespaceURI)?d_(n):0;break;default:if(e=e===8?n.parentNode:n,n=e.tagName,e=e.namespaceURI)e=d_(e),n=m_(e,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ne(Ye),Gt(Ye,n)}function fi(){ne(Ye),ne(hi),ne(dn)}function eo(e){e.memoizedState!==null&&Gt(Qi,e);var n=Ye.current,a=m_(n,e.type);n!==a&&(Gt(hi,e),Gt(Ye,a))}function qs(e){hi.current===e&&(ne(Ye),ne(hi)),Qi.current===e&&(ne(Qi),nl._currentValue=bt)}var js=Object.prototype.hasOwnProperty,Wr=r.unstable_scheduleCallback,Fs=r.unstable_cancelCallback,oh=r.unstable_shouldYield,no=r.unstable_requestPaint,tn=r.unstable_now,zl=r.unstable_getCurrentPriorityLevel,_e=r.unstable_ImmediatePriority,we=r.unstable_UserBlockingPriority,di=r.unstable_NormalPriority,Bl=r.unstable_LowPriority,io=r.unstable_IdlePriority,lh=r.log,Zr=r.unstable_setDisableYieldValue,Xi=null,He=null;function ro(e){if(He&&typeof He.onCommitFiberRoot=="function")try{He.onCommitFiberRoot(Xi,e,void 0,(e.current.flags&128)===128)}catch{}}function Hn(e){if(typeof lh=="function"&&Zr(e),He&&typeof He.setStrictMode=="function")try{He.setStrictMode(Xi,e)}catch{}}var Xe=Math.clz32?Math.clz32:ql,so=Math.log,Hl=Math.LN2;function ql(e){return e>>>=0,e===0?32:31-(so(e)/Hl|0)|0}var qn=128,$i=4194304;function Vn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function mn(e,n){var a=e.pendingLanes;if(a===0)return 0;var o=0,h=e.suspendedLanes,f=e.pingedLanes,y=e.warmLanes;e=e.finishedLanes!==0;var E=a&134217727;return E!==0?(a=E&~h,a!==0?o=Vn(a):(f&=E,f!==0?o=Vn(f):e||(y=E&~y,y!==0&&(o=Vn(y))))):(E=a&~h,E!==0?o=Vn(E):f!==0?o=Vn(f):e||(y=a&~y,y!==0&&(o=Vn(y)))),o===0?0:n!==0&&n!==o&&(n&h)===0&&(h=o&-o,y=n&-n,h>=y||h===32&&(y&4194176)!==0)?n:o}function Wi(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Gs(e,n){switch(e){case 1:case 2:case 4:case 8:return n+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ao(){var e=qn;return qn<<=1,(qn&4194176)===0&&(qn=128),e}function Zi(){var e=$i;return $i<<=1,($i&62914560)===0&&($i=4194304),e}function Ks(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function oe(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function jl(e,n,a,o,h,f){var y=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,b=e.expirationTimes,N=e.hiddenUpdates;for(a=y&~a;0<a;){var q=31-Xe(a),K=1<<q;E[q]=0,b[q]=-1;var x=N[q];if(x!==null)for(N[q]=null,q=0;q<x.length;q++){var H=x[q];H!==null&&(H.lane&=-536870913)}a&=~K}o!==0&&Ji(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(y&~n))}function Ji(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-Xe(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|a&4194218}function tr(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var o=31-Xe(a),h=1<<o;h&n|e[o]&n&&(e[o]|=n),a&=~h}}function Fl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Gl(){var e=nt.p;return e!==0?e:(e=window.event,e===void 0?32:V_(e.type))}function er(e,n){var a=nt.p;try{return nt.p=e,n()}finally{nt.p=a}}var jn=Math.random().toString(36).slice(2),Ie="__reactFiber$"+jn,ye="__reactProps$"+jn,mi="__reactContainer$"+jn,Jr="__reactEvents$"+jn,Qs="__reactListeners$"+jn,Fn="__reactHandles$"+jn,oo="__reactResources$"+jn,nr="__reactMarker$"+jn;function ts(e){delete e[Ie],delete e[ye],delete e[Jr],delete e[Qs],delete e[Fn]}function Mn(e){var n=e[Ie];if(n)return n;for(var a=e.parentNode;a;){if(n=a[mi]||a[Ie]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=__(e);e!==null;){if(a=e[Ie])return a;e=__(e)}return n}e=a,a=e.parentNode}return null}function gi(e){if(e=e[Ie]||e[mi]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function ir(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function rr(e){var n=e[oo];return n||(n=e[oo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Zt(e){e[nr]=!0}var lo=new Set,Ys={};function sn(e,n){en(e,n),en(e+"Capture",n)}function en(e,n){for(Ys[e]=n,e=0;e<n.length;e++)lo.add(n[e])}var an=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),uh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),uo={},co={};function Kl(e){return js.call(co,e)?!0:js.call(uo,e)?!1:uh.test(e)?co[e]=!0:(uo[e]=!0,!1)}function sr(e,n,a){if(Kl(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function ar(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function gn(e,n,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+o)}}function $e(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ql(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ch(e){var n=Ql(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),o=""+e[n];if(!e.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,f=a.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(y){o=""+y,f.call(this,y)}}),Object.defineProperty(e,n,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(y){o=""+y},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function es(e){e._valueTracker||(e._valueTracker=ch(e))}function ho(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return e&&(o=Ql(e)?e.checked?"true":"false":e.value),e=o,e!==a?(n.setValue(e),!0):!1}function Xs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var pi=/[\n"\\]/g;function ie(e){return e.replace(pi,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function or(e,n,a,o,h,f,y,E){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),n!=null?y==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+$e(n)):e.value!==""+$e(n)&&(e.value=""+$e(n)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),n!=null?$s(e,y,$e(n)):a!=null?$s(e,y,$e(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+$e(E):e.removeAttribute("name")}function ns(e,n,a,o,h,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;a=a!=null?""+$e(a):"",n=n!=null?""+$e(n):a,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y)}function $s(e,n,a){n==="number"&&Xs(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function zt(e,n,a,o){if(e=e.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=n.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+$e(a),n=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function is(e,n,a){if(n!=null&&(n=""+$e(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+$e(a):""}function lr(e,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(s(92));if(et(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=$e(n),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o)}function pn(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var hh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fo(e,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,a):typeof a!="number"||a===0||hh.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function Yl(e,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&fo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&fo(e,f,n[f])}function mo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),dh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Gn(e){return dh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var _n=null;function Ws(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _i=null,yi=null;function vi(e){var n=gi(e);if(n&&(e=n.stateNode)){var a=e[ye]||null;t:switch(e=n.stateNode,n.type){case"input":if(or(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ie(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==e&&o.form===e.form){var h=o[ye]||null;if(!h)throw Error(s(90));or(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===e.form&&ho(o)}break t;case"textarea":is(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&zt(e,!!a.multiple,n,!1)}}}var go=!1;function Xl(e,n,a){if(go)return e(n,a);go=!0;try{var o=e(n);return o}finally{if(go=!1,(_i!==null||yi!==null)&&(Bu(),_i&&(n=_i,e=yi,yi=_i=null,vi(n),e)))for(n=0;n<e.length;n++)vi(e[n])}}function rs(e,n){var a=e.stateNode;if(a===null)return null;var o=a[ye]||null;if(o===null)return null;a=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var yn=!1;if(an)try{var ss={};Object.defineProperty(ss,"passive",{get:function(){yn=!0}}),window.addEventListener("test",ss,ss),window.removeEventListener("test",ss,ss)}catch{yn=!1}var Kn=null,ur=null,Ei=null;function po(){if(Ei)return Ei;var e,n=ur,a=n.length,o,h="value"in Kn?Kn.value:Kn.textContent,f=h.length;for(e=0;e<a&&n[e]===h[e];e++);var y=a-e;for(o=1;o<=y&&n[a-o]===h[f-o];o++);return Ei=h.slice(e,1<o?1-o:void 0)}function Qn(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Yn(){return!0}function _o(){return!1}function Ce(e){function n(a,o,h,f,y){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Yn:_o,this.isPropagationStopped=_o,this}return I(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Yn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Yn)},persist:function(){},isPersistent:Yn}),n}var jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zs=Ce(jt),as=I({},jt,{view:0,detail:0}),$l=Ce(as),Js,ta,Xn,os=I({},as,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xn&&(Xn&&e.type==="mousemove"?(Js=e.screenX-Xn.screenX,ta=e.screenY-Xn.screenY):ta=Js=0,Xn=e),Js)},movementY:function(e){return"movementY"in e?e.movementY:ta}}),vn=Ce(os),Wl=I({},os,{dataTransfer:0}),mh=Ce(Wl),ls=I({},as,{relatedTarget:0}),ea=Ce(ls),yo=I({},jt,{animationName:0,elapsedTime:0,pseudoElement:0}),na=Ce(yo),Zl=I({},jt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ia=Ce(Zl),gh=I({},jt,{data:0}),vo=Ce(gh),us={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Eo(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=tu[e])?!!n[e]:!1}function cs(){return Eo}var eu=I({},as,{key:function(e){if(e.key){var n=us[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Qn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Jl[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cs,charCode:function(e){return e.type==="keypress"?Qn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Qn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ra=Ce(eu),nu=I({},os,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),To=Ce(nu),Ti=I({},as,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cs}),iu=Ce(Ti),ru=I({},jt,{propertyName:0,elapsedTime:0,pseudoElement:0}),su=Ce(ru),au=I({},os,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),sa=Ce(au),We=I({},jt,{newState:0,oldState:0}),ou=Ce(We),lu=[9,13,27,32],$n=an&&"CompositionEvent"in window,u=null;an&&"documentMode"in document&&(u=document.documentMode);var m=an&&"TextEvent"in window&&!u,_=an&&(!$n||u&&8<u&&11>=u),T=" ",k=!1;function B(e,n){switch(e){case"keyup":return lu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function W(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Pt=!1;function ve(e,n){switch(e){case"compositionend":return W(n);case"keypress":return n.which!==32?null:(k=!0,T);case"textInput":return e=n.data,e===T&&k?null:e;default:return null}}function kt(e,n){if(Pt)return e==="compositionend"||!$n&&B(e,n)?(e=po(),Ei=ur=Kn=null,Pt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return _&&n.locale!=="ko"?null:n.data;default:return null}}var De={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ee(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!De[e.type]:n==="textarea"}function Ai(e,n,a,o){_i?yi?yi.push(o):yi=[o]:_i=o,n=Gu(n,"onChange"),0<n.length&&(a=new Zs("onChange","change",null,a,o),e.push({event:a,listeners:n}))}var Pe=null,Wn=null;function Ao(e){l_(e,0)}function uu(e){var n=ir(e);if(ho(n))return e}function Lm(e,n){if(e==="change")return n}var xm=!1;if(an){var ph;if(an){var _h="oninput"in document;if(!_h){var zm=document.createElement("div");zm.setAttribute("oninput","return;"),_h=typeof zm.oninput=="function"}ph=_h}else ph=!1;xm=ph&&(!document.documentMode||9<document.documentMode)}function Bm(){Pe&&(Pe.detachEvent("onpropertychange",Hm),Wn=Pe=null)}function Hm(e){if(e.propertyName==="value"&&uu(Wn)){var n=[];Ai(n,Wn,e,Ws(e)),Xl(Ao,n)}}function qT(e,n,a){e==="focusin"?(Bm(),Pe=n,Wn=a,Pe.attachEvent("onpropertychange",Hm)):e==="focusout"&&Bm()}function jT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return uu(Wn)}function FT(e,n){if(e==="click")return uu(n)}function GT(e,n){if(e==="input"||e==="change")return uu(n)}function KT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var on=typeof Object.is=="function"?Object.is:KT;function So(e,n){if(on(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!js.call(n,h)||!on(e[h],n[h]))return!1}return!0}function qm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jm(e,n){var a=qm(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=n&&o>=n)return{node:a,offset:n-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=qm(a)}}function Fm(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Fm(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Gm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Xs(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=Xs(e.document)}return n}function yh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function QT(e,n){var a=Gm(n);n=e.focusedElem;var o=e.selectionRange;if(a!==n&&n&&n.ownerDocument&&Fm(n.ownerDocument.documentElement,n)){if(o!==null&&yh(n)){if(e=o.start,a=o.end,a===void 0&&(a=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(a,n.value.length);else if(a=(e=n.ownerDocument||document)&&e.defaultView||window,a.getSelection){a=a.getSelection();var h=n.textContent.length,f=Math.min(o.start,h);o=o.end===void 0?f:Math.min(o.end,h),!a.extend&&f>o&&(h=o,o=f,f=h),h=jm(n,f);var y=jm(n,o);h&&y&&(a.rangeCount!==1||a.anchorNode!==h.node||a.anchorOffset!==h.offset||a.focusNode!==y.node||a.focusOffset!==y.offset)&&(e=e.createRange(),e.setStart(h.node,h.offset),a.removeAllRanges(),f>o?(a.addRange(e),a.extend(y.node,y.offset)):(e.setEnd(y.node,y.offset),a.addRange(e)))}}for(e=[],a=n;a=a.parentNode;)a.nodeType===1&&e.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)a=e[n],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var YT=an&&"documentMode"in document&&11>=document.documentMode,aa=null,vh=null,bo=null,Eh=!1;function Km(e,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Eh||aa==null||aa!==Xs(o)||(o=aa,"selectionStart"in o&&yh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),bo&&So(bo,o)||(bo=o,o=Gu(vh,"onSelect"),0<o.length&&(n=new Zs("onSelect","select",null,n,a),e.push({event:n,listeners:o}),n.target=aa)))}function hs(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var oa={animationend:hs("Animation","AnimationEnd"),animationiteration:hs("Animation","AnimationIteration"),animationstart:hs("Animation","AnimationStart"),transitionrun:hs("Transition","TransitionRun"),transitionstart:hs("Transition","TransitionStart"),transitioncancel:hs("Transition","TransitionCancel"),transitionend:hs("Transition","TransitionEnd")},Th={},Qm={};an&&(Qm=document.createElement("div").style,"AnimationEvent"in window||(delete oa.animationend.animation,delete oa.animationiteration.animation,delete oa.animationstart.animation),"TransitionEvent"in window||delete oa.transitionend.transition);function fs(e){if(Th[e])return Th[e];if(!oa[e])return e;var n=oa[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in Qm)return Th[e]=n[a];return e}var Ym=fs("animationend"),Xm=fs("animationiteration"),$m=fs("animationstart"),XT=fs("transitionrun"),$T=fs("transitionstart"),WT=fs("transitioncancel"),Wm=fs("transitionend"),Zm=new Map,Jm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Pn(e,n){Zm.set(e,n),sn(n,[e])}var En=[],la=0,Ah=0;function cu(){for(var e=la,n=Ah=la=0;n<e;){var a=En[n];En[n++]=null;var o=En[n];En[n++]=null;var h=En[n];En[n++]=null;var f=En[n];if(En[n++]=null,o!==null&&h!==null){var y=o.pending;y===null?h.next=h:(h.next=y.next,y.next=h),o.pending=h}f!==0&&tg(a,h,f)}}function hu(e,n,a,o){En[la++]=e,En[la++]=n,En[la++]=a,En[la++]=o,Ah|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Sh(e,n,a,o){return hu(e,n,a,o),fu(e)}function cr(e,n){return hu(e,null,null,n),fu(e)}function tg(e,n,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;h&&n!==null&&e.tag===3&&(f=e.stateNode,h=31-Xe(a),f=f.hiddenUpdates,e=f[h],e===null?f[h]=[n]:e.push(n),n.lane=a|536870912)}function fu(e){if(50<Xo)throw Xo=0,Of=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ua={},eg=new WeakMap;function Tn(e,n){if(typeof e=="object"&&e!==null){var a=eg.get(e);return a!==void 0?a:(n={value:e,source:n,stack:gt(n)},eg.set(e,n),n)}return{value:e,source:n,stack:gt(n)}}var ca=[],ha=0,du=null,mu=0,An=[],Sn=0,ds=null,Si=1,bi="";function ms(e,n){ca[ha++]=mu,ca[ha++]=du,du=e,mu=n}function ng(e,n,a){An[Sn++]=Si,An[Sn++]=bi,An[Sn++]=ds,ds=e;var o=Si;e=bi;var h=32-Xe(o)-1;o&=~(1<<h),a+=1;var f=32-Xe(n)+h;if(30<f){var y=h-h%5;f=(o&(1<<y)-1).toString(32),o>>=y,h-=y,Si=1<<32-Xe(n)+h|a<<h|o,bi=f+e}else Si=1<<f|a<<h|o,bi=e}function bh(e){e.return!==null&&(ms(e,1),ng(e,1,0))}function Rh(e){for(;e===du;)du=ca[--ha],ca[ha]=null,mu=ca[--ha],ca[ha]=null;for(;e===ds;)ds=An[--Sn],An[Sn]=null,bi=An[--Sn],An[Sn]=null,Si=An[--Sn],An[Sn]=null}var Ze=null,ke=null,Bt=!1,kn=null,Zn=!1,wh=Error(s(519));function gs(e){var n=Error(s(418,""));throw Io(Tn(n,e)),wh}function ig(e){var n=e.stateNode,a=e.type,o=e.memoizedProps;switch(n[Ie]=e,n[ye]=o,a){case"dialog":Vt("cancel",n),Vt("close",n);break;case"iframe":case"object":case"embed":Vt("load",n);break;case"video":case"audio":for(a=0;a<Wo.length;a++)Vt(Wo[a],n);break;case"source":Vt("error",n);break;case"img":case"image":case"link":Vt("error",n),Vt("load",n);break;case"details":Vt("toggle",n);break;case"input":Vt("invalid",n),ns(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),es(n);break;case"select":Vt("invalid",n);break;case"textarea":Vt("invalid",n),lr(n,o.value,o.defaultValue,o.children),es(n)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||f_(n.textContent,a)?(o.popover!=null&&(Vt("beforetoggle",n),Vt("toggle",n)),o.onScroll!=null&&Vt("scroll",n),o.onScrollEnd!=null&&Vt("scrollend",n),o.onClick!=null&&(n.onclick=Ku),n=!0):n=!1,n||gs(e)}function rg(e){for(Ze=e.return;Ze;)switch(Ze.tag){case 3:case 27:Zn=!0;return;case 5:case 13:Zn=!1;return;default:Ze=Ze.return}}function Ro(e){if(e!==Ze)return!1;if(!Bt)return rg(e),Bt=!0,!1;var n=!1,a;if((a=e.tag!==3&&e.tag!==27)&&((a=e.tag===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Qf(e.type,e.memoizedProps)),a=!a),a&&(n=!0),n&&ke&&gs(e),rg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(n===0){ke=Ln(e.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;e=e.nextSibling}ke=null}}else ke=Ze?Ln(e.stateNode.nextSibling):null;return!0}function wo(){ke=Ze=null,Bt=!1}function Io(e){kn===null?kn=[e]:kn.push(e)}var Co=Error(s(460)),sg=Error(s(474)),Ih={then:function(){}};function ag(e){return e=e.status,e==="fulfilled"||e==="rejected"}function gu(){}function og(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(gu,gu),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,e===Co?Error(s(483)):e;default:if(typeof n.status=="string")n.then(gu,gu);else{if(e=Xt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,e===Co?Error(s(483)):e}throw Do=n,Co}}var Do=null;function lg(){if(Do===null)throw Error(s(459));var e=Do;return Do=null,e}var fa=null,Oo=0;function pu(e){var n=Oo;return Oo+=1,fa===null&&(fa=[]),og(fa,e,n)}function No(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function _u(e,n){throw n.$$typeof===c?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function ug(e){var n=e._init;return n(e._payload)}function cg(e){function n(P,O){if(e){var L=P.deletions;L===null?(P.deletions=[O],P.flags|=16):L.push(O)}}function a(P,O){if(!e)return null;for(;O!==null;)n(P,O),O=O.sibling;return null}function o(P){for(var O=new Map;P!==null;)P.key!==null?O.set(P.key,P):O.set(P.index,P),P=P.sibling;return O}function h(P,O){return P=Ar(P,O),P.index=0,P.sibling=null,P}function f(P,O,L){return P.index=L,e?(L=P.alternate,L!==null?(L=L.index,L<O?(P.flags|=33554434,O):L):(P.flags|=33554434,O)):(P.flags|=1048576,O)}function y(P){return e&&P.alternate===null&&(P.flags|=33554434),P}function E(P,O,L,F){return O===null||O.tag!==6?(O=Af(L,P.mode,F),O.return=P,O):(O=h(O,L),O.return=P,O)}function b(P,O,L,F){var rt=L.type;return rt===p?q(P,O,L.props.children,F,L.key):O!==null&&(O.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===ft&&ug(rt)===O.type)?(O=h(O,L.props),No(O,L),O.return=P,O):(O=ku(L.type,L.key,L.props,null,P.mode,F),No(O,L),O.return=P,O)}function N(P,O,L,F){return O===null||O.tag!==4||O.stateNode.containerInfo!==L.containerInfo||O.stateNode.implementation!==L.implementation?(O=Sf(L,P.mode,F),O.return=P,O):(O=h(O,L.children||[]),O.return=P,O)}function q(P,O,L,F,rt){return O===null||O.tag!==7?(O=Rs(L,P.mode,F,rt),O.return=P,O):(O=h(O,L),O.return=P,O)}function K(P,O,L){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Af(""+O,P.mode,L),O.return=P,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case d:return L=ku(O.type,O.key,O.props,null,P.mode,L),No(L,O),L.return=P,L;case g:return O=Sf(O,P.mode,L),O.return=P,O;case ft:var F=O._init;return O=F(O._payload),K(P,O,L)}if(et(O)||Dt(O))return O=Rs(O,P.mode,L,null),O.return=P,O;if(typeof O.then=="function")return K(P,pu(O),L);if(O.$$typeof===j)return K(P,Vu(P,O),L);_u(P,O)}return null}function x(P,O,L,F){var rt=O!==null?O.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return rt!==null?null:E(P,O,""+L,F);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case d:return L.key===rt?b(P,O,L,F):null;case g:return L.key===rt?N(P,O,L,F):null;case ft:return rt=L._init,L=rt(L._payload),x(P,O,L,F)}if(et(L)||Dt(L))return rt!==null?null:q(P,O,L,F,null);if(typeof L.then=="function")return x(P,O,pu(L),F);if(L.$$typeof===j)return x(P,O,Vu(P,L),F);_u(P,L)}return null}function H(P,O,L,F,rt){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return P=P.get(L)||null,E(O,P,""+F,rt);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case d:return P=P.get(F.key===null?L:F.key)||null,b(O,P,F,rt);case g:return P=P.get(F.key===null?L:F.key)||null,N(O,P,F,rt);case ft:var wt=F._init;return F=wt(F._payload),H(P,O,L,F,rt)}if(et(F)||Dt(F))return P=P.get(L)||null,q(O,P,F,rt,null);if(typeof F.then=="function")return H(P,O,L,pu(F),rt);if(F.$$typeof===j)return H(P,O,L,Vu(O,F),rt);_u(O,F)}return null}function st(P,O,L,F){for(var rt=null,wt=null,ot=O,dt=O=0,Ve=null;ot!==null&&dt<L.length;dt++){ot.index>dt?(Ve=ot,ot=null):Ve=ot.sibling;var Ht=x(P,ot,L[dt],F);if(Ht===null){ot===null&&(ot=Ve);break}e&&ot&&Ht.alternate===null&&n(P,ot),O=f(Ht,O,dt),wt===null?rt=Ht:wt.sibling=Ht,wt=Ht,ot=Ve}if(dt===L.length)return a(P,ot),Bt&&ms(P,dt),rt;if(ot===null){for(;dt<L.length;dt++)ot=K(P,L[dt],F),ot!==null&&(O=f(ot,O,dt),wt===null?rt=ot:wt.sibling=ot,wt=ot);return Bt&&ms(P,dt),rt}for(ot=o(ot);dt<L.length;dt++)Ve=H(ot,P,dt,L[dt],F),Ve!==null&&(e&&Ve.alternate!==null&&ot.delete(Ve.key===null?dt:Ve.key),O=f(Ve,O,dt),wt===null?rt=Ve:wt.sibling=Ve,wt=Ve);return e&&ot.forEach(function(Dr){return n(P,Dr)}),Bt&&ms(P,dt),rt}function vt(P,O,L,F){if(L==null)throw Error(s(151));for(var rt=null,wt=null,ot=O,dt=O=0,Ve=null,Ht=L.next();ot!==null&&!Ht.done;dt++,Ht=L.next()){ot.index>dt?(Ve=ot,ot=null):Ve=ot.sibling;var Dr=x(P,ot,Ht.value,F);if(Dr===null){ot===null&&(ot=Ve);break}e&&ot&&Dr.alternate===null&&n(P,ot),O=f(Dr,O,dt),wt===null?rt=Dr:wt.sibling=Dr,wt=Dr,ot=Ve}if(Ht.done)return a(P,ot),Bt&&ms(P,dt),rt;if(ot===null){for(;!Ht.done;dt++,Ht=L.next())Ht=K(P,Ht.value,F),Ht!==null&&(O=f(Ht,O,dt),wt===null?rt=Ht:wt.sibling=Ht,wt=Ht);return Bt&&ms(P,dt),rt}for(ot=o(ot);!Ht.done;dt++,Ht=L.next())Ht=H(ot,P,dt,Ht.value,F),Ht!==null&&(e&&Ht.alternate!==null&&ot.delete(Ht.key===null?dt:Ht.key),O=f(Ht,O,dt),wt===null?rt=Ht:wt.sibling=Ht,wt=Ht);return e&&ot.forEach(function(hA){return n(P,hA)}),Bt&&ms(P,dt),rt}function ae(P,O,L,F){if(typeof L=="object"&&L!==null&&L.type===p&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case d:t:{for(var rt=L.key;O!==null;){if(O.key===rt){if(rt=L.type,rt===p){if(O.tag===7){a(P,O.sibling),F=h(O,L.props.children),F.return=P,P=F;break t}}else if(O.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===ft&&ug(rt)===O.type){a(P,O.sibling),F=h(O,L.props),No(F,L),F.return=P,P=F;break t}a(P,O);break}else n(P,O);O=O.sibling}L.type===p?(F=Rs(L.props.children,P.mode,F,L.key),F.return=P,P=F):(F=ku(L.type,L.key,L.props,null,P.mode,F),No(F,L),F.return=P,P=F)}return y(P);case g:t:{for(rt=L.key;O!==null;){if(O.key===rt)if(O.tag===4&&O.stateNode.containerInfo===L.containerInfo&&O.stateNode.implementation===L.implementation){a(P,O.sibling),F=h(O,L.children||[]),F.return=P,P=F;break t}else{a(P,O);break}else n(P,O);O=O.sibling}F=Sf(L,P.mode,F),F.return=P,P=F}return y(P);case ft:return rt=L._init,L=rt(L._payload),ae(P,O,L,F)}if(et(L))return st(P,O,L,F);if(Dt(L)){if(rt=Dt(L),typeof rt!="function")throw Error(s(150));return L=rt.call(L),vt(P,O,L,F)}if(typeof L.then=="function")return ae(P,O,pu(L),F);if(L.$$typeof===j)return ae(P,O,Vu(P,L),F);_u(P,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,O!==null&&O.tag===6?(a(P,O.sibling),F=h(O,L),F.return=P,P=F):(a(P,O),F=Af(L,P.mode,F),F.return=P,P=F),y(P)):a(P,O)}return function(P,O,L,F){try{Oo=0;var rt=ae(P,O,L,F);return fa=null,rt}catch(ot){if(ot===Co)throw ot;var wt=In(29,ot,null,P.mode);return wt.lanes=F,wt.return=P,wt}finally{}}}var ps=cg(!0),hg=cg(!1),da=xt(null),yu=xt(0);function fg(e,n){e=ki,Gt(yu,e),Gt(da,n),ki=e|n.baseLanes}function Ch(){Gt(yu,ki),Gt(da,da.current)}function Dh(){ki=yu.current,ne(da),ne(yu)}var bn=xt(null),Jn=null;function hr(e){var n=e.alternate;Gt(Te,Te.current&1),Gt(bn,e),Jn===null&&(n===null||da.current!==null||n.memoizedState!==null)&&(Jn=e)}function dg(e){if(e.tag===22){if(Gt(Te,Te.current),Gt(bn,e),Jn===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(Jn=e)}}else fr()}function fr(){Gt(Te,Te.current),Gt(bn,bn.current)}function Ri(e){ne(bn),Jn===e&&(Jn=null),ne(Te)}var Te=xt(0);function vu(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ZT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},JT=r.unstable_scheduleCallback,t0=r.unstable_NormalPriority,Ae={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Oh(){return{controller:new ZT,data:new Map,refCount:0}}function Vo(e){e.refCount--,e.refCount===0&&JT(t0,function(){e.controller.abort()})}var Mo=null,Nh=0,ma=0,ga=null;function e0(e,n){if(Mo===null){var a=Mo=[];Nh=0,ma=xf(),ga={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Nh++,n.then(mg,mg),n}function mg(){if(--Nh===0&&Mo!==null){ga!==null&&(ga.status="fulfilled");var e=Mo;Mo=null,ma=0,ga=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function n0(e,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var gg=S.S;S.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&e0(e,n),gg!==null&&gg(e,n)};var _s=xt(null);function Vh(){var e=_s.current;return e!==null?e:Xt.pooledCache}function Eu(e,n){n===null?Gt(_s,_s.current):Gt(_s,n.pool)}function pg(){var e=Vh();return e===null?null:{parent:Ae._currentValue,pool:e}}var dr=0,Rt=null,Kt=null,fe=null,Tu=!1,pa=!1,ys=!1,Au=0,Po=0,_a=null,i0=0;function le(){throw Error(s(321))}function Mh(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!on(e[a],n[a]))return!1;return!0}function Ph(e,n,a,o,h,f){return dr=f,Rt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,S.H=e===null||e.memoizedState===null?vs:mr,ys=!1,f=a(o,h),ys=!1,pa&&(f=yg(n,a,o,h)),_g(e),f}function _g(e){S.H=ti;var n=Kt!==null&&Kt.next!==null;if(dr=0,fe=Kt=Rt=null,Tu=!1,Po=0,_a=null,n)throw Error(s(300));e===null||Oe||(e=e.dependencies,e!==null&&Nu(e)&&(Oe=!0))}function yg(e,n,a,o){Rt=e;var h=0;do{if(pa&&(_a=null),Po=0,pa=!1,25<=h)throw Error(s(301));if(h+=1,fe=Kt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}S.H=Es,f=n(a,o)}while(pa);return f}function r0(){var e=S.H,n=e.useState()[0];return n=typeof n.then=="function"?ko(n):n,e=e.useState()[0],(Kt!==null?Kt.memoizedState:null)!==e&&(Rt.flags|=1024),n}function kh(){var e=Au!==0;return Au=0,e}function Uh(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function Lh(e){if(Tu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Tu=!1}dr=0,fe=Kt=Rt=null,pa=!1,Po=Au=0,_a=null}function nn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fe===null?Rt.memoizedState=fe=e:fe=fe.next=e,fe}function de(){if(Kt===null){var e=Rt.alternate;e=e!==null?e.memoizedState:null}else e=Kt.next;var n=fe===null?Rt.memoizedState:fe.next;if(n!==null)fe=n,Kt=e;else{if(e===null)throw Rt.alternate===null?Error(s(467)):Error(s(310));Kt=e,e={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},fe===null?Rt.memoizedState=fe=e:fe=fe.next=e}return fe}var Su;Su=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function ko(e){var n=Po;return Po+=1,_a===null&&(_a=[]),e=og(_a,e,n),n=Rt,(fe===null?n.memoizedState:fe.next)===null&&(n=n.alternate,S.H=n===null||n.memoizedState===null?vs:mr),e}function bu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ko(e);if(e.$$typeof===j)return qe(e)}throw Error(s(438,String(e)))}function xh(e){var n=null,a=Rt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=Rt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Su(),Rt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),o=0;o<e;o++)a[o]=It;return n.index++,a}function wi(e,n){return typeof n=="function"?n(e):n}function Ru(e){var n=de();return zh(n,Kt,e)}function zh(e,n,a){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var y=h.next;h.next=f.next,f.next=y}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=y=null,b=null,N=n,q=!1;do{var K=N.lane&-536870913;if(K!==N.lane?(Ut&K)===K:(dr&K)===K){var x=N.revertLane;if(x===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),K===ma&&(q=!0);else if((dr&x)===x){N=N.next,x===ma&&(q=!0);continue}else K={lane:0,revertLane:N.revertLane,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},b===null?(E=b=K,y=f):b=b.next=K,Rt.lanes|=x,Sr|=x;K=N.action,ys&&a(f,K),f=N.hasEagerState?N.eagerState:a(f,K)}else x={lane:K,revertLane:N.revertLane,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},b===null?(E=b=x,y=f):b=b.next=x,Rt.lanes|=K,Sr|=K;N=N.next}while(N!==null&&N!==n);if(b===null?y=f:b.next=E,!on(f,e.memoizedState)&&(Oe=!0,q&&(a=ga,a!==null)))throw a;e.memoizedState=f,e.baseState=y,e.baseQueue=b,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Bh(e){var n=de(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var y=h=h.next;do f=e(f,y.action),y=y.next;while(y!==h);on(f,n.memoizedState)||(Oe=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function vg(e,n,a){var o=Rt,h=de(),f=Bt;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var y=!on((Kt||h).memoizedState,a);if(y&&(h.memoizedState=a,Oe=!0),h=h.queue,jh(Ag.bind(null,o,h,e),[e]),h.getSnapshot!==n||y||fe!==null&&fe.memoizedState.tag&1){if(o.flags|=2048,ya(9,Tg.bind(null,o,h,a,n),{destroy:void 0},null),Xt===null)throw Error(s(349));f||(dr&60)!==0||Eg(o,n,a)}return a}function Eg(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=Rt.updateQueue,n===null?(n=Su(),Rt.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function Tg(e,n,a,o){n.value=a,n.getSnapshot=o,Sg(n)&&bg(e)}function Ag(e,n,a){return a(function(){Sg(n)&&bg(e)})}function Sg(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!on(e,a)}catch{return!0}}function bg(e){var n=cr(e,2);n!==null&&Je(n,e,2)}function Hh(e){var n=nn();if(typeof e=="function"){var a=e;if(e=a(),ys){Hn(!0);try{a()}finally{Hn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:e},n}function Rg(e,n,a,o){return e.baseState=a,zh(e,Kt,typeof o=="function"?o:wi)}function s0(e,n,a,o,h){if(Cu(e))throw Error(s(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};S.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,wg(n,f)):(f.next=a.next,n.pending=a.next=f)}}function wg(e,n){var a=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=S.T,y={};S.T=y;try{var E=a(h,o),b=S.S;b!==null&&b(y,E),Ig(e,n,E)}catch(N){qh(e,n,N)}finally{S.T=f}}else try{f=a(h,o),Ig(e,n,f)}catch(N){qh(e,n,N)}}function Ig(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Cg(e,n,o)},function(o){return qh(e,n,o)}):Cg(e,n,a)}function Cg(e,n,a){n.status="fulfilled",n.value=a,Dg(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,wg(e,a)))}function qh(e,n,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,Dg(n),n=n.next;while(n!==o)}e.action=null}function Dg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Og(e,n){return n}function Ng(e,n){if(Bt){var a=Xt.formState;if(a!==null){t:{var o=Rt;if(Bt){if(ke){e:{for(var h=ke,f=Zn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Ln(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ke=Ln(h.nextSibling),o=h.data==="F!";break t}}gs(o)}o=!1}o&&(n=a[0])}}return a=nn(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Og,lastRenderedState:n},a.queue=o,a=Xg.bind(null,Rt,o),o.dispatch=a,o=Hh(!1),f=Yh.bind(null,Rt,!1,o.queue),o=nn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,a=s0.bind(null,Rt,h,f,a),h.dispatch=a,o.memoizedState=e,[n,a,!1]}function Vg(e){var n=de();return Mg(n,Kt,e)}function Mg(e,n,a){n=zh(e,n,Og)[0],e=Ru(wi)[0],n=typeof n=="object"&&n!==null&&typeof n.then=="function"?ko(n):n;var o=de(),h=o.queue,f=h.dispatch;return a!==o.memoizedState&&(Rt.flags|=2048,ya(9,a0.bind(null,h,a),{destroy:void 0},null)),[n,f,e]}function a0(e,n){e.action=n}function Pg(e){var n=de(),a=Kt;if(a!==null)return Mg(n,a,e);de(),n=n.memoizedState,a=de();var o=a.queue.dispatch;return a.memoizedState=e,[n,o,!1]}function ya(e,n,a,o){return e={tag:e,create:n,inst:a,deps:o,next:null},n=Rt.updateQueue,n===null&&(n=Su(),Rt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,n.lastEffect=e),e}function kg(){return de().memoizedState}function wu(e,n,a,o){var h=nn();Rt.flags|=e,h.memoizedState=ya(1|n,a,{destroy:void 0},o===void 0?null:o)}function Iu(e,n,a,o){var h=de();o=o===void 0?null:o;var f=h.memoizedState.inst;Kt!==null&&o!==null&&Mh(o,Kt.memoizedState.deps)?h.memoizedState=ya(n,a,f,o):(Rt.flags|=e,h.memoizedState=ya(1|n,a,f,o))}function Ug(e,n){wu(8390656,8,e,n)}function jh(e,n){Iu(2048,8,e,n)}function Lg(e,n){return Iu(4,2,e,n)}function xg(e,n){return Iu(4,4,e,n)}function zg(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Bg(e,n,a){a=a!=null?a.concat([e]):null,Iu(4,4,zg.bind(null,n,e),a)}function Fh(){}function Hg(e,n){var a=de();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&Mh(n,o[1])?o[0]:(a.memoizedState=[e,n],e)}function qg(e,n){var a=de();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&Mh(n,o[1]))return o[0];if(o=e(),ys){Hn(!0);try{e()}finally{Hn(!1)}}return a.memoizedState=[o,n],o}function Gh(e,n,a){return a===void 0||(dr&1073741824)!==0?e.memoizedState=n:(e.memoizedState=a,e=Fp(),Rt.lanes|=e,Sr|=e,a)}function jg(e,n,a,o){return on(a,n)?a:da.current!==null?(e=Gh(e,a,o),on(e,n)||(Oe=!0),e):(dr&42)===0?(Oe=!0,e.memoizedState=a):(e=Fp(),Rt.lanes|=e,Sr|=e,n)}function Fg(e,n,a,o,h){var f=nt.p;nt.p=f!==0&&8>f?f:8;var y=S.T,E={};S.T=E,Yh(e,!1,n,a);try{var b=h(),N=S.S;if(N!==null&&N(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var q=n0(b,o);Uo(e,n,q,hn(e))}else Uo(e,n,o,hn(e))}catch(K){Uo(e,n,{then:function(){},status:"rejected",reason:K},hn())}finally{nt.p=f,S.T=y}}function o0(){}function Kh(e,n,a,o){if(e.tag!==5)throw Error(s(476));var h=Gg(e).queue;Fg(e,h,n,bt,a===null?o0:function(){return Kg(e),a(o)})}function Gg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:bt,baseState:bt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:bt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Kg(e){var n=Gg(e).next.queue;Uo(e,n,{},hn())}function Qh(){return qe(nl)}function Qg(){return de().memoizedState}function Yg(){return de().memoizedState}function l0(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=hn();e=_r(a);var o=yr(n,e,a);o!==null&&(Je(o,n,a),zo(o,n,a)),n={cache:Oh()},e.payload=n;return}n=n.return}}function u0(e,n,a){var o=hn();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Cu(e)?$g(n,a):(a=Sh(e,n,a,o),a!==null&&(Je(a,e,o),Wg(a,n,o)))}function Xg(e,n,a){var o=hn();Uo(e,n,a,o)}function Uo(e,n,a,o){var h={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Cu(e))$g(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,a);if(h.hasEagerState=!0,h.eagerState=E,on(E,y))return hu(e,n,h,0),Xt===null&&cu(),!1}catch{}finally{}if(a=Sh(e,n,h,o),a!==null)return Je(a,e,o),Wg(a,n,o),!0}return!1}function Yh(e,n,a,o){if(o={lane:2,revertLane:xf(),action:o,hasEagerState:!1,eagerState:null,next:null},Cu(e)){if(n)throw Error(s(479))}else n=Sh(e,a,o,2),n!==null&&Je(n,e,2)}function Cu(e){var n=e.alternate;return e===Rt||n!==null&&n===Rt}function $g(e,n){pa=Tu=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function Wg(e,n,a){if((a&4194176)!==0){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,tr(e,a)}}var ti={readContext:qe,use:bu,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useLayoutEffect:le,useInsertionEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useSyncExternalStore:le,useId:le};ti.useCacheRefresh=le,ti.useMemoCache=le,ti.useHostTransitionStatus=le,ti.useFormState=le,ti.useActionState=le,ti.useOptimistic=le;var vs={readContext:qe,use:bu,useCallback:function(e,n){return nn().memoizedState=[e,n===void 0?null:n],e},useContext:qe,useEffect:Ug,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,wu(4194308,4,zg.bind(null,n,e),a)},useLayoutEffect:function(e,n){return wu(4194308,4,e,n)},useInsertionEffect:function(e,n){wu(4,2,e,n)},useMemo:function(e,n){var a=nn();n=n===void 0?null:n;var o=e();if(ys){Hn(!0);try{e()}finally{Hn(!1)}}return a.memoizedState=[o,n],o},useReducer:function(e,n,a){var o=nn();if(a!==void 0){var h=a(n);if(ys){Hn(!0);try{a(n)}finally{Hn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=u0.bind(null,Rt,e),[o.memoizedState,e]},useRef:function(e){var n=nn();return e={current:e},n.memoizedState=e},useState:function(e){e=Hh(e);var n=e.queue,a=Xg.bind(null,Rt,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:Fh,useDeferredValue:function(e,n){var a=nn();return Gh(a,e,n)},useTransition:function(){var e=Hh(!1);return e=Fg.bind(null,Rt,e.queue,!0,!1),nn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var o=Rt,h=nn();if(Bt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),Xt===null)throw Error(s(349));(Ut&60)!==0||Eg(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Ug(Ag.bind(null,o,f,e),[e]),o.flags|=2048,ya(9,Tg.bind(null,o,f,a,n),{destroy:void 0},null),a},useId:function(){var e=nn(),n=Xt.identifierPrefix;if(Bt){var a=bi,o=Si;a=(o&~(1<<32-Xe(o)-1)).toString(32)+a,n=":"+n+"R"+a,a=Au++,0<a&&(n+="H"+a.toString(32)),n+=":"}else a=i0++,n=":"+n+"r"+a.toString(32)+":";return e.memoizedState=n},useCacheRefresh:function(){return nn().memoizedState=l0.bind(null,Rt)}};vs.useMemoCache=xh,vs.useHostTransitionStatus=Qh,vs.useFormState=Ng,vs.useActionState=Ng,vs.useOptimistic=function(e){var n=nn();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Yh.bind(null,Rt,!0,a),a.dispatch=n,[e,n]};var mr={readContext:qe,use:bu,useCallback:Hg,useContext:qe,useEffect:jh,useImperativeHandle:Bg,useInsertionEffect:Lg,useLayoutEffect:xg,useMemo:qg,useReducer:Ru,useRef:kg,useState:function(){return Ru(wi)},useDebugValue:Fh,useDeferredValue:function(e,n){var a=de();return jg(a,Kt.memoizedState,e,n)},useTransition:function(){var e=Ru(wi)[0],n=de().memoizedState;return[typeof e=="boolean"?e:ko(e),n]},useSyncExternalStore:vg,useId:Qg};mr.useCacheRefresh=Yg,mr.useMemoCache=xh,mr.useHostTransitionStatus=Qh,mr.useFormState=Vg,mr.useActionState=Vg,mr.useOptimistic=function(e,n){var a=de();return Rg(a,Kt,e,n)};var Es={readContext:qe,use:bu,useCallback:Hg,useContext:qe,useEffect:jh,useImperativeHandle:Bg,useInsertionEffect:Lg,useLayoutEffect:xg,useMemo:qg,useReducer:Bh,useRef:kg,useState:function(){return Bh(wi)},useDebugValue:Fh,useDeferredValue:function(e,n){var a=de();return Kt===null?Gh(a,e,n):jg(a,Kt.memoizedState,e,n)},useTransition:function(){var e=Bh(wi)[0],n=de().memoizedState;return[typeof e=="boolean"?e:ko(e),n]},useSyncExternalStore:vg,useId:Qg};Es.useCacheRefresh=Yg,Es.useMemoCache=xh,Es.useHostTransitionStatus=Qh,Es.useFormState=Pg,Es.useActionState=Pg,Es.useOptimistic=function(e,n){var a=de();return Kt!==null?Rg(a,Kt,e,n):(a.baseState=e,[e,a.queue.dispatch])};function Xh(e,n,a,o){n=e.memoizedState,a=a(o,n),a=a==null?n:I({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var $h={isMounted:function(e){return(e=e._reactInternals)?lt(e)===e:!1},enqueueSetState:function(e,n,a){e=e._reactInternals;var o=hn(),h=_r(o);h.payload=n,a!=null&&(h.callback=a),n=yr(e,h,o),n!==null&&(Je(n,e,o),zo(n,e,o))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var o=hn(),h=_r(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=yr(e,h,o),n!==null&&(Je(n,e,o),zo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=hn(),o=_r(a);o.tag=2,n!=null&&(o.callback=n),n=yr(e,o,a),n!==null&&(Je(n,e,a),zo(n,e,a))}};function Zg(e,n,a,o,h,f,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,y):n.prototype&&n.prototype.isPureReactComponent?!So(a,o)||!So(h,f):!0}function Jg(e,n,a,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==e&&$h.enqueueReplaceState(n,n.state,null)}function Ts(e,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(e=e.defaultProps){a===n&&(a=I({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var Du=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function tp(e){Du(e)}function ep(e){console.error(e)}function np(e){Du(e)}function Ou(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function ip(e,n,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Wh(e,n,a){return a=_r(a),a.tag=3,a.payload={element:null},a.callback=function(){Ou(e,n)},a}function rp(e){return e=_r(e),e.tag=3,e}function sp(e,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){ip(n,a,o)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){ip(n,a,o),typeof h!="function"&&(br===null?br=new Set([this]):br.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function c0(e,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&xo(n,a,h,!0),a=bn.current,a!==null){switch(a.tag){case 13:return Jn===null?Mf():a.alternate===null&&se===0&&(se=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Ih?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),kf(e,o,h)),!1;case 22:return a.flags|=65536,o===Ih?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),kf(e,o,h)),!1}throw Error(s(435,a.tag))}return kf(e,o,h),Mf(),!1}if(Bt)return n=bn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==wh&&(e=Error(s(422),{cause:o}),Io(Tn(e,a)))):(o!==wh&&(n=Error(s(423),{cause:o}),Io(Tn(n,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Tn(o,a),h=Wh(e.stateNode,o,h),df(e,h),se!==4&&(se=2)),!1;var f=Error(s(520),{cause:o});if(f=Tn(f,a),Qo===null?Qo=[f]:Qo.push(f),se!==4&&(se=2),n===null)return!0;o=Tn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Wh(a.stateNode,o,e),df(a,e),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(br===null||!br.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=rp(h),sp(h,e,a,o),df(a,h),!1}a=a.return}while(a!==null);return!1}var ap=Error(s(461)),Oe=!1;function Ue(e,n,a,o){n.child=e===null?hg(n,null,a,o):ps(n,e.child,a,o)}function op(e,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var y={};for(var E in o)E!=="ref"&&(y[E]=o[E])}else y=o;return Ss(n),o=Ph(e,n,a,y,f,h),E=kh(),e!==null&&!Oe?(Uh(e,n,h),Ii(e,n,h)):(Bt&&E&&bh(n),n.flags|=1,Ue(e,n,o,h),n.child)}function lp(e,n,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!Tf(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,up(e,n,f,o,h)):(e=ku(a.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!of(e,h)){var y=f.memoizedProps;if(a=a.compare,a=a!==null?a:So,a(y,o)&&e.ref===n.ref)return Ii(e,n,h)}return n.flags|=1,e=Ar(f,o),e.ref=n.ref,e.return=n,n.child=e}function up(e,n,a,o,h){if(e!==null){var f=e.memoizedProps;if(So(f,o)&&e.ref===n.ref)if(Oe=!1,n.pendingProps=o=f,of(e,h))(e.flags&131072)!==0&&(Oe=!0);else return n.lanes=e.lanes,Ii(e,n,h)}return Zh(e,n,a,o,h)}function cp(e,n,a){var o=n.pendingProps,h=o.children,f=(n.stateNode._pendingVisibility&2)!==0,y=e!==null?e.memoizedState:null;if(Lo(e,n),o.mode==="hidden"||f){if((n.flags&128)!==0){if(o=y!==null?y.baseLanes|a:a,e!==null){for(h=n.child=e.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;n.childLanes=f&~o}else n.childLanes=0,n.child=null;return hp(e,n,o,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Eu(n,y!==null?y.cachePool:null),y!==null?fg(n,y):Ch(),dg(n);else return n.lanes=n.childLanes=536870912,hp(e,n,y!==null?y.baseLanes|a:a,a)}else y!==null?(Eu(n,y.cachePool),fg(n,y),fr(),n.memoizedState=null):(e!==null&&Eu(n,null),Ch(),fr());return Ue(e,n,h,a),n.child}function hp(e,n,a,o){var h=Vh();return h=h===null?null:{parent:Ae._currentValue,pool:h},n.memoizedState={baseLanes:a,cachePool:h},e!==null&&Eu(n,null),Ch(),dg(n),e!==null&&xo(e,n,o,!0),null}function Lo(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(n.flags|=2097664)}}function Zh(e,n,a,o,h){return Ss(n),a=Ph(e,n,a,o,void 0,h),o=kh(),e!==null&&!Oe?(Uh(e,n,h),Ii(e,n,h)):(Bt&&o&&bh(n),n.flags|=1,Ue(e,n,a,h),n.child)}function fp(e,n,a,o,h,f){return Ss(n),n.updateQueue=null,a=yg(n,o,a,h),_g(e),o=kh(),e!==null&&!Oe?(Uh(e,n,f),Ii(e,n,f)):(Bt&&o&&bh(n),n.flags|=1,Ue(e,n,a,f),n.child)}function dp(e,n,a,o,h){if(Ss(n),n.stateNode===null){var f=ua,y=a.contextType;typeof y=="object"&&y!==null&&(f=qe(y)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=$h,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},hf(n),y=a.contextType,f.context=typeof y=="object"&&y!==null?qe(y):ua,f.state=n.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(Xh(n,a,y,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&$h.enqueueReplaceState(f,f.state,null),Ho(n,o,f,h),Bo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,b=Ts(a,E);f.props=b;var N=f.context,q=a.contextType;y=ua,typeof q=="object"&&q!==null&&(y=qe(q));var K=a.getDerivedStateFromProps;q=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||N!==y)&&Jg(n,f,o,y),pr=!1;var x=n.memoizedState;f.state=x,Ho(n,o,f,h),Bo(),N=n.memoizedState,E||x!==N||pr?(typeof K=="function"&&(Xh(n,a,K,o),N=n.memoizedState),(b=pr||Zg(n,a,b,o,x,N,y))?(q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=N),f.props=o,f.state=N,f.context=y,o=b):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,ff(e,n),y=n.memoizedProps,q=Ts(a,y),f.props=q,K=n.pendingProps,x=f.context,N=a.contextType,b=ua,typeof N=="object"&&N!==null&&(b=qe(N)),E=a.getDerivedStateFromProps,(N=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==K||x!==b)&&Jg(n,f,o,b),pr=!1,x=n.memoizedState,f.state=x,Ho(n,o,f,h),Bo();var H=n.memoizedState;y!==K||x!==H||pr||e!==null&&e.dependencies!==null&&Nu(e.dependencies)?(typeof E=="function"&&(Xh(n,a,E,o),H=n.memoizedState),(q=pr||Zg(n,a,q,o,x,H,b)||e!==null&&e.dependencies!==null&&Nu(e.dependencies))?(N||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,b)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&x===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&x===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=b,o=q):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&x===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&x===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Lo(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=ps(n,e.child,null,h),n.child=ps(n,null,a,h)):Ue(e,n,a,h),n.memoizedState=f.state,e=n.child):e=Ii(e,n,h),e}function mp(e,n,a,o){return wo(),n.flags|=256,Ue(e,n,a,o),n.child}var Jh={dehydrated:null,treeContext:null,retryLane:0};function tf(e){return{baseLanes:e,cachePool:pg()}}function ef(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=Cn),e}function gp(e,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=e!==null&&e.memoizedState===null?!1:(Te.current&2)!==0),y&&(h=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,e===null){if(Bt){if(h?hr(n):fr(),Bt){var E=ke,b;if(b=E){t:{for(b=E,E=Zn;b.nodeType!==8;){if(!E){E=null;break t}if(b=Ln(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(n.memoizedState={dehydrated:E,treeContext:ds!==null?{id:Si,overflow:bi}:null,retryLane:536870912},b=In(18,null,null,0),b.stateNode=E,b.return=n,n.child=b,Ze=n,ke=null,b=!0):b=!1}b||gs(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return E.data==="$!"?n.lanes=16:n.lanes=536870912,null;Ri(n)}return E=o.children,o=o.fallback,h?(fr(),h=n.mode,E=rf({mode:"hidden",children:E},h),o=Rs(o,h,a,null),E.return=n,o.return=n,E.sibling=o,n.child=E,h=n.child,h.memoizedState=tf(a),h.childLanes=ef(e,y,a),n.memoizedState=Jh,o):(hr(n),nf(n,E))}if(b=e.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(f)n.flags&256?(hr(n),n.flags&=-257,n=sf(e,n,a)):n.memoizedState!==null?(fr(),n.child=e.child,n.flags|=128,n=null):(fr(),h=o.fallback,E=n.mode,o=rf({mode:"visible",children:o.children},E),h=Rs(h,E,a,null),h.flags|=2,o.return=n,h.return=n,o.sibling=h,n.child=o,ps(n,e.child,null,a),o=n.child,o.memoizedState=tf(a),o.childLanes=ef(e,y,a),n.memoizedState=Jh,n=h);else if(hr(n),E.data==="$!"){if(y=E.nextSibling&&E.nextSibling.dataset,y)var N=y.dgst;y=N,o=Error(s(419)),o.stack="",o.digest=y,Io({value:o,source:null,stack:null}),n=sf(e,n,a)}else if(Oe||xo(e,n,a,!1),y=(a&e.childLanes)!==0,Oe||y){if(y=Xt,y!==null){if(o=a&-a,(o&42)!==0)o=1;else switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=64;break;case 268435456:o=134217728;break;default:o=0}if(o=(o&(y.suspendedLanes|a))!==0?0:o,o!==0&&o!==b.retryLane)throw b.retryLane=o,cr(e,o),Je(y,e,o),ap}E.data==="$?"||Mf(),n=sf(e,n,a)}else E.data==="$?"?(n.flags|=128,n.child=e.child,n=R0.bind(null,e),E._reactRetry=n,n=null):(e=b.treeContext,ke=Ln(E.nextSibling),Ze=n,Bt=!0,kn=null,Zn=!1,e!==null&&(An[Sn++]=Si,An[Sn++]=bi,An[Sn++]=ds,Si=e.id,bi=e.overflow,ds=n),n=nf(n,o.children),n.flags|=4096);return n}return h?(fr(),h=o.fallback,E=n.mode,b=e.child,N=b.sibling,o=Ar(b,{mode:"hidden",children:o.children}),o.subtreeFlags=b.subtreeFlags&31457280,N!==null?h=Ar(N,h):(h=Rs(h,E,a,null),h.flags|=2),h.return=n,o.return=n,o.sibling=h,n.child=o,o=h,h=n.child,E=e.child.memoizedState,E===null?E=tf(a):(b=E.cachePool,b!==null?(N=Ae._currentValue,b=b.parent!==N?{parent:N,pool:N}:b):b=pg(),E={baseLanes:E.baseLanes|a,cachePool:b}),h.memoizedState=E,h.childLanes=ef(e,y,a),n.memoizedState=Jh,o):(hr(n),a=e.child,e=a.sibling,a=Ar(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,e!==null&&(y=n.deletions,y===null?(n.deletions=[e],n.flags|=16):y.push(e)),n.child=a,n.memoizedState=null,a)}function nf(e,n){return n=rf({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function rf(e,n){return Hp(e,n,0,null)}function sf(e,n,a){return ps(n,e.child,null,a),e=nf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function pp(e,n,a){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),uf(e.return,n,a)}function af(e,n,a,o,h){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=o,f.tail=a,f.tailMode=h)}function _p(e,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;if(Ue(e,n,o.children,a),o=Te.current,(o&2)!==0)o=o&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&pp(e,a,n);else if(e.tag===19)pp(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(Gt(Te,o),h){case"forwards":for(a=n.child,h=null;a!==null;)e=a.alternate,e!==null&&vu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),af(n,!1,h,a,f);break;case"backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&vu(e)===null){n.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}af(n,!0,a,null,f);break;case"together":af(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ii(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),Sr|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(xo(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,a=Ar(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=Ar(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function of(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Nu(e)))}function h0(e,n,a){switch(n.tag){case 3:Yi(n,n.stateNode.containerInfo),gr(n,Ae,e.memoizedState.cache),wo();break;case 27:case 5:eo(n);break;case 4:Yi(n,n.stateNode.containerInfo);break;case 10:gr(n,n.type,n.memoizedProps.value);break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(hr(n),n.flags|=128,null):(a&n.child.childLanes)!==0?gp(e,n,a):(hr(n),e=Ii(e,n,a),e!==null?e.sibling:null);hr(n);break;case 19:var h=(e.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(xo(e,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return _p(e,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Gt(Te,Te.current),o)break;return null;case 22:case 23:return n.lanes=0,cp(e,n,a);case 24:gr(n,Ae,e.memoizedState.cache)}return Ii(e,n,a)}function yp(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)Oe=!0;else{if(!of(e,a)&&(n.flags&128)===0)return Oe=!1,h0(e,n,a);Oe=(e.flags&131072)!==0}else Oe=!1,Bt&&(n.flags&1048576)!==0&&ng(n,mu,n.index);switch(n.lanes=0,n.tag){case 16:t:{e=n.pendingProps;var o=n.elementType,h=o._init;if(o=h(o._payload),n.type=o,typeof o=="function")Tf(o)?(e=Ts(o,e),n.tag=1,n=dp(null,n,o,e,a)):(n.tag=0,n=Zh(null,n,o,e,a));else{if(o!=null){if(h=o.$$typeof,h===$){n.tag=11,n=op(null,n,o,e,a);break t}else if(h===Tt){n.tag=14,n=lp(null,n,o,e,a);break t}}throw n=R(o)||o,Error(s(306,n,""))}}return n;case 0:return Zh(e,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=Ts(o,n.pendingProps),dp(e,n,o,h,a);case 3:t:{if(Yi(n,n.stateNode.containerInfo),e===null)throw Error(s(387));var f=n.pendingProps;h=n.memoizedState,o=h.element,ff(e,n),Ho(n,f,null,a);var y=n.memoizedState;if(f=y.cache,gr(n,Ae,f),f!==h.cache&&cf(n,[Ae],a,!0),Bo(),f=y.element,h.isDehydrated)if(h={element:f,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=mp(e,n,f,a);break t}else if(f!==o){o=Tn(Error(s(424)),n),Io(o),n=mp(e,n,f,a);break t}else for(ke=Ln(n.stateNode.containerInfo.firstChild),Ze=n,Bt=!0,kn=null,Zn=!0,a=hg(n,null,f,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(wo(),f===o){n=Ii(e,n,a);break t}Ue(e,n,f,a)}n=n.child}return n;case 26:return Lo(e,n),e===null?(a=T_(n.type,null,n.pendingProps,null))?n.memoizedState=a:Bt||(a=n.type,e=n.pendingProps,o=Qu(dn.current).createElement(a),o[Ie]=n,o[ye]=e,Le(o,a,e),Zt(o),n.stateNode=o):n.memoizedState=T_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return eo(n),e===null&&Bt&&(o=n.stateNode=y_(n.type,n.pendingProps,dn.current),Ze=n,Zn=!0,ke=Ln(o.firstChild)),o=n.pendingProps.children,e!==null||Bt?Ue(e,n,o,a):n.child=ps(n,null,o,a),Lo(e,n),n.child;case 5:return e===null&&Bt&&((h=o=ke)&&(o=H0(o,n.type,n.pendingProps,Zn),o!==null?(n.stateNode=o,Ze=n,ke=Ln(o.firstChild),Zn=!1,h=!0):h=!1),h||gs(n)),eo(n),h=n.type,f=n.pendingProps,y=e!==null?e.memoizedProps:null,o=f.children,Qf(h,f)?o=null:y!==null&&Qf(h,y)&&(n.flags|=32),n.memoizedState!==null&&(h=Ph(e,n,r0,null,null,a),nl._currentValue=h),Lo(e,n),Ue(e,n,o,a),n.child;case 6:return e===null&&Bt&&((e=a=ke)&&(a=q0(a,n.pendingProps,Zn),a!==null?(n.stateNode=a,Ze=n,ke=null,e=!0):e=!1),e||gs(n)),null;case 13:return gp(e,n,a);case 4:return Yi(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=ps(n,null,o,a):Ue(e,n,o,a),n.child;case 11:return op(e,n,n.type,n.pendingProps,a);case 7:return Ue(e,n,n.pendingProps,a),n.child;case 8:return Ue(e,n,n.pendingProps.children,a),n.child;case 12:return Ue(e,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,gr(n,n.type,o.value),Ue(e,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Ss(n),h=qe(h),o=o(h),n.flags|=1,Ue(e,n,o,a),n.child;case 14:return lp(e,n,n.type,n.pendingProps,a);case 15:return up(e,n,n.type,n.pendingProps,a);case 19:return _p(e,n,a);case 22:return cp(e,n,a);case 24:return Ss(n),o=qe(Ae),e===null?(h=Vh(),h===null&&(h=Xt,f=Oh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},hf(n),gr(n,Ae,h)):((e.lanes&a)!==0&&(ff(e,n),Ho(n,null,null,a),Bo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),gr(n,Ae,o)):(o=f.cache,gr(n,Ae,o),o!==h.cache&&cf(n,[Ae],a,!0))),Ue(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}var lf=xt(null),As=null,Ci=null;function gr(e,n,a){Gt(lf,n._currentValue),n._currentValue=a}function Di(e){e._currentValue=lf.current,ne(lf)}function uf(e,n,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===a)break;e=e.return}}function cf(e,n,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var y=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var b=0;b<n.length;b++)if(E.context===n[b]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),uf(f.return,a,e),o||(y=null);break t}f=E.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(s(341));y.lanes|=a,f=y.alternate,f!==null&&(f.lanes|=a),uf(y,a,e),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===e){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function xo(e,n,a,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(s(387));if(y=y.memoizedProps,y!==null){var E=h.type;on(h.pendingProps.value,y.value)||(e!==null?e.push(E):e=[E])}}else if(h===Qi.current){if(y=h.alternate,y===null)throw Error(s(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(nl):e=[nl])}h=h.return}e!==null&&cf(n,e,a,o),n.flags|=262144}function Nu(e){for(e=e.firstContext;e!==null;){if(!on(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ss(e){As=e,Ci=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function qe(e){return vp(As,e)}function Vu(e,n){return As===null&&Ss(e),vp(e,n)}function vp(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Ci===null){if(e===null)throw Error(s(308));Ci=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Ci=Ci.next=n;return a}var pr=!1;function hf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ff(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function _r(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function yr(e,n,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(te&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=fu(e),tg(e,null,a),n}return hu(e,o,n,a),fu(e)}function zo(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194176)!==0)){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,tr(e,a)}}function df(e,n){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=y:f=f.next=y,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var mf=!1;function Bo(){if(mf){var e=ga;if(e!==null)throw e}}function Ho(e,n,a,o){mf=!1;var h=e.updateQueue;pr=!1;var f=h.firstBaseUpdate,y=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var b=E,N=b.next;b.next=null,y===null?f=N:y.next=N,y=b;var q=e.alternate;q!==null&&(q=q.updateQueue,E=q.lastBaseUpdate,E!==y&&(E===null?q.firstBaseUpdate=N:E.next=N,q.lastBaseUpdate=b))}if(f!==null){var K=h.baseState;y=0,q=N=b=null,E=f;do{var x=E.lane&-536870913,H=x!==E.lane;if(H?(Ut&x)===x:(o&x)===x){x!==0&&x===ma&&(mf=!0),q!==null&&(q=q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var st=e,vt=E;x=n;var ae=a;switch(vt.tag){case 1:if(st=vt.payload,typeof st=="function"){K=st.call(ae,K,x);break t}K=st;break t;case 3:st.flags=st.flags&-65537|128;case 0:if(st=vt.payload,x=typeof st=="function"?st.call(ae,K,x):st,x==null)break t;K=I({},K,x);break t;case 2:pr=!0}}x=E.callback,x!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[x]:H.push(x))}else H={lane:x,tag:E.tag,payload:E.payload,callback:E.callback,next:null},q===null?(N=q=H,b=K):q=q.next=H,y|=x;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);q===null&&(b=K),h.baseState=b,h.firstBaseUpdate=N,h.lastBaseUpdate=q,f===null&&(h.shared.lanes=0),Sr|=y,e.lanes=y,e.memoizedState=K}}function Ep(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function Tp(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Ep(a[e],n)}function qo(e,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,y=a.inst;o=f(),y.destroy=o}a=a.next}while(a!==h)}}catch(E){Yt(n,n.return,E)}}function vr(e,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var y=o.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,h=n;var b=a;try{E()}catch(N){Yt(h,b,N)}}}o=o.next}while(o!==f)}}catch(N){Yt(n,n.return,N)}}function Ap(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{Tp(n,a)}catch(o){Yt(e,e.return,o)}}}function Sp(e,n,a){a.props=Ts(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Yt(e,n,o)}}function bs(e,n){try{var a=e.ref;if(a!==null){var o=e.stateNode;switch(e.tag){case 26:case 27:case 5:var h=o;break;default:h=o}typeof a=="function"?e.refCleanup=a(h):a.current=h}}catch(f){Yt(e,n,f)}}function ln(e,n){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Yt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Yt(e,n,h)}else a.current=null}function bp(e){var n=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Yt(e,e.return,h)}}function Rp(e,n,a){try{var o=e.stateNode;U0(o,e.type,a,n),o[ye]=n}catch(h){Yt(e,e.return,h)}}function wp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27||e.tag===4}function gf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||wp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==27&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function pf(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?a.nodeType===8?a.parentNode.insertBefore(e,n):a.insertBefore(e,n):(a.nodeType===8?(n=a.parentNode,n.insertBefore(e,a)):(n=a,n.appendChild(e)),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Ku));else if(o!==4&&o!==27&&(e=e.child,e!==null))for(pf(e,n,a),e=e.sibling;e!==null;)pf(e,n,a),e=e.sibling}function Mu(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(o!==4&&o!==27&&(e=e.child,e!==null))for(Mu(e,n,a),e=e.sibling;e!==null;)Mu(e,n,a),e=e.sibling}var Oi=!1,re=!1,_f=!1,Ip=typeof WeakSet=="function"?WeakSet:Set,Ne=null,Cp=!1;function f0(e,n){if(e=e.containerInfo,Gf=Ju,e=Gm(e),yh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var y=0,E=-1,b=-1,N=0,q=0,K=e,x=null;e:for(;;){for(var H;K!==a||h!==0&&K.nodeType!==3||(E=y+h),K!==f||o!==0&&K.nodeType!==3||(b=y+o),K.nodeType===3&&(y+=K.nodeValue.length),(H=K.firstChild)!==null;)x=K,K=H;for(;;){if(K===e)break e;if(x===a&&++N===h&&(E=y),x===f&&++q===o&&(b=y),(H=K.nextSibling)!==null)break;K=x,x=K.parentNode}K=H}a=E===-1||b===-1?null:{start:E,end:b}}else a=null}a=a||{start:0,end:0}}else a=null;for(Kf={focusedElem:e,selectionRange:a},Ju=!1,Ne=n;Ne!==null;)if(n=Ne,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ne=e;else for(;Ne!==null;){switch(n=Ne,f=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var st=Ts(a.type,h,a.elementType===a.type);e=o.getSnapshotBeforeUpdate(st,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(vt){Yt(a,a.return,vt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)$f(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":$f(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,Ne=e;break}Ne=n.return}return st=Cp,Cp=!1,st}function Dp(e,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Vi(e,a),o&4&&qo(5,a);break;case 1:if(Vi(e,a),o&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(E){Yt(a,a.return,E)}else{var h=Ts(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(E){Yt(a,a.return,E)}}o&64&&Ap(a),o&512&&bs(a,a.return);break;case 3:if(Vi(e,a),o&64&&(o=a.updateQueue,o!==null)){if(e=null,a.child!==null)switch(a.child.tag){case 27:case 5:e=a.child.stateNode;break;case 1:e=a.child.stateNode}try{Tp(o,e)}catch(E){Yt(a,a.return,E)}}break;case 26:Vi(e,a),o&512&&bs(a,a.return);break;case 27:case 5:Vi(e,a),n===null&&o&4&&bp(a),o&512&&bs(a,a.return);break;case 12:Vi(e,a);break;case 13:Vi(e,a),o&4&&Vp(e,a);break;case 22:if(h=a.memoizedState!==null||Oi,!h){n=n!==null&&n.memoizedState!==null||re;var f=Oi,y=re;Oi=h,(re=n)&&!y?Er(e,a,(a.subtreeFlags&8772)!==0):Vi(e,a),Oi=f,re=y}o&512&&(a.memoizedProps.mode==="manual"?bs(a,a.return):ln(a,a.return));break;default:Vi(e,a)}}function Op(e){var n=e.alternate;n!==null&&(e.alternate=null,Op(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ts(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var me=null,un=!1;function Ni(e,n,a){for(a=a.child;a!==null;)Np(e,n,a),a=a.sibling}function Np(e,n,a){if(He&&typeof He.onCommitFiberUnmount=="function")try{He.onCommitFiberUnmount(Xi,a)}catch{}switch(a.tag){case 26:re||ln(a,n),Ni(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:re||ln(a,n);var o=me,h=un;for(me=a.stateNode,Ni(e,n,a),a=a.stateNode,n=a.attributes;n.length;)a.removeAttributeNode(n[0]);ts(a),me=o,un=h;break;case 5:re||ln(a,n);case 6:h=me;var f=un;if(me=null,Ni(e,n,a),me=h,un=f,me!==null)if(un)try{e=me,o=a.stateNode,e.nodeType===8?e.parentNode.removeChild(o):e.removeChild(o)}catch(y){Yt(a,n,y)}else try{me.removeChild(a.stateNode)}catch(y){Yt(a,n,y)}break;case 18:me!==null&&(un?(n=me,a=a.stateNode,n.nodeType===8?Xf(n.parentNode,a):n.nodeType===1&&Xf(n,a),al(n)):Xf(me,a.stateNode));break;case 4:o=me,h=un,me=a.stateNode.containerInfo,un=!0,Ni(e,n,a),me=o,un=h;break;case 0:case 11:case 14:case 15:re||vr(2,a,n),re||vr(4,a,n),Ni(e,n,a);break;case 1:re||(ln(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Sp(a,n,o)),Ni(e,n,a);break;case 21:Ni(e,n,a);break;case 22:re||ln(a,n),re=(o=re)||a.memoizedState!==null,Ni(e,n,a),re=o;break;default:Ni(e,n,a)}}function Vp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{al(e)}catch(a){Yt(n,n.return,a)}}function d0(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Ip),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Ip),n;default:throw Error(s(435,e.tag))}}function yf(e,n){var a=d0(e);n.forEach(function(o){var h=w0.bind(null,e,o);a.has(o)||(a.add(o),o.then(h,h))})}function Rn(e,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:case 5:me=E.stateNode,un=!1;break t;case 3:me=E.stateNode.containerInfo,un=!0;break t;case 4:me=E.stateNode.containerInfo,un=!0;break t}E=E.return}if(me===null)throw Error(s(160));Np(f,y,h),me=null,un=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Mp(n,e),n=n.sibling}var Un=null;function Mp(e,n){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Rn(n,e),wn(e),o&4&&(vr(3,e,e.return),qo(3,e),vr(5,e,e.return));break;case 1:Rn(n,e),wn(e),o&512&&(re||a===null||ln(a,a.return)),o&64&&Oi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Un;if(Rn(n,e),wn(e),o&512&&(re||a===null||ln(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[nr]||f[Ie]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Le(f,o,a),f[Ie]=e,Zt(f),o=f;break t;case"link":var y=b_("link","href",h).get(o+(a.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(a.href==null?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(E,1);break e}}f=h.createElement(o),Le(f,o,a),h.head.appendChild(f);break;case"meta":if(y=b_("meta","content",h).get(o+(a.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(E,1);break e}}f=h.createElement(o),Le(f,o,a),h.head.appendChild(f);break;default:throw Error(s(468,o))}f[Ie]=e,Zt(f),o=f}e.stateNode=o}else R_(h,e.type,e.stateNode);else e.stateNode=S_(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?R_(h,e.type,e.stateNode):S_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Rp(e,e.memoizedProps,a.memoizedProps)}break;case 27:if(o&4&&e.alternate===null){h=e.stateNode,f=e.memoizedProps;try{for(var b=h.firstChild;b;){var N=b.nextSibling,q=b.nodeName;b[nr]||q==="HEAD"||q==="BODY"||q==="SCRIPT"||q==="STYLE"||q==="LINK"&&b.rel.toLowerCase()==="stylesheet"||h.removeChild(b),b=N}for(var K=e.type,x=h.attributes;x.length;)h.removeAttributeNode(x[0]);Le(h,K,f),h[Ie]=e,h[ye]=f}catch(st){Yt(e,e.return,st)}}case 5:if(Rn(n,e),wn(e),o&512&&(re||a===null||ln(a,a.return)),e.flags&32){h=e.stateNode;try{pn(h,"")}catch(st){Yt(e,e.return,st)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Rp(e,h,a!==null?a.memoizedProps:h)),o&1024&&(_f=!0);break;case 6:if(Rn(n,e),wn(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(st){Yt(e,e.return,st)}}break;case 3:if($u=null,h=Un,Un=Yu(n.containerInfo),Rn(n,e),Un=h,wn(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{al(n.containerInfo)}catch(st){Yt(e,e.return,st)}_f&&(_f=!1,Pp(e));break;case 4:o=Un,Un=Yu(e.stateNode.containerInfo),Rn(n,e),wn(e),Un=o;break;case 12:Rn(n,e),wn(e);break;case 13:Rn(n,e),wn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(If=tn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,yf(e,o)));break;case 22:if(o&512&&(re||a===null||ln(a,a.return)),b=e.memoizedState!==null,N=a!==null&&a.memoizedState!==null,q=Oi,K=re,Oi=q||b,re=K||N,Rn(n,e),re=K,Oi=q,wn(e),n=e.stateNode,n._current=e,n._visibility&=-3,n._visibility|=n._pendingVisibility&2,o&8192&&(n._visibility=b?n._visibility&-2:n._visibility|1,b&&(n=Oi||re,a===null||N||n||va(e)),e.memoizedProps===null||e.memoizedProps.mode!=="manual"))t:for(a=null,n=e;;){if(n.tag===5||n.tag===26||n.tag===27){if(a===null){N=a=n;try{if(h=N.stateNode,b)f=h.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{y=N.stateNode,E=N.memoizedProps.style;var H=E!=null&&E.hasOwnProperty("display")?E.display:null;y.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(st){Yt(N,N.return,st)}}}else if(n.tag===6){if(a===null){N=n;try{N.stateNode.nodeValue=b?"":N.memoizedProps}catch(st){Yt(N,N.return,st)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,yf(e,a))));break;case 19:Rn(n,e),wn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,yf(e,o)));break;case 21:break;default:Rn(n,e),wn(e)}}function wn(e){var n=e.flags;if(n&2){try{if(e.tag!==27){t:{for(var a=e.return;a!==null;){if(wp(a)){var o=a;break t}a=a.return}throw Error(s(160))}switch(o.tag){case 27:var h=o.stateNode,f=gf(e);Mu(e,f,h);break;case 5:var y=o.stateNode;o.flags&32&&(pn(y,""),o.flags&=-33);var E=gf(e);Mu(e,E,y);break;case 3:case 4:var b=o.stateNode.containerInfo,N=gf(e);pf(e,N,b);break;default:throw Error(s(161))}}}catch(q){Yt(e,e.return,q)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Pp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Pp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Vi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Dp(e,n.alternate,n),n=n.sibling}function va(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:vr(4,n,n.return),va(n);break;case 1:ln(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Sp(n,n.return,a),va(n);break;case 26:case 27:case 5:ln(n,n.return),va(n);break;case 22:ln(n,n.return),n.memoizedState===null&&va(n);break;default:va(n)}e=e.sibling}}function Er(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:Er(h,f,a),qo(4,f);break;case 1:if(Er(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(N){Yt(o,o.return,N)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var b=h.shared.hiddenCallbacks;if(b!==null)for(h.shared.hiddenCallbacks=null,h=0;h<b.length;h++)Ep(b[h],E)}catch(N){Yt(o,o.return,N)}}a&&y&64&&Ap(f),bs(f,f.return);break;case 26:case 27:case 5:Er(h,f,a),a&&o===null&&y&4&&bp(f),bs(f,f.return);break;case 12:Er(h,f,a);break;case 13:Er(h,f,a),a&&y&4&&Vp(h,f);break;case 22:f.memoizedState===null&&Er(h,f,a),bs(f,f.return);break;default:Er(h,f,a)}n=n.sibling}}function vf(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Vo(a))}function Ef(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Vo(e))}function Tr(e,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)kp(e,n,a,o),n=n.sibling}function kp(e,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Tr(e,n,a,o),h&2048&&qo(9,n);break;case 3:Tr(e,n,a,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Vo(e)));break;case 12:if(h&2048){Tr(e,n,a,o),e=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(b){Yt(n,n.return,b)}}else Tr(e,n,a,o);break;case 23:break;case 22:f=n.stateNode,n.memoizedState!==null?f._visibility&4?Tr(e,n,a,o):jo(e,n):f._visibility&4?Tr(e,n,a,o):(f._visibility|=4,Ea(e,n,a,o,(n.subtreeFlags&10256)!==0)),h&2048&&vf(n.alternate,n);break;case 24:Tr(e,n,a,o),h&2048&&Ef(n.alternate,n);break;default:Tr(e,n,a,o)}}function Ea(e,n,a,o,h){for(h=h&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=e,y=n,E=a,b=o,N=y.flags;switch(y.tag){case 0:case 11:case 15:Ea(f,y,E,b,h),qo(8,y);break;case 23:break;case 22:var q=y.stateNode;y.memoizedState!==null?q._visibility&4?Ea(f,y,E,b,h):jo(f,y):(q._visibility|=4,Ea(f,y,E,b,h)),h&&N&2048&&vf(y.alternate,y);break;case 24:Ea(f,y,E,b,h),h&&N&2048&&Ef(y.alternate,y);break;default:Ea(f,y,E,b,h)}n=n.sibling}}function jo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,o=n,h=o.flags;switch(o.tag){case 22:jo(a,o),h&2048&&vf(o.alternate,o);break;case 24:jo(a,o),h&2048&&Ef(o.alternate,o);break;default:jo(a,o)}n=n.sibling}}var Fo=8192;function Ta(e){if(e.subtreeFlags&Fo)for(e=e.child;e!==null;)Up(e),e=e.sibling}function Up(e){switch(e.tag){case 26:Ta(e),e.flags&Fo&&e.memoizedState!==null&&eA(Un,e.memoizedState,e.memoizedProps);break;case 5:Ta(e);break;case 3:case 4:var n=Un;Un=Yu(e.stateNode.containerInfo),Ta(e),Un=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Fo,Fo=16777216,Ta(e),Fo=n):Ta(e));break;default:Ta(e)}}function Lp(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Go(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Ne=o,zp(o,e)}Lp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)xp(e),e=e.sibling}function xp(e){switch(e.tag){case 0:case 11:case 15:Go(e),e.flags&2048&&vr(9,e,e.return);break;case 3:Go(e);break;case 12:Go(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&4&&(e.return===null||e.return.tag!==13)?(n._visibility&=-5,Pu(e)):Go(e);break;default:Go(e)}}function Pu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Ne=o,zp(o,e)}Lp(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:vr(8,n,n.return),Pu(n);break;case 22:a=n.stateNode,a._visibility&4&&(a._visibility&=-5,Pu(n));break;default:Pu(n)}e=e.sibling}}function zp(e,n){for(;Ne!==null;){var a=Ne;switch(a.tag){case 0:case 11:case 15:vr(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Vo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Ne=o;else t:for(a=e;Ne!==null;){o=Ne;var h=o.sibling,f=o.return;if(Op(o),o===a){Ne=null;break t}if(h!==null){h.return=f,Ne=h;break t}Ne=f}}}function m0(e,n,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(e,n,a,o){return new m0(e,n,a,o)}function Tf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ar(e,n){var a=e.alternate;return a===null?(a=In(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&31457280,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Bp(e,n){e.flags&=31457282;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function ku(e,n,a,o,h,f){var y=0;if(o=e,typeof e=="function")Tf(e)&&(y=1);else if(typeof e=="string")y=J0(e,a,Ye.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case p:return Rs(a.children,h,f,n);case v:y=8,h|=24;break;case A:return e=In(12,a,n,h|2),e.elementType=A,e.lanes=f,e;case tt:return e=In(13,a,n,h),e.elementType=tt,e.lanes=f,e;case X:return e=In(19,a,n,h),e.elementType=X,e.lanes=f,e;case Z:return Hp(a,h,f,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case C:case j:y=10;break t;case z:y=9;break t;case $:y=11;break t;case Tt:y=14;break t;case ft:y=16,o=null;break t}y=29,a=Error(s(130,e===null?"null":typeof e,"")),o=null}return n=In(y,a,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Rs(e,n,a,o){return e=In(7,e,o,n),e.lanes=a,e}function Hp(e,n,a,o){e=In(22,e,o,n),e.elementType=Z,e.lanes=a;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var f=h._current;if(f===null)throw Error(s(456));if((h._pendingVisibility&2)===0){var y=cr(f,2);y!==null&&(h._pendingVisibility|=2,Je(y,f,2))}},attach:function(){var f=h._current;if(f===null)throw Error(s(456));if((h._pendingVisibility&2)!==0){var y=cr(f,2);y!==null&&(h._pendingVisibility&=-3,Je(y,f,2))}}};return e.stateNode=h,e}function Af(e,n,a){return e=In(6,e,null,n),e.lanes=a,e}function Sf(e,n,a){return n=In(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Mi(e){e.flags|=4}function qp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!w_(n)){if(n=bn.current,n!==null&&((Ut&4194176)===Ut?Jn!==null:(Ut&62914560)!==Ut&&(Ut&536870912)===0||n!==Jn))throw Do=Ih,sg;e.flags|=8192}}function Uu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Zi():536870912,e.lanes|=n,Sa|=n)}function Ko(e,n){if(!Bt)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Jt(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(n)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&31457280,o|=h.flags&31457280,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,n}function g0(e,n,a){var o=n.pendingProps;switch(Rh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(n),null;case 1:return Jt(n),null;case 3:return a=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Di(Ae),fi(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ro(n)?Mi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,kn!==null&&(Nf(kn),kn=null))),Jt(n),null;case 26:return a=n.memoizedState,e===null?(Mi(n),a!==null?(Jt(n),qp(n,a)):(Jt(n),n.flags&=-16777217)):a?a!==e.memoizedState?(Mi(n),Jt(n),qp(n,a)):(Jt(n),n.flags&=-16777217):(e.memoizedProps!==o&&Mi(n),Jt(n),n.flags&=-16777217),null;case 27:qs(n),a=dn.current;var h=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Mi(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return Jt(n),null}e=Ye.current,Ro(n)?ig(n):(e=y_(h,o,a),n.stateNode=e,Mi(n))}return Jt(n),null;case 5:if(qs(n),a=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Mi(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return Jt(n),null}if(e=Ye.current,Ro(n))ig(n);else{switch(h=Qu(dn.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?h.createElement("select",{is:o.is}):h.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?h.createElement(a,{is:o.is}):h.createElement(a)}}e[Ie]=n,e[ye]=o;t:for(h=n.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break t;for(;h.sibling===null;){if(h.return===null||h.return===n)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}n.stateNode=e;t:switch(Le(e,a,o),a){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Mi(n)}}return Jt(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Mi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(e=dn.current,Ro(n)){if(e=n.stateNode,a=n.memoizedProps,o=null,h=Ze,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ie]=n,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||f_(e.nodeValue,a)),e||gs(n)}else e=Qu(e).createTextNode(o),e[Ie]=n,n.stateNode=e}return Jt(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ro(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ie]=n}else wo(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Jt(n),h=!1}else kn!==null&&(Nf(kn),kn=null),h=!0;if(!h)return n.flags&256?(Ri(n),n):(Ri(n),null)}if(Ri(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=o!==null,e=e!==null&&e.memoizedState!==null,a){o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool);var f=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)}return a!==e&&a&&(n.child.flags|=8192),Uu(n,n.updateQueue),Jt(n),null;case 4:return fi(),e===null&&qf(n.stateNode.containerInfo),Jt(n),null;case 10:return Di(n.type),Jt(n),null;case 19:if(ne(Te),h=n.memoizedState,h===null)return Jt(n),null;if(o=(n.flags&128)!==0,f=h.rendering,f===null)if(o)Ko(h,!1);else{if(se!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=vu(e),f!==null){for(n.flags|=128,Ko(h,!1),e=f.updateQueue,n.updateQueue=e,Uu(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)Bp(a,e),a=a.sibling;return Gt(Te,Te.current&1|2),n.child}e=e.sibling}h.tail!==null&&tn()>Lu&&(n.flags|=128,o=!0,Ko(h,!1),n.lanes=4194304)}else{if(!o)if(e=vu(f),e!==null){if(n.flags|=128,o=!0,e=e.updateQueue,n.updateQueue=e,Uu(n,e),Ko(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!Bt)return Jt(n),null}else 2*tn()-h.renderingStartTime>Lu&&a!==536870912&&(n.flags|=128,o=!0,Ko(h,!1),n.lanes=4194304);h.isBackwards?(f.sibling=n.child,n.child=f):(e=h.last,e!==null?e.sibling=f:n.child=f,h.last=f)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=tn(),n.sibling=null,e=Te.current,Gt(Te,o?e&1|2:e&1),n):(Jt(n),null);case 22:case 23:return Ri(n),Dh(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(Jt(n),n.subtreeFlags&6&&(n.flags|=8192)):Jt(n),a=n.updateQueue,a!==null&&Uu(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),e!==null&&ne(_s),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Di(Ae),Jt(n),null;case 25:return null}throw Error(s(156,n.tag))}function p0(e,n){switch(Rh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Di(Ae),fi(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return qs(n),null;case 13:if(Ri(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));wo()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return ne(Te),null;case 4:return fi(),null;case 10:return Di(n.type),null;case 22:case 23:return Ri(n),Dh(),e!==null&&ne(_s),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Di(Ae),null;case 25:return null;default:return null}}function jp(e,n){switch(Rh(n),n.tag){case 3:Di(Ae),fi();break;case 26:case 27:case 5:qs(n);break;case 4:fi();break;case 13:Ri(n);break;case 19:ne(Te);break;case 10:Di(n.type);break;case 22:case 23:Ri(n),Dh(),e!==null&&ne(_s);break;case 24:Di(Ae)}}var _0={getCacheForType:function(e){var n=qe(Ae),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a}},y0=typeof WeakMap=="function"?WeakMap:Map,te=0,Xt=null,Ct=null,Ut=0,$t=0,cn=null,Pi=!1,Aa=!1,bf=!1,ki=0,se=0,Sr=0,ws=0,Rf=0,Cn=0,Sa=0,Qo=null,ei=null,wf=!1,If=0,Lu=1/0,xu=null,br=null,zu=!1,Is=null,Yo=0,Cf=0,Df=null,Xo=0,Of=null;function hn(){if((te&2)!==0&&Ut!==0)return Ut&-Ut;if(S.T!==null){var e=ma;return e!==0?e:xf()}return Gl()}function Fp(){Cn===0&&(Cn=(Ut&536870912)===0||Bt?ao():536870912);var e=bn.current;return e!==null&&(e.flags|=32),Cn}function Je(e,n,a){(e===Xt&&$t===2||e.cancelPendingCommit!==null)&&(ba(e,0),Ui(e,Ut,Cn,!1)),oe(e,a),((te&2)===0||e!==Xt)&&(e===Xt&&((te&2)===0&&(ws|=a),se===4&&Ui(e,Ut,Cn,!1)),ni(e))}function Gp(e,n,a){if((te&6)!==0)throw Error(s(327));var o=!a&&(n&60)===0&&(n&e.expiredLanes)===0||Wi(e,n),h=o?T0(e,n):Pf(e,n,!0),f=o;do{if(h===0){Aa&&!o&&Ui(e,n,0,!1);break}else if(h===6)Ui(e,n,0,!Pi);else{if(a=e.current.alternate,f&&!v0(a)){h=Pf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=e;h=Qo;var b=E.current.memoizedState.isDehydrated;if(b&&(ba(E,y).flags|=256),y=Pf(E,y,!1),y!==2){if(bf&&!b){E.errorRecoveryDisabledLanes|=f,ws|=f,h=4;break t}f=ei,ei=h,f!==null&&Nf(f)}h=y}if(f=!1,h!==2)continue}}if(h===1){ba(e,0),Ui(e,n,0,!0);break}t:{switch(o=e,h){case 0:case 1:throw Error(s(345));case 4:if((n&4194176)===n){Ui(o,n,Cn,!Pi);break t}break;case 2:ei=null;break;case 3:case 5:break;default:throw Error(s(329))}if(o.finishedWork=a,o.finishedLanes=n,(n&62914560)===n&&(f=If+300-tn(),10<f)){if(Ui(o,n,Cn,!Pi),mn(o,0)!==0)break t;o.timeoutHandle=g_(Kp.bind(null,o,a,ei,xu,wf,n,Cn,ws,Sa,Pi,2,-0,0),f);break t}Kp(o,a,ei,xu,wf,n,Cn,ws,Sa,Pi,0,-0,0)}}break}while(!0);ni(e)}function Nf(e){ei===null?ei=e:ei.push.apply(ei,e)}function Kp(e,n,a,o,h,f,y,E,b,N,q,K,x){var H=n.subtreeFlags;if((H&8192||(H&16785408)===16785408)&&(el={stylesheets:null,count:0,unsuspend:tA},Up(n),n=nA(),n!==null)){e.cancelPendingCommit=n(Jp.bind(null,e,a,o,h,y,E,b,1,K,x)),Ui(e,f,y,!N);return}Jp(e,a,o,h,y,E,b,q,K,x)}function v0(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!on(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ui(e,n,a,o){n&=~Rf,n&=~ws,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-Xe(h),y=1<<f;o[f]=-1,h&=~y}a!==0&&Ji(e,a,n)}function Bu(){return(te&6)===0?($o(0),!1):!0}function Vf(){if(Ct!==null){if($t===0)var e=Ct.return;else e=Ct,Ci=As=null,Lh(e),fa=null,Oo=0,e=Ct;for(;e!==null;)jp(e.alternate,e),e=e.return;Ct=null}}function ba(e,n){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,x0(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Vf(),Xt=e,Ct=a=Ar(e.current,null),Ut=n,$t=0,cn=null,Pi=!1,Aa=Wi(e,n),bf=!1,Sa=Cn=Rf=ws=Sr=se=0,ei=Qo=null,wf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-Xe(o),f=1<<h;n|=e[h],o&=~f}return ki=n,cu(),a}function Qp(e,n){Rt=null,S.H=ti,n===Co?(n=lg(),$t=3):n===sg?(n=lg(),$t=4):$t=n===ap?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,cn=n,Ct===null&&(se=1,Ou(e,Tn(n,e.current)))}function Yp(){var e=S.H;return S.H=ti,e===null?ti:e}function Xp(){var e=S.A;return S.A=_0,e}function Mf(){se=4,Pi||(Ut&4194176)!==Ut&&bn.current!==null||(Aa=!0),(Sr&134217727)===0&&(ws&134217727)===0||Xt===null||Ui(Xt,Ut,Cn,!1)}function Pf(e,n,a){var o=te;te|=2;var h=Yp(),f=Xp();(Xt!==e||Ut!==n)&&(xu=null,ba(e,n)),n=!1;var y=se;t:do try{if($t!==0&&Ct!==null){var E=Ct,b=cn;switch($t){case 8:Vf(),y=6;break t;case 3:case 2:case 6:bn.current===null&&(n=!0);var N=$t;if($t=0,cn=null,Ra(e,E,b,N),a&&Aa){y=0;break t}break;default:N=$t,$t=0,cn=null,Ra(e,E,b,N)}}E0(),y=se;break}catch(q){Qp(e,q)}while(!0);return n&&e.shellSuspendCounter++,Ci=As=null,te=o,S.H=h,S.A=f,Ct===null&&(Xt=null,Ut=0,cu()),y}function E0(){for(;Ct!==null;)$p(Ct)}function T0(e,n){var a=te;te|=2;var o=Yp(),h=Xp();Xt!==e||Ut!==n?(xu=null,Lu=tn()+500,ba(e,n)):Aa=Wi(e,n);t:do try{if($t!==0&&Ct!==null){n=Ct;var f=cn;e:switch($t){case 1:$t=0,cn=null,Ra(e,n,f,1);break;case 2:if(ag(f)){$t=0,cn=null,Wp(n);break}n=function(){$t===2&&Xt===e&&($t=7),ni(e)},f.then(n,n);break t;case 3:$t=7;break t;case 4:$t=5;break t;case 7:ag(f)?($t=0,cn=null,Wp(n)):($t=0,cn=null,Ra(e,n,f,7));break;case 5:var y=null;switch(Ct.tag){case 26:y=Ct.memoizedState;case 5:case 27:var E=Ct;if(!y||w_(y)){$t=0,cn=null;var b=E.sibling;if(b!==null)Ct=b;else{var N=E.return;N!==null?(Ct=N,Hu(N)):Ct=null}break e}}$t=0,cn=null,Ra(e,n,f,5);break;case 6:$t=0,cn=null,Ra(e,n,f,6);break;case 8:Vf(),se=6;break t;default:throw Error(s(462))}}A0();break}catch(q){Qp(e,q)}while(!0);return Ci=As=null,S.H=o,S.A=h,te=a,Ct!==null?0:(Xt=null,Ut=0,cu(),se)}function A0(){for(;Ct!==null&&!oh();)$p(Ct)}function $p(e){var n=yp(e.alternate,e,ki);e.memoizedProps=e.pendingProps,n===null?Hu(e):Ct=n}function Wp(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=fp(a,n,n.pendingProps,n.type,void 0,Ut);break;case 11:n=fp(a,n,n.pendingProps,n.type.render,n.ref,Ut);break;case 5:Lh(n);default:jp(a,n),n=Ct=Bp(n,ki),n=yp(a,n,ki)}e.memoizedProps=e.pendingProps,n===null?Hu(e):Ct=n}function Ra(e,n,a,o){Ci=As=null,Lh(n),fa=null,Oo=0;var h=n.return;try{if(c0(e,h,n,a,Ut)){se=1,Ou(e,Tn(a,e.current)),Ct=null;return}}catch(f){if(h!==null)throw Ct=h,f;se=1,Ou(e,Tn(a,e.current)),Ct=null;return}n.flags&32768?(Bt||o===1?e=!0:Aa||(Ut&536870912)!==0?e=!1:(Pi=e=!0,(o===2||o===3||o===6)&&(o=bn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Zp(n,e)):Hu(n)}function Hu(e){var n=e;do{if((n.flags&32768)!==0){Zp(n,Pi);return}e=n.return;var a=g0(n.alternate,n,ki);if(a!==null){Ct=a;return}if(n=n.sibling,n!==null){Ct=n;return}Ct=n=e}while(n!==null);se===0&&(se=5)}function Zp(e,n){do{var a=p0(e.alternate,e);if(a!==null){a.flags&=32767,Ct=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){Ct=e;return}Ct=e=a}while(e!==null);se=6,Ct=null}function Jp(e,n,a,o,h,f,y,E,b,N){var q=S.T,K=nt.p;try{nt.p=2,S.T=null,S0(e,n,a,o,K,h,f,y,E,b,N)}finally{S.T=q,nt.p=K}}function S0(e,n,a,o,h,f,y,E){do wa();while(Is!==null);if((te&6)!==0)throw Error(s(327));var b=e.finishedWork;if(o=e.finishedLanes,b===null)return null;if(e.finishedWork=null,e.finishedLanes=0,b===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var N=b.lanes|b.childLanes;if(N|=Ah,jl(e,o,N,f,y,E),e===Xt&&(Ct=Xt=null,Ut=0),(b.subtreeFlags&10256)===0&&(b.flags&10256)===0||zu||(zu=!0,Cf=N,Df=a,I0(di,function(){return wa(),null})),a=(b.flags&15990)!==0,(b.subtreeFlags&15990)!==0||a?(a=S.T,S.T=null,f=nt.p,nt.p=2,y=te,te|=4,f0(e,b),Mp(b,e),QT(Kf,e.containerInfo),Ju=!!Gf,Kf=Gf=null,e.current=b,Dp(e,b.alternate,b),no(),te=y,nt.p=f,S.T=a):e.current=b,zu?(zu=!1,Is=e,Yo=o):t_(e,N),N=e.pendingLanes,N===0&&(br=null),ro(b.stateNode),ni(e),n!==null)for(h=e.onRecoverableError,b=0;b<n.length;b++)N=n[b],h(N.value,{componentStack:N.stack});return(Yo&3)!==0&&wa(),N=e.pendingLanes,(o&4194218)!==0&&(N&42)!==0?e===Of?Xo++:(Xo=0,Of=e):Xo=0,$o(0),null}function t_(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Vo(n)))}function wa(){if(Is!==null){var e=Is,n=Cf;Cf=0;var a=Fl(Yo),o=S.T,h=nt.p;try{if(nt.p=32>a?32:a,S.T=null,Is===null)var f=!1;else{a=Df,Df=null;var y=Is,E=Yo;if(Is=null,Yo=0,(te&6)!==0)throw Error(s(331));var b=te;if(te|=4,xp(y.current),kp(y,y.current,E,a),te=b,$o(0,!1),He&&typeof He.onPostCommitFiberRoot=="function")try{He.onPostCommitFiberRoot(Xi,y)}catch{}f=!0}return f}finally{nt.p=h,S.T=o,t_(e,n)}}return!1}function e_(e,n,a){n=Tn(a,n),n=Wh(e.stateNode,n,2),e=yr(e,n,2),e!==null&&(oe(e,2),ni(e))}function Yt(e,n,a){if(e.tag===3)e_(e,e,a);else for(;n!==null;){if(n.tag===3){e_(n,e,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(br===null||!br.has(o))){e=Tn(a,e),a=rp(2),o=yr(n,a,2),o!==null&&(sp(a,o,n,e),oe(o,2),ni(o));break}}n=n.return}}function kf(e,n,a){var o=e.pingCache;if(o===null){o=e.pingCache=new y0;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(bf=!0,h.add(a),e=b0.bind(null,e,n,a),n.then(e,e))}function b0(e,n,a){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Xt===e&&(Ut&a)===a&&(se===4||se===3&&(Ut&62914560)===Ut&&300>tn()-If?(te&2)===0&&ba(e,0):Rf|=a,Sa===Ut&&(Sa=0)),ni(e)}function n_(e,n){n===0&&(n=Zi()),e=cr(e,n),e!==null&&(oe(e,n),ni(e))}function R0(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),n_(e,a)}function w0(e,n){var a=0;switch(e.tag){case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),n_(e,a)}function I0(e,n){return Wr(e,n)}var qu=null,Ia=null,Uf=!1,ju=!1,Lf=!1,Cs=0;function ni(e){e!==Ia&&e.next===null&&(Ia===null?qu=Ia=e:Ia=Ia.next=e),ju=!0,Uf||(Uf=!0,D0(C0))}function $o(e,n){if(!Lf&&ju){Lf=!0;do for(var a=!1,o=qu;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var y=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-Xe(42|e)+1)-1,f&=h&~(y&~E),f=f&201326677?f&201326677|1:f?f|2:0}f!==0&&(a=!0,s_(o,f))}else f=Ut,f=mn(o,o===Xt?f:0),(f&3)===0||Wi(o,f)||(a=!0,s_(o,f));o=o.next}while(a);Lf=!1}}function C0(){ju=Uf=!1;var e=0;Cs!==0&&(L0()&&(e=Cs),Cs=0);for(var n=tn(),a=null,o=qu;o!==null;){var h=o.next,f=i_(o,n);f===0?(o.next=null,a===null?qu=h:a.next=h,h===null&&(Ia=a)):(a=o,(e!==0||(f&3)!==0)&&(ju=!0)),o=h}$o(e)}function i_(e,n){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var y=31-Xe(f),E=1<<y,b=h[y];b===-1?((E&a)===0||(E&o)!==0)&&(h[y]=Gs(E,n)):b<=n&&(e.expiredLanes|=E),f&=~E}if(n=Xt,a=Ut,a=mn(e,e===n?a:0),o=e.callbackNode,a===0||e===n&&$t===2||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Fs(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Wi(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(o!==null&&Fs(o),Fl(a)){case 2:case 8:a=we;break;case 32:a=di;break;case 268435456:a=io;break;default:a=di}return o=r_.bind(null,e),a=Wr(a,o),e.callbackPriority=n,e.callbackNode=a,n}return o!==null&&o!==null&&Fs(o),e.callbackPriority=2,e.callbackNode=null,2}function r_(e,n){var a=e.callbackNode;if(wa()&&e.callbackNode!==a)return null;var o=Ut;return o=mn(e,e===Xt?o:0),o===0?null:(Gp(e,o,n),i_(e,tn()),e.callbackNode!=null&&e.callbackNode===a?r_.bind(null,e):null)}function s_(e,n){if(wa())return null;Gp(e,n,!0)}function D0(e){z0(function(){(te&6)!==0?Wr(_e,e):e()})}function xf(){return Cs===0&&(Cs=ao()),Cs}function a_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Gn(""+e)}function o_(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function O0(e,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=a_((h[ye]||null).action),y=o.submitter;y&&(n=(n=y[ye]||null)?a_(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new Zs("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Cs!==0){var b=y?o_(h,y):new FormData(h);Kh(a,{pending:!0,data:b,method:h.method,action:f},null,b)}}else typeof f=="function"&&(E.preventDefault(),b=y?o_(h,y):new FormData(h),Kh(a,{pending:!0,data:b,method:h.method,action:f},f,b))},currentTarget:h}]})}}for(var zf=0;zf<Jm.length;zf++){var Bf=Jm[zf],N0=Bf.toLowerCase(),V0=Bf[0].toUpperCase()+Bf.slice(1);Pn(N0,"on"+V0)}Pn(Ym,"onAnimationEnd"),Pn(Xm,"onAnimationIteration"),Pn($m,"onAnimationStart"),Pn("dblclick","onDoubleClick"),Pn("focusin","onFocus"),Pn("focusout","onBlur"),Pn(XT,"onTransitionRun"),Pn($T,"onTransitionStart"),Pn(WT,"onTransitionCancel"),Pn(Wm,"onTransitionEnd"),en("onMouseEnter",["mouseout","mouseover"]),en("onMouseLeave",["mouseout","mouseover"]),en("onPointerEnter",["pointerout","pointerover"]),en("onPointerLeave",["pointerout","pointerover"]),sn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),sn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),sn("onBeforeInput",["compositionend","keypress","textInput","paste"]),sn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),sn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),sn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),M0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wo));function l_(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var y=o.length-1;0<=y;y--){var E=o[y],b=E.instance,N=E.currentTarget;if(E=E.listener,b!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=N;try{f(h)}catch(q){Du(q)}h.currentTarget=null,f=b}else for(y=0;y<o.length;y++){if(E=o[y],b=E.instance,N=E.currentTarget,E=E.listener,b!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=N;try{f(h)}catch(q){Du(q)}h.currentTarget=null,f=b}}}}function Vt(e,n){var a=n[Jr];a===void 0&&(a=n[Jr]=new Set);var o=e+"__bubble";a.has(o)||(u_(n,e,2,!1),a.add(o))}function Hf(e,n,a){var o=0;n&&(o|=4),u_(a,e,o,n)}var Fu="_reactListening"+Math.random().toString(36).slice(2);function qf(e){if(!e[Fu]){e[Fu]=!0,lo.forEach(function(a){a!=="selectionchange"&&(M0.has(a)||Hf(a,!1,e),Hf(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Fu]||(n[Fu]=!0,Hf("selectionchange",!1,n))}}function u_(e,n,a,o){switch(V_(n)){case 2:var h=sA;break;case 8:h=aA;break;default:h=ed}a=h.bind(null,n,a,e),h=void 0,!yn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,a,{capture:!0,passive:h}):e.addEventListener(n,a,!0):h!==void 0?e.addEventListener(n,a,{passive:h}):e.addEventListener(n,a,!1)}function jf(e,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var y=o.tag;if(y===3||y===4){var E=o.stateNode.containerInfo;if(E===h||E.nodeType===8&&E.parentNode===h)break;if(y===4)for(y=o.return;y!==null;){var b=y.tag;if((b===3||b===4)&&(b=y.stateNode.containerInfo,b===h||b.nodeType===8&&b.parentNode===h))return;y=y.return}for(;E!==null;){if(y=Mn(E),y===null)return;if(b=y.tag,b===5||b===6||b===26||b===27){o=f=y;continue t}E=E.parentNode}}o=o.return}Xl(function(){var N=f,q=Ws(a),K=[];t:{var x=Zm.get(e);if(x!==void 0){var H=Zs,st=e;switch(e){case"keypress":if(Qn(a)===0)break t;case"keydown":case"keyup":H=ra;break;case"focusin":st="focus",H=ea;break;case"focusout":st="blur",H=ea;break;case"beforeblur":case"afterblur":H=ea;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=mh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=iu;break;case Ym:case Xm:case $m:H=na;break;case Wm:H=su;break;case"scroll":case"scrollend":H=$l;break;case"wheel":H=sa;break;case"copy":case"cut":case"paste":H=ia;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=To;break;case"toggle":case"beforetoggle":H=ou}var vt=(n&4)!==0,ae=!vt&&(e==="scroll"||e==="scrollend"),P=vt?x!==null?x+"Capture":null:x;vt=[];for(var O=N,L;O!==null;){var F=O;if(L=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||L===null||P===null||(F=rs(O,P),F!=null&&vt.push(Zo(O,F,L))),ae)break;O=O.return}0<vt.length&&(x=new H(x,st,null,a,q),K.push({event:x,listeners:vt}))}}if((n&7)===0){t:{if(x=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",x&&a!==_n&&(st=a.relatedTarget||a.fromElement)&&(Mn(st)||st[mi]))break t;if((H||x)&&(x=q.window===q?q:(x=q.ownerDocument)?x.defaultView||x.parentWindow:window,H?(st=a.relatedTarget||a.toElement,H=N,st=st?Mn(st):null,st!==null&&(ae=lt(st),vt=st.tag,st!==ae||vt!==5&&vt!==27&&vt!==6)&&(st=null)):(H=null,st=N),H!==st)){if(vt=vn,F="onMouseLeave",P="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(vt=To,F="onPointerLeave",P="onPointerEnter",O="pointer"),ae=H==null?x:ir(H),L=st==null?x:ir(st),x=new vt(F,O+"leave",H,a,q),x.target=ae,x.relatedTarget=L,F=null,Mn(q)===N&&(vt=new vt(P,O+"enter",st,a,q),vt.target=L,vt.relatedTarget=ae,F=vt),ae=F,H&&st)e:{for(vt=H,P=st,O=0,L=vt;L;L=Ca(L))O++;for(L=0,F=P;F;F=Ca(F))L++;for(;0<O-L;)vt=Ca(vt),O--;for(;0<L-O;)P=Ca(P),L--;for(;O--;){if(vt===P||P!==null&&vt===P.alternate)break e;vt=Ca(vt),P=Ca(P)}vt=null}else vt=null;H!==null&&c_(K,x,H,vt,!1),st!==null&&ae!==null&&c_(K,ae,st,vt,!0)}}t:{if(x=N?ir(N):window,H=x.nodeName&&x.nodeName.toLowerCase(),H==="select"||H==="input"&&x.type==="file")var rt=Lm;else if(Ee(x))if(xm)rt=GT;else{rt=jT;var wt=qT}else H=x.nodeName,!H||H.toLowerCase()!=="input"||x.type!=="checkbox"&&x.type!=="radio"?N&&mo(N.elementType)&&(rt=Lm):rt=FT;if(rt&&(rt=rt(e,N))){Ai(K,rt,a,q);break t}wt&&wt(e,x,N),e==="focusout"&&N&&x.type==="number"&&N.memoizedProps.value!=null&&$s(x,"number",x.value)}switch(wt=N?ir(N):window,e){case"focusin":(Ee(wt)||wt.contentEditable==="true")&&(aa=wt,vh=N,bo=null);break;case"focusout":bo=vh=aa=null;break;case"mousedown":Eh=!0;break;case"contextmenu":case"mouseup":case"dragend":Eh=!1,Km(K,a,q);break;case"selectionchange":if(YT)break;case"keydown":case"keyup":Km(K,a,q)}var ot;if($n)t:{switch(e){case"compositionstart":var dt="onCompositionStart";break t;case"compositionend":dt="onCompositionEnd";break t;case"compositionupdate":dt="onCompositionUpdate";break t}dt=void 0}else Pt?B(e,a)&&(dt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(dt="onCompositionStart");dt&&(_&&a.locale!=="ko"&&(Pt||dt!=="onCompositionStart"?dt==="onCompositionEnd"&&Pt&&(ot=po()):(Kn=q,ur="value"in Kn?Kn.value:Kn.textContent,Pt=!0)),wt=Gu(N,dt),0<wt.length&&(dt=new vo(dt,e,null,a,q),K.push({event:dt,listeners:wt}),ot?dt.data=ot:(ot=W(a),ot!==null&&(dt.data=ot)))),(ot=m?ve(e,a):kt(e,a))&&(dt=Gu(N,"onBeforeInput"),0<dt.length&&(wt=new vo("onBeforeInput","beforeinput",null,a,q),K.push({event:wt,listeners:dt}),wt.data=ot)),O0(K,e,N,a,q)}l_(K,n)})}function Zo(e,n,a){return{instance:e,listener:n,currentTarget:a}}function Gu(e,n){for(var a=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=rs(e,a),h!=null&&o.unshift(Zo(e,h,f)),h=rs(e,n),h!=null&&o.push(Zo(e,h,f))),e=e.return}return o}function Ca(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function c_(e,n,a,o,h){for(var f=n._reactName,y=[];a!==null&&a!==o;){var E=a,b=E.alternate,N=E.stateNode;if(E=E.tag,b!==null&&b===o)break;E!==5&&E!==26&&E!==27||N===null||(b=N,h?(N=rs(a,f),N!=null&&y.unshift(Zo(a,N,b))):h||(N=rs(a,f),N!=null&&y.push(Zo(a,N,b)))),a=a.return}y.length!==0&&e.push({event:n,listeners:y})}var P0=/\r\n?/g,k0=/\u0000|\uFFFD/g;function h_(e){return(typeof e=="string"?e:""+e).replace(P0,`
`).replace(k0,"")}function f_(e,n){return n=h_(n),h_(e)===n}function Ku(){}function Qt(e,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||pn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&pn(e,""+o);break;case"className":ar(e,"class",o);break;case"tabIndex":ar(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":ar(e,a,o);break;case"style":Yl(e,o,f);break;case"data":if(n!=="object"){ar(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Gn(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Qt(e,n,"name",h.name,h,null),Qt(e,n,"formEncType",h.formEncType,h,null),Qt(e,n,"formMethod",h.formMethod,h,null),Qt(e,n,"formTarget",h.formTarget,h,null)):(Qt(e,n,"encType",h.encType,h,null),Qt(e,n,"method",h.method,h,null),Qt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Gn(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=Ku);break;case"onScroll":o!=null&&Vt("scroll",e);break;case"onScrollEnd":o!=null&&Vt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=Gn(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Vt("beforetoggle",e),Vt("toggle",e),sr(e,"popover",o);break;case"xlinkActuate":gn(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":gn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":gn(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":gn(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":gn(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":gn(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":gn(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":gn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":gn(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":sr(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=fh.get(a)||a,sr(e,a,o))}}function Ff(e,n,a,o,h,f){switch(a){case"style":Yl(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof o=="string"?pn(e,o):(typeof o=="number"||typeof o=="bigint")&&pn(e,""+o);break;case"onScroll":o!=null&&Vt("scroll",e);break;case"onScrollEnd":o!=null&&Vt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Ku);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ys.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=e[ye]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):sr(e,a,o)}}}function Le(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",e),Vt("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var y=a[f];if(y!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Qt(e,n,f,y,a,null)}}h&&Qt(e,n,"srcSet",a.srcSet,a,null),o&&Qt(e,n,"src",a.src,a,null);return;case"input":Vt("invalid",e);var E=f=y=h=null,b=null,N=null;for(o in a)if(a.hasOwnProperty(o)){var q=a[o];if(q!=null)switch(o){case"name":h=q;break;case"type":y=q;break;case"checked":b=q;break;case"defaultChecked":N=q;break;case"value":f=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,n));break;default:Qt(e,n,o,q,a,null)}}ns(e,f,E,b,N,y,h,!1),es(e);return;case"select":Vt("invalid",e),o=y=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":o=E;default:Qt(e,n,h,E,a,null)}n=f,a=y,e.multiple=!!o,n!=null?zt(e,!!o,n,!1):a!=null&&zt(e,!!o,a,!0);return;case"textarea":Vt("invalid",e),f=h=o=null;for(y in a)if(a.hasOwnProperty(y)&&(E=a[y],E!=null))switch(y){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Qt(e,n,y,E,a,null)}lr(e,o,h,f),es(e);return;case"option":for(b in a)if(a.hasOwnProperty(b)&&(o=a[b],o!=null))switch(b){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Qt(e,n,b,o,a,null)}return;case"dialog":Vt("cancel",e),Vt("close",e);break;case"iframe":case"object":Vt("load",e);break;case"video":case"audio":for(o=0;o<Wo.length;o++)Vt(Wo[o],e);break;case"image":Vt("error",e),Vt("load",e);break;case"details":Vt("toggle",e);break;case"embed":case"source":case"link":Vt("error",e),Vt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(N in a)if(a.hasOwnProperty(N)&&(o=a[N],o!=null))switch(N){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Qt(e,n,N,o,a,null)}return;default:if(mo(n)){for(q in a)a.hasOwnProperty(q)&&(o=a[q],o!==void 0&&Ff(e,n,q,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&Qt(e,n,E,o,a,null))}function U0(e,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,y=null,E=null,b=null,N=null,q=null;for(H in a){var K=a[H];if(a.hasOwnProperty(H)&&K!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":b=K;default:o.hasOwnProperty(H)||Qt(e,n,H,null,o,K)}}for(var x in o){var H=o[x];if(K=a[x],o.hasOwnProperty(x)&&(H!=null||K!=null))switch(x){case"type":f=H;break;case"name":h=H;break;case"checked":N=H;break;case"defaultChecked":q=H;break;case"value":y=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,n));break;default:H!==K&&Qt(e,n,x,H,o,K)}}or(e,y,E,b,N,q,f,h);return;case"select":H=y=E=x=null;for(f in a)if(b=a[f],a.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":H=b;default:o.hasOwnProperty(f)||Qt(e,n,f,null,o,b)}for(h in o)if(f=o[h],b=a[h],o.hasOwnProperty(h)&&(f!=null||b!=null))switch(h){case"value":x=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==b&&Qt(e,n,h,f,o,b)}n=E,a=y,o=H,x!=null?zt(e,!!a,x,!1):!!o!=!!a&&(n!=null?zt(e,!!a,n,!0):zt(e,!!a,a?[]:"",!1));return;case"textarea":H=x=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Qt(e,n,E,null,o,h)}for(y in o)if(h=o[y],f=a[y],o.hasOwnProperty(y)&&(h!=null||f!=null))switch(y){case"value":x=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Qt(e,n,y,h,o,f)}is(e,x,H);return;case"option":for(var st in a)if(x=a[st],a.hasOwnProperty(st)&&x!=null&&!o.hasOwnProperty(st))switch(st){case"selected":e.selected=!1;break;default:Qt(e,n,st,null,o,x)}for(b in o)if(x=o[b],H=a[b],o.hasOwnProperty(b)&&x!==H&&(x!=null||H!=null))switch(b){case"selected":e.selected=x&&typeof x!="function"&&typeof x!="symbol";break;default:Qt(e,n,b,x,o,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in a)x=a[vt],a.hasOwnProperty(vt)&&x!=null&&!o.hasOwnProperty(vt)&&Qt(e,n,vt,null,o,x);for(N in o)if(x=o[N],H=a[N],o.hasOwnProperty(N)&&x!==H&&(x!=null||H!=null))switch(N){case"children":case"dangerouslySetInnerHTML":if(x!=null)throw Error(s(137,n));break;default:Qt(e,n,N,x,o,H)}return;default:if(mo(n)){for(var ae in a)x=a[ae],a.hasOwnProperty(ae)&&x!==void 0&&!o.hasOwnProperty(ae)&&Ff(e,n,ae,void 0,o,x);for(q in o)x=o[q],H=a[q],!o.hasOwnProperty(q)||x===H||x===void 0&&H===void 0||Ff(e,n,q,x,o,H);return}}for(var P in a)x=a[P],a.hasOwnProperty(P)&&x!=null&&!o.hasOwnProperty(P)&&Qt(e,n,P,null,o,x);for(K in o)x=o[K],H=a[K],!o.hasOwnProperty(K)||x===H||x==null&&H==null||Qt(e,n,K,x,o,H)}var Gf=null,Kf=null;function Qu(e){return e.nodeType===9?e:e.ownerDocument}function d_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function m_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Qf(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Yf=null;function L0(){var e=window.event;return e&&e.type==="popstate"?e===Yf?!1:(Yf=e,!0):(Yf=null,!1)}var g_=typeof setTimeout=="function"?setTimeout:void 0,x0=typeof clearTimeout=="function"?clearTimeout:void 0,p_=typeof Promise=="function"?Promise:void 0,z0=typeof queueMicrotask=="function"?queueMicrotask:typeof p_<"u"?function(e){return p_.resolve(null).then(e).catch(B0)}:g_;function B0(e){setTimeout(function(){throw e})}function Xf(e,n){var a=n,o=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(o===0){e.removeChild(h),al(n);return}o--}else a!=="$"&&a!=="$?"&&a!=="$!"||o++;a=h}while(a);al(n)}function $f(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":$f(a),ts(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function H0(e,n,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[nr])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Ln(e.nextSibling),e===null)break}return null}function q0(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Ln(e.nextSibling),e===null))return null;return e}function Ln(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}function __(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return e;n--}else a==="/$"&&n++}e=e.previousSibling}return null}function y_(e,n,a){switch(n=Qu(a),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}var Dn=new Map,v_=new Set;function Yu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.ownerDocument}var Li=nt.d;nt.d={f:j0,r:F0,D:G0,C:K0,L:Q0,m:Y0,X:$0,S:X0,M:W0};function j0(){var e=Li.f(),n=Bu();return e||n}function F0(e){var n=gi(e);n!==null&&n.tag===5&&n.type==="form"?Kg(n):Li.r(e)}var Da=typeof document>"u"?null:document;function E_(e,n,a){var o=Da;if(o&&typeof n=="string"&&n){var h=ie(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),v_.has(h)||(v_.add(h),e={rel:e,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Le(n,"link",e),Zt(n),o.head.appendChild(n)))}}function G0(e){Li.D(e),E_("dns-prefetch",e,null)}function K0(e,n){Li.C(e,n),E_("preconnect",e,n)}function Q0(e,n,a){Li.L(e,n,a);var o=Da;if(o&&e&&n){var h='link[rel="preload"][as="'+ie(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+ie(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+ie(a.imageSizes)+'"]')):h+='[href="'+ie(e)+'"]';var f=h;switch(n){case"style":f=Oa(e);break;case"script":f=Na(e)}Dn.has(f)||(e=I({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),Dn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(Jo(f))||n==="script"&&o.querySelector(tl(f))||(n=o.createElement("link"),Le(n,"link",e),Zt(n),o.head.appendChild(n)))}}function Y0(e,n){Li.m(e,n);var a=Da;if(a&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+ie(o)+'"][href="'+ie(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Na(e)}if(!Dn.has(f)&&(e=I({rel:"modulepreload",href:e},n),Dn.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(tl(f)))return}o=a.createElement("link"),Le(o,"link",e),Zt(o),a.head.appendChild(o)}}}function X0(e,n,a){Li.S(e,n,a);var o=Da;if(o&&e){var h=rr(o).hoistableStyles,f=Oa(e);n=n||"default";var y=h.get(f);if(!y){var E={loading:0,preload:null};if(y=o.querySelector(Jo(f)))E.loading=5;else{e=I({rel:"stylesheet",href:e,"data-precedence":n},a),(a=Dn.get(f))&&Wf(e,a);var b=y=o.createElement("link");Zt(b),Le(b,"link",e),b._p=new Promise(function(N,q){b.onload=N,b.onerror=q}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Xu(y,n,o)}y={type:"stylesheet",instance:y,count:1,state:E},h.set(f,y)}}}function $0(e,n){Li.X(e,n);var a=Da;if(a&&e){var o=rr(a).hoistableScripts,h=Na(e),f=o.get(h);f||(f=a.querySelector(tl(h)),f||(e=I({src:e,async:!0},n),(n=Dn.get(h))&&Zf(e,n),f=a.createElement("script"),Zt(f),Le(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function W0(e,n){Li.M(e,n);var a=Da;if(a&&e){var o=rr(a).hoistableScripts,h=Na(e),f=o.get(h);f||(f=a.querySelector(tl(h)),f||(e=I({src:e,async:!0,type:"module"},n),(n=Dn.get(h))&&Zf(e,n),f=a.createElement("script"),Zt(f),Le(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function T_(e,n,a,o){var h=(h=dn.current)?Yu(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Oa(a.href),a=rr(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Oa(a.href);var f=rr(h).hoistableStyles,y=f.get(e);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,y),(f=h.querySelector(Jo(e)))&&!f._p&&(y.instance=f,y.state.loading=5),Dn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Dn.set(e,a),f||Z0(h,e,a,y.state))),n&&o===null)throw Error(s(528,""));return y}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Na(a),a=rr(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Oa(e){return'href="'+ie(e)+'"'}function Jo(e){return'link[rel="stylesheet"]['+e+"]"}function A_(e){return I({},e,{"data-precedence":e.precedence,precedence:null})}function Z0(e,n,a,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Le(n,"link",a),Zt(n),e.head.appendChild(n))}function Na(e){return'[src="'+ie(e)+'"]'}function tl(e){return"script[async]"+e}function S_(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+ie(a.href)+'"]');if(o)return n.instance=o,Zt(o),o;var h=I({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Zt(o),Le(o,"style",h),Xu(o,a.precedence,e),n.instance=o;case"stylesheet":h=Oa(a.href);var f=e.querySelector(Jo(h));if(f)return n.state.loading|=4,n.instance=f,Zt(f),f;o=A_(a),(h=Dn.get(h))&&Wf(o,h),f=(e.ownerDocument||e).createElement("link"),Zt(f);var y=f;return y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Le(f,"link",o),n.state.loading|=4,Xu(f,a.precedence,e),n.instance=f;case"script":return f=Na(a.src),(h=e.querySelector(tl(f)))?(n.instance=h,Zt(h),h):(o=a,(h=Dn.get(f))&&(o=I({},a),Zf(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Zt(h),Le(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Xu(o,a.precedence,e));return n.instance}function Xu(e,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,y=0;y<o.length;y++){var E=o[y];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function Wf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Zf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var $u=null;function b_(e,n,a){if($u===null){var o=new Map,h=$u=new Map;h.set(a,o)}else h=$u,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[nr]||f[Ie]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=e+y;var E=o.get(y);E?E.push(f):o.set(y,[f])}}return o}function R_(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function J0(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function w_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var el=null;function tA(){}function eA(e,n,a){if(el===null)throw Error(s(475));var o=el;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var h=Oa(a.href),f=e.querySelector(Jo(h));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=Wu.bind(o),e.then(o,o)),n.state.loading|=4,n.instance=f,Zt(f);return}f=e.ownerDocument||e,a=A_(a),(h=Dn.get(h))&&Wf(a,h),f=f.createElement("link"),Zt(f);var y=f;y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Le(f,"link",a),n.instance=f}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(o.count++,n=Wu.bind(o),e.addEventListener("load",n),e.addEventListener("error",n))}}function nA(){if(el===null)throw Error(s(475));var e=el;return e.stylesheets&&e.count===0&&Jf(e,e.stylesheets),0<e.count?function(n){var a=setTimeout(function(){if(e.stylesheets&&Jf(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a)}}:null}function Wu(){if(this.count--,this.count===0){if(this.stylesheets)Jf(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Zu=null;function Jf(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Zu=new Map,n.forEach(iA,e),Zu=null,Wu.call(e))}function iA(e,n){if(!(n.state.loading&4)){var a=Zu.get(e);if(a)var o=a.get(null);else{a=new Map,Zu.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var y=h[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),o=y)}o&&a.set(null,o)}h=n.instance,y=h.getAttribute("data-precedence"),f=a.get(y)||o,f===o&&a.set(null,h),a.set(y,h),this.count++,o=Wu.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var nl={$$typeof:j,Provider:null,Consumer:null,_currentValue:bt,_currentValue2:bt,_threadCount:0};function rA(e,n,a,o,h,f,y,E){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ks(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ks(0),this.hiddenUpdates=Ks(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function I_(e,n,a,o,h,f,y,E,b,N,q,K){return e=new rA(e,n,a,y,E,b,N,K),n=1,f===!0&&(n|=24),f=In(3,null,null,n),e.current=f,f.stateNode=e,n=Oh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},hf(f),e}function C_(e){return e?(e=ua,e):ua}function D_(e,n,a,o,h,f){h=C_(h),o.context===null?o.context=h:o.pendingContext=h,o=_r(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=yr(e,o,n),a!==null&&(Je(a,e,n),zo(a,e,n))}function O_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function td(e,n){O_(e,n),(e=e.alternate)&&O_(e,n)}function N_(e){if(e.tag===13){var n=cr(e,67108864);n!==null&&Je(n,e,67108864),td(e,67108864)}}var Ju=!0;function sA(e,n,a,o){var h=S.T;S.T=null;var f=nt.p;try{nt.p=2,ed(e,n,a,o)}finally{nt.p=f,S.T=h}}function aA(e,n,a,o){var h=S.T;S.T=null;var f=nt.p;try{nt.p=8,ed(e,n,a,o)}finally{nt.p=f,S.T=h}}function ed(e,n,a,o){if(Ju){var h=nd(o);if(h===null)jf(e,n,o,tc,a),M_(e,o);else if(lA(h,e,n,a,o))o.stopPropagation();else if(M_(e,o),n&4&&-1<oA.indexOf(e)){for(;h!==null;){var f=gi(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=Vn(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var b=1<<31-Xe(y);E.entanglements[1]|=b,y&=~b}ni(f),(te&6)===0&&(Lu=tn()+500,$o(0))}}break;case 13:E=cr(f,2),E!==null&&Je(E,f,2),Bu(),td(f,2)}if(f=nd(o),f===null&&jf(e,n,o,tc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else jf(e,n,o,null,a)}}function nd(e){return e=Ws(e),id(e)}var tc=null;function id(e){if(tc=null,e=Mn(e),e!==null){var n=lt(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=qt(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return tc=e,null}function V_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(zl()){case _e:return 2;case we:return 8;case di:case Bl:return 32;case io:return 268435456;default:return 32}default:return 32}}var rd=!1,Rr=null,wr=null,Ir=null,il=new Map,rl=new Map,Cr=[],oA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function M_(e,n){switch(e){case"focusin":case"focusout":Rr=null;break;case"dragenter":case"dragleave":wr=null;break;case"mouseover":case"mouseout":Ir=null;break;case"pointerover":case"pointerout":il.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":rl.delete(n.pointerId)}}function sl(e,n,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=gi(n),n!==null&&N_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function lA(e,n,a,o,h){switch(n){case"focusin":return Rr=sl(Rr,e,n,a,o,h),!0;case"dragenter":return wr=sl(wr,e,n,a,o,h),!0;case"mouseover":return Ir=sl(Ir,e,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return il.set(f,sl(il.get(f)||null,e,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,rl.set(f,sl(rl.get(f)||null,e,n,a,o,h)),!0}return!1}function P_(e){var n=Mn(e.target);if(n!==null){var a=lt(n);if(a!==null){if(n=a.tag,n===13){if(n=qt(a),n!==null){e.blockedOn=n,er(e.priority,function(){if(a.tag===13){var o=hn(),h=cr(a,o);h!==null&&Je(h,a,o),td(a,o)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ec(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=nd(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);_n=o,a.target.dispatchEvent(o),_n=null}else return n=gi(a),n!==null&&N_(n),e.blockedOn=a,!1;n.shift()}return!0}function k_(e,n,a){ec(e)&&a.delete(n)}function uA(){rd=!1,Rr!==null&&ec(Rr)&&(Rr=null),wr!==null&&ec(wr)&&(wr=null),Ir!==null&&ec(Ir)&&(Ir=null),il.forEach(k_),rl.forEach(k_)}function nc(e,n){e.blockedOn===n&&(e.blockedOn=null,rd||(rd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,uA)))}var ic=null;function U_(e){ic!==e&&(ic=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){ic===e&&(ic=null);for(var n=0;n<e.length;n+=3){var a=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(id(o||a)===null)continue;break}var f=gi(a);f!==null&&(e.splice(n,3),n-=3,Kh(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function al(e){function n(b){return nc(b,e)}Rr!==null&&nc(Rr,e),wr!==null&&nc(wr,e),Ir!==null&&nc(Ir,e),il.forEach(n),rl.forEach(n);for(var a=0;a<Cr.length;a++){var o=Cr[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Cr.length&&(a=Cr[0],a.blockedOn===null);)P_(a),a.blockedOn===null&&Cr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],y=h[ye]||null;if(typeof f=="function")y||U_(a);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,y=f[ye]||null)E=y.formAction;else if(id(h)!==null)continue}else E=y.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),U_(a)}}}function sd(e){this._internalRoot=e}rc.prototype.render=sd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,o=hn();D_(a,o,e,n,null,null)},rc.prototype.unmount=sd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;e.tag===0&&wa(),D_(e.current,2,null,e,null,null),Bu(),n[mi]=null}};function rc(e){this._internalRoot=e}rc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Gl();e={blockedOn:null,target:e,priority:n};for(var a=0;a<Cr.length&&n!==0&&n<Cr[a].priority;a++);Cr.splice(a,0,e),a===0&&P_(e)}};var L_=t.version;if(L_!=="19.0.0")throw Error(s(527,L_,"19.0.0"));nt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=Y(n),e=e!==null?at(e):null,e=e===null?null:e.stateNode,e};var cA={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:S,findFiberByHostInstance:Mn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sc.isDisabled&&sc.supportsFiber)try{Xi=sc.inject(cA),He=sc}catch{}}return ll.createRoot=function(e,n){if(!l(e))throw Error(s(299));var a=!1,o="",h=tp,f=ep,y=np,E=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=I_(e,1,!1,null,null,a,o,h,f,y,E,null),e[mi]=n.current,qf(e.nodeType===8?e.parentNode:e),new sd(n)},ll.hydrateRoot=function(e,n,a){if(!l(e))throw Error(s(299));var o=!1,h="",f=tp,y=ep,E=np,b=null,N=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(b=a.unstable_transitionCallbacks),a.formState!==void 0&&(N=a.formState)),n=I_(e,1,!0,n,a??null,o,h,f,y,E,b,N),n.context=C_(null),a=n.current,o=hn(),h=_r(o),h.callback=null,yr(a,h,o),n.current.lanes=o,oe(n,o),ni(n),e[mi]=n.current,qf(e),new rc(n)},ll.version="19.0.0",ll}var Q_;function EA(){if(Q_)return ld.exports;Q_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),ld.exports=vA(),ld.exports}var TA=EA();const AA=()=>{};var Y_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv=function(r){const t=[];let i=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},SA=function(r){const t=[];let i=0,s=0;for(;i<r.length;){const l=r[i++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],g=r[i++],p=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const c=r[i++],d=r[i++];t[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},Ev={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,g=d?r[l+1]:0,p=l+2<r.length,v=p?r[l+2]:0,A=c>>2,C=(c&3)<<4|g>>4;let z=(g&15)<<2|v>>6,j=v&63;p||(j=64,d||(z=64)),s.push(i[A],i[C],i[z],i[j])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(vv(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):SA(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],g=l<r.length?i[r.charAt(l)]:0;++l;const v=l<r.length?i[r.charAt(l)]:64;++l;const C=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||g==null||v==null||C==null)throw new bA;const z=c<<2|g>>4;if(s.push(z),v!==64){const j=g<<4&240|v>>2;if(s.push(j),C!==64){const $=v<<6&192|C;s.push($)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class bA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const RA=function(r){const t=vv(r);return Ev.encodeByteArray(t,!0)},Sc=function(r){return RA(r).replace(/\./g,"")},Tv=function(r){try{return Ev.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA=()=>wA().__FIREBASE_DEFAULTS__,CA=()=>{if(typeof process>"u"||typeof Y_>"u")return;const r=Y_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},DA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&Tv(r[1]);return t&&JSON.parse(t)},qc=()=>{try{return AA()||IA()||CA()||DA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Av=r=>{var t,i;return(i=(t=qc())===null||t===void 0?void 0:t.emulatorHosts)===null||i===void 0?void 0:i[r]},OA=r=>{const t=Av(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),s]:[t.substring(0,i),s]},Sv=()=>{var r;return(r=qc())===null||r===void 0?void 0:r.config},bv=r=>{var t;return(t=qc())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VA(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Sc(JSON.stringify(i)),Sc(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function MA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qe())}function PA(){var r;const t=(r=qc())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function kA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function UA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function LA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xA(){const r=Qe();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function zA(){return!PA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function BA(){try{return typeof indexedDB=="object"}catch{return!1}}function HA(){return new Promise((r,t)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{var c;t(((c=l.error)===null||c===void 0?void 0:c.message)||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA="FirebaseError";class Ki extends Error{constructor(t,i,s){super(i),this.code=t,this.customData=s,this.name=qA,Object.setPrototypeOf(this,Ki.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dl.prototype.create)}}class Dl{constructor(t,i,s){this.service=t,this.serviceName=i,this.errors=s}create(t,...i){const s=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?jA(c,s):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new Ki(l,g,s)}}function jA(r,t){return r.replace(FA,(i,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const FA=/\{\$([^}]+)}/g;function GA(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Ns(r,t){if(r===t)return!0;const i=Object.keys(r),s=Object.keys(t);for(const l of i){if(!s.includes(l))return!1;const c=r[l],d=t[l];if(X_(c)&&X_(d)){if(!Ns(c,d))return!1}else if(c!==d)return!1}for(const l of s)if(!i.includes(l))return!1;return!0}function X_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ol(r){const t=[];for(const[i,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function ul(r){const t={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[l,c]=s.split("=");t[decodeURIComponent(l)]=decodeURIComponent(c)}}),t}function cl(r){const t=r.indexOf("?");if(!t)return"";const i=r.indexOf("#",t);return r.substring(t,i>0?i:void 0)}function KA(r,t){const i=new QA(r,t);return i.subscribe.bind(i)}class QA{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,s){let l;if(t===void 0&&i===void 0&&s===void 0)throw new Error("Missing Observer.");YA(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:s},l.next===void 0&&(l.next=fd),l.error===void 0&&(l.error=fd),l.complete===void 0&&(l.complete=fd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function YA(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function fd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(r){return r&&r._delegate?r._delegate:r}class Vs{constructor(t,i,s){this.name=t,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const s=new NA;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){var i;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(i=t==null?void 0:t.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(l)return null;throw c}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(WA(t))try{this.getOrInitializeService({instanceIdentifier:Ds})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(t=Ds){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ds){return this.instances.has(t)}getOptions(t=Ds){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&d.resolve(l)}return l}onInit(t,i){var s;const l=this.normalizeInstanceIdentifier(i),c=(s=this.onInitCallbacks.get(l))!==null&&s!==void 0?s:new Set;c.add(t),this.onInitCallbacks.set(l,c);const d=this.instances.get(l);return d&&t(d,l),()=>{c.delete(t)}}invokeOnInitCallbacks(t,i){const s=this.onInitCallbacks.get(i);if(s)for(const l of s)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:$A(t),options:i}),this.instances.set(t,s),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Ds){return this.component?this.component.multipleInstances?t:Ds:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $A(r){return r===Ds?void 0:r}function WA(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new XA(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ot||(Ot={}));const JA={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},tS=Ot.INFO,eS={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},nS=(r,t,...i)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),l=eS[t];if(l)console[l](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class $d{constructor(t){this.name=t,this._logLevel=tS,this._logHandler=nS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ot))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?JA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...t),this._logHandler(this,Ot.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...t),this._logHandler(this,Ot.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...t),this._logHandler(this,Ot.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...t),this._logHandler(this,Ot.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...t),this._logHandler(this,Ot.ERROR,...t)}}const iS=(r,t)=>t.some(i=>r instanceof i);let $_,W_;function rS(){return $_||($_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sS(){return W_||(W_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Rv=new WeakMap,Rd=new WeakMap,wv=new WeakMap,dd=new WeakMap,Wd=new WeakMap;function aS(r){const t=new Promise((i,s)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Lr(r.result)),l()},d=()=>{s(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&Rv.set(i,r)}).catch(()=>{}),Wd.set(t,r),t}function oS(r){if(Rd.has(r))return;const t=new Promise((i,s)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Rd.set(r,t)}let wd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Rd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||wv.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Lr(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function lS(r){wd=r(wd)}function uS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const s=r.call(md(this),t,...i);return wv.set(s,t.sort?t.sort():[t]),Lr(s)}:sS().includes(r)?function(...t){return r.apply(md(this),t),Lr(Rv.get(this))}:function(...t){return Lr(r.apply(md(this),t))}}function cS(r){return typeof r=="function"?uS(r):(r instanceof IDBTransaction&&oS(r),iS(r,rS())?new Proxy(r,wd):r)}function Lr(r){if(r instanceof IDBRequest)return aS(r);if(dd.has(r))return dd.get(r);const t=cS(r);return t!==r&&(dd.set(r,t),Wd.set(t,r)),t}const md=r=>Wd.get(r);function hS(r,t,{blocked:i,upgrade:s,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),g=Lr(d);return s&&d.addEventListener("upgradeneeded",p=>{s(Lr(d.result),p.oldVersion,p.newVersion,Lr(d.transaction),p)}),i&&d.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),g.then(p=>{c&&p.addEventListener("close",()=>c()),l&&p.addEventListener("versionchange",v=>l(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const fS=["get","getKey","getAll","getAllKeys","count"],dS=["put","add","delete","clear"],gd=new Map;function Z_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(gd.get(t))return gd.get(t);const i=t.replace(/FromIndex$/,""),s=t!==i,l=dS.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(l||fS.includes(i)))return;const c=async function(d,...g){const p=this.transaction(d,l?"readwrite":"readonly");let v=p.store;return s&&(v=v.index(g.shift())),(await Promise.all([v[i](...g),l&&p.done]))[0]};return gd.set(t,c),c}lS(r=>({...r,get:(t,i,s)=>Z_(t,i)||r.get(t,i,s),has:(t,i)=>!!Z_(t,i)||r.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(gS(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function gS(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Id="@firebase/app",J_="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi=new $d("@firebase/app"),pS="@firebase/app-compat",_S="@firebase/analytics-compat",yS="@firebase/analytics",vS="@firebase/app-check-compat",ES="@firebase/app-check",TS="@firebase/auth",AS="@firebase/auth-compat",SS="@firebase/database",bS="@firebase/data-connect",RS="@firebase/database-compat",wS="@firebase/functions",IS="@firebase/functions-compat",CS="@firebase/installations",DS="@firebase/installations-compat",OS="@firebase/messaging",NS="@firebase/messaging-compat",VS="@firebase/performance",MS="@firebase/performance-compat",PS="@firebase/remote-config",kS="@firebase/remote-config-compat",US="@firebase/storage",LS="@firebase/storage-compat",xS="@firebase/firestore",zS="@firebase/vertexai",BS="@firebase/firestore-compat",HS="firebase",qS="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cd="[DEFAULT]",jS={[Id]:"fire-core",[pS]:"fire-core-compat",[yS]:"fire-analytics",[_S]:"fire-analytics-compat",[ES]:"fire-app-check",[vS]:"fire-app-check-compat",[TS]:"fire-auth",[AS]:"fire-auth-compat",[SS]:"fire-rtdb",[bS]:"fire-data-connect",[RS]:"fire-rtdb-compat",[wS]:"fire-fn",[IS]:"fire-fn-compat",[CS]:"fire-iid",[DS]:"fire-iid-compat",[OS]:"fire-fcm",[NS]:"fire-fcm-compat",[VS]:"fire-perf",[MS]:"fire-perf-compat",[PS]:"fire-rc",[kS]:"fire-rc-compat",[US]:"fire-gcs",[LS]:"fire-gcs-compat",[xS]:"fire-fst",[BS]:"fire-fst-compat",[zS]:"fire-vertex","fire-js":"fire-js",[HS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bc=new Map,FS=new Map,Dd=new Map;function ty(r,t){try{r.container.addComponent(t)}catch(i){qi.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Ha(r){const t=r.name;if(Dd.has(t))return qi.debug(`There were multiple attempts to register component ${t}.`),!1;Dd.set(t,r);for(const i of bc.values())ty(i,r);for(const i of FS.values())ty(i,r);return!0}function Zd(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function On(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xr=new Dl("app","Firebase",GS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(t,i,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Vs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw xr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa=qS;function Iv(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const s=Object.assign({name:Cd,automaticDataCollectionEnabled:!1},t),l=s.name;if(typeof l!="string"||!l)throw xr.create("bad-app-name",{appName:String(l)});if(i||(i=Sv()),!i)throw xr.create("no-options");const c=bc.get(l);if(c){if(Ns(i,c.options)&&Ns(s,c.config))return c;throw xr.create("duplicate-app",{appName:l})}const d=new ZA(l);for(const p of Dd.values())d.addComponent(p);const g=new KS(i,s,d);return bc.set(l,g),g}function Cv(r=Cd){const t=bc.get(r);if(!t&&r===Cd&&Sv())return Iv();if(!t)throw xr.create("no-app",{appName:r});return t}function zr(r,t,i){var s;let l=(s=jS[r])!==null&&s!==void 0?s:r;i&&(l+=`-${i}`);const c=l.match(/\s|\//),d=t.match(/\s|\//);if(c||d){const g=[`Unable to register library "${l}" with version "${t}":`];c&&g.push(`library name "${l}" contains illegal characters (whitespace or "/")`),c&&d&&g.push("and"),d&&g.push(`version name "${t}" contains illegal characters (whitespace or "/")`),qi.warn(g.join(" "));return}Ha(new Vs(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS="firebase-heartbeat-database",YS=1,vl="firebase-heartbeat-store";let pd=null;function Dv(){return pd||(pd=hS(QS,YS,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(vl)}catch(i){console.warn(i)}}}}).catch(r=>{throw xr.create("idb-open",{originalErrorMessage:r.message})})),pd}async function XS(r){try{const i=(await Dv()).transaction(vl),s=await i.objectStore(vl).get(Ov(r));return await i.done,s}catch(t){if(t instanceof Ki)qi.warn(t.message);else{const i=xr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});qi.warn(i.message)}}}async function ey(r,t){try{const s=(await Dv()).transaction(vl,"readwrite");await s.objectStore(vl).put(t,Ov(r)),await s.done}catch(i){if(i instanceof Ki)qi.warn(i.message);else{const s=xr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});qi.warn(s.message)}}}function Ov(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S=1024,WS=30;class ZS{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new tb(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,i;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=ny();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats.length>WS){const d=eb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){qi.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=ny(),{heartbeatsToSend:s,unsentEntries:l}=JS(this._heartbeatsCache.heartbeats),c=Sc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return qi.warn(i),""}}}function ny(){return new Date().toISOString().substring(0,10)}function JS(r,t=$S){const i=[];let s=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),iy(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),iy(i)>t){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class tb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return BA()?HA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await XS(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return ey(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return ey(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function iy(r){return Sc(JSON.stringify({version:2,heartbeats:r})).length}function eb(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nb(r){Ha(new Vs("platform-logger",t=>new mS(t),"PRIVATE")),Ha(new Vs("heartbeat",t=>new ZS(t),"PRIVATE")),zr(Id,J_,r),zr(Id,J_,"esm2017"),zr("fire-js","")}nb("");var ib="firebase",rb="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zr(ib,rb,"app");var ry=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Br,Nv;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(M,R){function S(){}S.prototype=R.prototype,M.D=R.prototype,M.prototype=new S,M.prototype.constructor=M,M.C=function(I,V,U){for(var w=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)w[pe-2]=arguments[pe];return R.prototype[V].apply(I,w)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(M,R,S){S||(S=0);var I=Array(16);if(typeof R=="string")for(var V=0;16>V;++V)I[V]=R.charCodeAt(S++)|R.charCodeAt(S++)<<8|R.charCodeAt(S++)<<16|R.charCodeAt(S++)<<24;else for(V=0;16>V;++V)I[V]=R[S++]|R[S++]<<8|R[S++]<<16|R[S++]<<24;R=M.g[0],S=M.g[1],V=M.g[2];var U=M.g[3],w=R+(U^S&(V^U))+I[0]+3614090360&4294967295;R=S+(w<<7&4294967295|w>>>25),w=U+(V^R&(S^V))+I[1]+3905402710&4294967295,U=R+(w<<12&4294967295|w>>>20),w=V+(S^U&(R^S))+I[2]+606105819&4294967295,V=U+(w<<17&4294967295|w>>>15),w=S+(R^V&(U^R))+I[3]+3250441966&4294967295,S=V+(w<<22&4294967295|w>>>10),w=R+(U^S&(V^U))+I[4]+4118548399&4294967295,R=S+(w<<7&4294967295|w>>>25),w=U+(V^R&(S^V))+I[5]+1200080426&4294967295,U=R+(w<<12&4294967295|w>>>20),w=V+(S^U&(R^S))+I[6]+2821735955&4294967295,V=U+(w<<17&4294967295|w>>>15),w=S+(R^V&(U^R))+I[7]+4249261313&4294967295,S=V+(w<<22&4294967295|w>>>10),w=R+(U^S&(V^U))+I[8]+1770035416&4294967295,R=S+(w<<7&4294967295|w>>>25),w=U+(V^R&(S^V))+I[9]+2336552879&4294967295,U=R+(w<<12&4294967295|w>>>20),w=V+(S^U&(R^S))+I[10]+4294925233&4294967295,V=U+(w<<17&4294967295|w>>>15),w=S+(R^V&(U^R))+I[11]+2304563134&4294967295,S=V+(w<<22&4294967295|w>>>10),w=R+(U^S&(V^U))+I[12]+1804603682&4294967295,R=S+(w<<7&4294967295|w>>>25),w=U+(V^R&(S^V))+I[13]+4254626195&4294967295,U=R+(w<<12&4294967295|w>>>20),w=V+(S^U&(R^S))+I[14]+2792965006&4294967295,V=U+(w<<17&4294967295|w>>>15),w=S+(R^V&(U^R))+I[15]+1236535329&4294967295,S=V+(w<<22&4294967295|w>>>10),w=R+(V^U&(S^V))+I[1]+4129170786&4294967295,R=S+(w<<5&4294967295|w>>>27),w=U+(S^V&(R^S))+I[6]+3225465664&4294967295,U=R+(w<<9&4294967295|w>>>23),w=V+(R^S&(U^R))+I[11]+643717713&4294967295,V=U+(w<<14&4294967295|w>>>18),w=S+(U^R&(V^U))+I[0]+3921069994&4294967295,S=V+(w<<20&4294967295|w>>>12),w=R+(V^U&(S^V))+I[5]+3593408605&4294967295,R=S+(w<<5&4294967295|w>>>27),w=U+(S^V&(R^S))+I[10]+38016083&4294967295,U=R+(w<<9&4294967295|w>>>23),w=V+(R^S&(U^R))+I[15]+3634488961&4294967295,V=U+(w<<14&4294967295|w>>>18),w=S+(U^R&(V^U))+I[4]+3889429448&4294967295,S=V+(w<<20&4294967295|w>>>12),w=R+(V^U&(S^V))+I[9]+568446438&4294967295,R=S+(w<<5&4294967295|w>>>27),w=U+(S^V&(R^S))+I[14]+3275163606&4294967295,U=R+(w<<9&4294967295|w>>>23),w=V+(R^S&(U^R))+I[3]+4107603335&4294967295,V=U+(w<<14&4294967295|w>>>18),w=S+(U^R&(V^U))+I[8]+1163531501&4294967295,S=V+(w<<20&4294967295|w>>>12),w=R+(V^U&(S^V))+I[13]+2850285829&4294967295,R=S+(w<<5&4294967295|w>>>27),w=U+(S^V&(R^S))+I[2]+4243563512&4294967295,U=R+(w<<9&4294967295|w>>>23),w=V+(R^S&(U^R))+I[7]+1735328473&4294967295,V=U+(w<<14&4294967295|w>>>18),w=S+(U^R&(V^U))+I[12]+2368359562&4294967295,S=V+(w<<20&4294967295|w>>>12),w=R+(S^V^U)+I[5]+4294588738&4294967295,R=S+(w<<4&4294967295|w>>>28),w=U+(R^S^V)+I[8]+2272392833&4294967295,U=R+(w<<11&4294967295|w>>>21),w=V+(U^R^S)+I[11]+1839030562&4294967295,V=U+(w<<16&4294967295|w>>>16),w=S+(V^U^R)+I[14]+4259657740&4294967295,S=V+(w<<23&4294967295|w>>>9),w=R+(S^V^U)+I[1]+2763975236&4294967295,R=S+(w<<4&4294967295|w>>>28),w=U+(R^S^V)+I[4]+1272893353&4294967295,U=R+(w<<11&4294967295|w>>>21),w=V+(U^R^S)+I[7]+4139469664&4294967295,V=U+(w<<16&4294967295|w>>>16),w=S+(V^U^R)+I[10]+3200236656&4294967295,S=V+(w<<23&4294967295|w>>>9),w=R+(S^V^U)+I[13]+681279174&4294967295,R=S+(w<<4&4294967295|w>>>28),w=U+(R^S^V)+I[0]+3936430074&4294967295,U=R+(w<<11&4294967295|w>>>21),w=V+(U^R^S)+I[3]+3572445317&4294967295,V=U+(w<<16&4294967295|w>>>16),w=S+(V^U^R)+I[6]+76029189&4294967295,S=V+(w<<23&4294967295|w>>>9),w=R+(S^V^U)+I[9]+3654602809&4294967295,R=S+(w<<4&4294967295|w>>>28),w=U+(R^S^V)+I[12]+3873151461&4294967295,U=R+(w<<11&4294967295|w>>>21),w=V+(U^R^S)+I[15]+530742520&4294967295,V=U+(w<<16&4294967295|w>>>16),w=S+(V^U^R)+I[2]+3299628645&4294967295,S=V+(w<<23&4294967295|w>>>9),w=R+(V^(S|~U))+I[0]+4096336452&4294967295,R=S+(w<<6&4294967295|w>>>26),w=U+(S^(R|~V))+I[7]+1126891415&4294967295,U=R+(w<<10&4294967295|w>>>22),w=V+(R^(U|~S))+I[14]+2878612391&4294967295,V=U+(w<<15&4294967295|w>>>17),w=S+(U^(V|~R))+I[5]+4237533241&4294967295,S=V+(w<<21&4294967295|w>>>11),w=R+(V^(S|~U))+I[12]+1700485571&4294967295,R=S+(w<<6&4294967295|w>>>26),w=U+(S^(R|~V))+I[3]+2399980690&4294967295,U=R+(w<<10&4294967295|w>>>22),w=V+(R^(U|~S))+I[10]+4293915773&4294967295,V=U+(w<<15&4294967295|w>>>17),w=S+(U^(V|~R))+I[1]+2240044497&4294967295,S=V+(w<<21&4294967295|w>>>11),w=R+(V^(S|~U))+I[8]+1873313359&4294967295,R=S+(w<<6&4294967295|w>>>26),w=U+(S^(R|~V))+I[15]+4264355552&4294967295,U=R+(w<<10&4294967295|w>>>22),w=V+(R^(U|~S))+I[6]+2734768916&4294967295,V=U+(w<<15&4294967295|w>>>17),w=S+(U^(V|~R))+I[13]+1309151649&4294967295,S=V+(w<<21&4294967295|w>>>11),w=R+(V^(S|~U))+I[4]+4149444226&4294967295,R=S+(w<<6&4294967295|w>>>26),w=U+(S^(R|~V))+I[11]+3174756917&4294967295,U=R+(w<<10&4294967295|w>>>22),w=V+(R^(U|~S))+I[2]+718787259&4294967295,V=U+(w<<15&4294967295|w>>>17),w=S+(U^(V|~R))+I[9]+3951481745&4294967295,M.g[0]=M.g[0]+R&4294967295,M.g[1]=M.g[1]+(V+(w<<21&4294967295|w>>>11))&4294967295,M.g[2]=M.g[2]+V&4294967295,M.g[3]=M.g[3]+U&4294967295}s.prototype.u=function(M,R){R===void 0&&(R=M.length);for(var S=R-this.blockSize,I=this.B,V=this.h,U=0;U<R;){if(V==0)for(;U<=S;)l(this,M,U),U+=this.blockSize;if(typeof M=="string"){for(;U<R;)if(I[V++]=M.charCodeAt(U++),V==this.blockSize){l(this,I),V=0;break}}else for(;U<R;)if(I[V++]=M[U++],V==this.blockSize){l(this,I),V=0;break}}this.h=V,this.o+=R},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var R=1;R<M.length-8;++R)M[R]=0;var S=8*this.o;for(R=M.length-8;R<M.length;++R)M[R]=S&255,S/=256;for(this.u(M),M=Array(16),R=S=0;4>R;++R)for(var I=0;32>I;I+=8)M[S++]=this.g[R]>>>I&255;return M};function c(M,R){var S=g;return Object.prototype.hasOwnProperty.call(S,M)?S[M]:S[M]=R(M)}function d(M,R){this.h=R;for(var S=[],I=!0,V=M.length-1;0<=V;V--){var U=M[V]|0;I&&U==R||(S[V]=U,I=!1)}this.g=S}var g={};function p(M){return-128<=M&&128>M?c(M,function(R){return new d([R|0],0>R?-1:0)}):new d([M|0],0>M?-1:0)}function v(M){if(isNaN(M)||!isFinite(M))return C;if(0>M)return X(v(-M));for(var R=[],S=1,I=0;M>=S;I++)R[I]=M/S|0,S*=4294967296;return new d(R,0)}function A(M,R){if(M.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(M.charAt(0)=="-")return X(A(M.substring(1),R));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=v(Math.pow(R,8)),I=C,V=0;V<M.length;V+=8){var U=Math.min(8,M.length-V),w=parseInt(M.substring(V,V+U),R);8>U?(U=v(Math.pow(R,U)),I=I.j(U).add(v(w))):(I=I.j(S),I=I.add(v(w)))}return I}var C=p(0),z=p(1),j=p(16777216);r=d.prototype,r.m=function(){if(tt(this))return-X(this).m();for(var M=0,R=1,S=0;S<this.g.length;S++){var I=this.i(S);M+=(0<=I?I:4294967296+I)*R,R*=4294967296}return M},r.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if($(this))return"0";if(tt(this))return"-"+X(this).toString(M);for(var R=v(Math.pow(M,6)),S=this,I="";;){var V=It(S,R).g;S=Tt(S,V.j(R));var U=((0<S.g.length?S.g[0]:S.h)>>>0).toString(M);if(S=V,$(S))return U+I;for(;6>U.length;)U="0"+U;I=U+I}},r.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function $(M){if(M.h!=0)return!1;for(var R=0;R<M.g.length;R++)if(M.g[R]!=0)return!1;return!0}function tt(M){return M.h==-1}r.l=function(M){return M=Tt(this,M),tt(M)?-1:$(M)?0:1};function X(M){for(var R=M.g.length,S=[],I=0;I<R;I++)S[I]=~M.g[I];return new d(S,~M.h).add(z)}r.abs=function(){return tt(this)?X(this):this},r.add=function(M){for(var R=Math.max(this.g.length,M.g.length),S=[],I=0,V=0;V<=R;V++){var U=I+(this.i(V)&65535)+(M.i(V)&65535),w=(U>>>16)+(this.i(V)>>>16)+(M.i(V)>>>16);I=w>>>16,U&=65535,w&=65535,S[V]=w<<16|U}return new d(S,S[S.length-1]&-2147483648?-1:0)};function Tt(M,R){return M.add(X(R))}r.j=function(M){if($(this)||$(M))return C;if(tt(this))return tt(M)?X(this).j(X(M)):X(X(this).j(M));if(tt(M))return X(this.j(X(M)));if(0>this.l(j)&&0>M.l(j))return v(this.m()*M.m());for(var R=this.g.length+M.g.length,S=[],I=0;I<2*R;I++)S[I]=0;for(I=0;I<this.g.length;I++)for(var V=0;V<M.g.length;V++){var U=this.i(I)>>>16,w=this.i(I)&65535,pe=M.i(V)>>>16,ce=M.i(V)&65535;S[2*I+2*V]+=w*ce,ft(S,2*I+2*V),S[2*I+2*V+1]+=U*ce,ft(S,2*I+2*V+1),S[2*I+2*V+1]+=w*pe,ft(S,2*I+2*V+1),S[2*I+2*V+2]+=U*pe,ft(S,2*I+2*V+2)}for(I=0;I<R;I++)S[I]=S[2*I+1]<<16|S[2*I];for(I=R;I<2*R;I++)S[I]=0;return new d(S,0)};function ft(M,R){for(;(M[R]&65535)!=M[R];)M[R+1]+=M[R]>>>16,M[R]&=65535,R++}function Z(M,R){this.g=M,this.h=R}function It(M,R){if($(R))throw Error("division by zero");if($(M))return new Z(C,C);if(tt(M))return R=It(X(M),R),new Z(X(R.g),X(R.h));if(tt(R))return R=It(M,X(R)),new Z(X(R.g),R.h);if(30<M.g.length){if(tt(M)||tt(R))throw Error("slowDivide_ only works with positive integers.");for(var S=z,I=R;0>=I.l(M);)S=ct(S),I=ct(I);var V=Dt(S,1),U=Dt(I,1);for(I=Dt(I,2),S=Dt(S,2);!$(I);){var w=U.add(I);0>=w.l(M)&&(V=V.add(S),U=w),I=Dt(I,1),S=Dt(S,1)}return R=Tt(M,V.j(R)),new Z(V,R)}for(V=C;0<=M.l(R);){for(S=Math.max(1,Math.floor(M.m()/R.m())),I=Math.ceil(Math.log(S)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),U=v(S),w=U.j(R);tt(w)||0<w.l(M);)S-=I,U=v(S),w=U.j(R);$(U)&&(U=z),V=V.add(U),M=Tt(M,w)}return new Z(V,M)}r.A=function(M){return It(this,M).h},r.and=function(M){for(var R=Math.max(this.g.length,M.g.length),S=[],I=0;I<R;I++)S[I]=this.i(I)&M.i(I);return new d(S,this.h&M.h)},r.or=function(M){for(var R=Math.max(this.g.length,M.g.length),S=[],I=0;I<R;I++)S[I]=this.i(I)|M.i(I);return new d(S,this.h|M.h)},r.xor=function(M){for(var R=Math.max(this.g.length,M.g.length),S=[],I=0;I<R;I++)S[I]=this.i(I)^M.i(I);return new d(S,this.h^M.h)};function ct(M){for(var R=M.g.length+1,S=[],I=0;I<R;I++)S[I]=M.i(I)<<1|M.i(I-1)>>>31;return new d(S,M.h)}function Dt(M,R){var S=R>>5;R%=32;for(var I=M.g.length-S,V=[],U=0;U<I;U++)V[U]=0<R?M.i(U+S)>>>R|M.i(U+S+1)<<32-R:M.i(U+S);return new d(V,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Nv=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=A,Br=d}).apply(typeof ry<"u"?ry:typeof self<"u"?self:typeof window<"u"?window:{});var ac=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Vv,hl,Mv,dc,Od,Pv,kv,Uv;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,_){return u==Array.prototype||u==Object.prototype||(u[m]=_.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof ac=="object"&&ac];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=i(this);function l(u,m){if(m)t:{var _=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var k=u[T];if(!(k in _))break t;_=_[k]}u=u[u.length-1],T=_[u],m=m(T),m!=T&&m!=null&&t(_,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var _=0,T=!1,k={next:function(){if(!T&&_<u.length){var B=_++;return{value:m(B,u[B]),done:!1}}return T=!0,{done:!0,value:void 0}}};return k[Symbol.iterator]=function(){return k},k}l("Array.prototype.values",function(u){return u||function(){return c(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function v(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function A(u,m,_){return u.call.apply(u.bind,arguments)}function C(u,m,_){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var k=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(k,T),u.apply(m,k)}}return function(){return u.apply(m,arguments)}}function z(u,m,_){return z=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:C,z.apply(null,arguments)}function j(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function $(u,m){function _(){}_.prototype=m.prototype,u.aa=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(T,k,B){for(var W=Array(arguments.length-2),Pt=2;Pt<arguments.length;Pt++)W[Pt-2]=arguments[Pt];return m.prototype[k].apply(T,W)}}function tt(u){const m=u.length;if(0<m){const _=Array(m);for(let T=0;T<m;T++)_[T]=u[T];return _}return[]}function X(u,m){for(let _=1;_<arguments.length;_++){const T=arguments[_];if(p(T)){const k=u.length||0,B=T.length||0;u.length=k+B;for(let W=0;W<B;W++)u[k+W]=T[W]}else u.push(T)}}class Tt{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ft(u){return/^[\s\xa0]*$/.test(u)}function Z(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function It(u){return It[" "](u),u}It[" "]=function(){};var ct=Z().indexOf("Gecko")!=-1&&!(Z().toLowerCase().indexOf("webkit")!=-1&&Z().indexOf("Edge")==-1)&&!(Z().indexOf("Trident")!=-1||Z().indexOf("MSIE")!=-1)&&Z().indexOf("Edge")==-1;function Dt(u,m,_){for(const T in u)m.call(_,u[T],T,u)}function M(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function R(u){const m={};for(const _ in u)m[_]=u[_];return m}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(u,m){let _,T;for(let k=1;k<arguments.length;k++){T=arguments[k];for(_ in T)u[_]=T[_];for(let B=0;B<S.length;B++)_=S[B],Object.prototype.hasOwnProperty.call(T,_)&&(u[_]=T[_])}}function V(u){var m=1;u=u.split(":");const _=[];for(;0<m&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function U(u){g.setTimeout(()=>{throw u},0)}function w(){var u=qt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class pe{constructor(){this.h=this.g=null}add(m,_){const T=ce.get();T.set(m,_),this.h?this.h.next=T:this.g=T,this.h=T}}var ce=new Tt(()=>new J,u=>u.reset());class J{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let gt,lt=!1,qt=new pe,D=()=>{const u=g.Promise.resolve(void 0);gt=()=>{u.then(Y)}};var Y=()=>{for(var u;u=w();){try{u.h.call(u.g)}catch(_){U(_)}var m=ce;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}lt=!1};function at(){this.s=this.s,this.C=this.C}at.prototype.s=!1,at.prototype.ma=function(){this.s||(this.s=!0,this.N())},at.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function et(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}et.prototype.h=function(){this.defaultPrevented=!0};var nt=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};g.addEventListener("test",_,m),g.removeEventListener("test",_,m)}catch{}return u}();function bt(u,m){if(et.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(ct){t:{try{It(m.nodeName);var k=!0;break t}catch{}k=!1}k||(m=null)}}else _=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:At[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&bt.aa.h.call(this)}}$(bt,et);var At={2:"touch",3:"pen",4:"mouse"};bt.prototype.h=function(){bt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var he="closure_listenable_"+(1e6*Math.random()|0),xt=0;function ne(u,m,_,T,k){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!T,this.ha=k,this.key=++xt,this.da=this.fa=!1}function Gt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ye(u){this.src=u,this.g={},this.h=0}Ye.prototype.add=function(u,m,_,T,k){var B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);var W=dn(u,m,T,k);return-1<W?(m=u[W],_||(m.fa=!1)):(m=new ne(m,this.src,B,!!T,k),m.fa=_,u.push(m)),m};function hi(u,m){var _=m.type;if(_ in u.g){var T=u.g[_],k=Array.prototype.indexOf.call(T,m,void 0),B;(B=0<=k)&&Array.prototype.splice.call(T,k,1),B&&(Gt(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function dn(u,m,_,T){for(var k=0;k<u.length;++k){var B=u[k];if(!B.da&&B.listener==m&&B.capture==!!_&&B.ha==T)return k}return-1}var Qi="closure_lm_"+(1e6*Math.random()|0),Yi={};function fi(u,m,_,T,k){if(Array.isArray(m)){for(var B=0;B<m.length;B++)fi(u,m[B],_,T,k);return null}return _=zl(_),u&&u[he]?u.K(m,_,v(T)?!!T.capture:!1,k):eo(u,m,_,!1,T,k)}function eo(u,m,_,T,k,B){if(!m)throw Error("Invalid event type");var W=v(k)?!!k.capture:!!k,Pt=no(u);if(Pt||(u[Qi]=Pt=new Ye(u)),_=Pt.add(m,_,T,W,B),_.proxy)return _;if(T=qs(),_.proxy=T,T.src=u,T.listener=_,u.addEventListener)nt||(k=W),k===void 0&&(k=!1),u.addEventListener(m.toString(),T,k);else if(u.attachEvent)u.attachEvent(Fs(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function qs(){function u(_){return m.call(u.src,u.listener,_)}const m=oh;return u}function js(u,m,_,T,k){if(Array.isArray(m))for(var B=0;B<m.length;B++)js(u,m[B],_,T,k);else T=v(T)?!!T.capture:!!T,_=zl(_),u&&u[he]?(u=u.i,m=String(m).toString(),m in u.g&&(B=u.g[m],_=dn(B,_,T,k),-1<_&&(Gt(B[_]),Array.prototype.splice.call(B,_,1),B.length==0&&(delete u.g[m],u.h--)))):u&&(u=no(u))&&(m=u.g[m.toString()],u=-1,m&&(u=dn(m,_,T,k)),(_=-1<u?m[u]:null)&&Wr(_))}function Wr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[he])hi(m.i,u);else{var _=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(_,T,u.capture):m.detachEvent?m.detachEvent(Fs(_),T):m.addListener&&m.removeListener&&m.removeListener(T),(_=no(m))?(hi(_,u),_.h==0&&(_.src=null,m[Qi]=null)):Gt(u)}}}function Fs(u){return u in Yi?Yi[u]:Yi[u]="on"+u}function oh(u,m){if(u.da)u=!0;else{m=new bt(m,this);var _=u.listener,T=u.ha||u.src;u.fa&&Wr(u),u=_.call(T,m)}return u}function no(u){return u=u[Qi],u instanceof Ye?u:null}var tn="__closure_events_fn_"+(1e9*Math.random()>>>0);function zl(u){return typeof u=="function"?u:(u[tn]||(u[tn]=function(m){return u.handleEvent(m)}),u[tn])}function _e(){at.call(this),this.i=new Ye(this),this.M=this,this.F=null}$(_e,at),_e.prototype[he]=!0,_e.prototype.removeEventListener=function(u,m,_,T){js(this,u,m,_,T)};function we(u,m){var _,T=u.F;if(T)for(_=[];T;T=T.F)_.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new et(m,u);else if(m instanceof et)m.target=m.target||u;else{var k=m;m=new et(T,u),I(m,k)}if(k=!0,_)for(var B=_.length-1;0<=B;B--){var W=m.g=_[B];k=di(W,T,!0,m)&&k}if(W=m.g=u,k=di(W,T,!0,m)&&k,k=di(W,T,!1,m)&&k,_)for(B=0;B<_.length;B++)W=m.g=_[B],k=di(W,T,!1,m)&&k}_e.prototype.N=function(){if(_e.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var _=u.g[m],T=0;T<_.length;T++)Gt(_[T]);delete u.g[m],u.h--}}this.F=null},_e.prototype.K=function(u,m,_,T){return this.i.add(String(u),m,!1,_,T)},_e.prototype.L=function(u,m,_,T){return this.i.add(String(u),m,!0,_,T)};function di(u,m,_,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var k=!0,B=0;B<m.length;++B){var W=m[B];if(W&&!W.da&&W.capture==_){var Pt=W.listener,ve=W.ha||W.src;W.fa&&hi(u.i,W),k=Pt.call(ve,T)!==!1&&k}}return k&&!T.defaultPrevented}function Bl(u,m,_){if(typeof u=="function")_&&(u=z(u,_));else if(u&&typeof u.handleEvent=="function")u=z(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function io(u){u.g=Bl(()=>{u.g=null,u.i&&(u.i=!1,io(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class lh extends at{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:io(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zr(u){at.call(this),this.h=u,this.g={}}$(Zr,at);var Xi=[];function He(u){Dt(u.g,function(m,_){this.g.hasOwnProperty(_)&&Wr(m)},u),u.g={}}Zr.prototype.N=function(){Zr.aa.N.call(this),He(this)},Zr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ro=g.JSON.stringify,Hn=g.JSON.parse,Xe=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function so(){}so.prototype.h=null;function Hl(u){return u.h||(u.h=u.i())}function ql(){}var qn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function $i(){et.call(this,"d")}$($i,et);function Vn(){et.call(this,"c")}$(Vn,et);var mn={},Wi=null;function Gs(){return Wi=Wi||new _e}mn.La="serverreachability";function ao(u){et.call(this,mn.La,u)}$(ao,et);function Zi(u){const m=Gs();we(m,new ao(m))}mn.STAT_EVENT="statevent";function Ks(u,m){et.call(this,mn.STAT_EVENT,u),this.stat=m}$(Ks,et);function oe(u){const m=Gs();we(m,new Ks(m,u))}mn.Ma="timingevent";function jl(u,m){et.call(this,mn.Ma,u),this.size=m}$(jl,et);function Ji(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function tr(){this.g=!0}tr.prototype.xa=function(){this.g=!1};function Fl(u,m,_,T,k,B){u.info(function(){if(u.g)if(B)for(var W="",Pt=B.split("&"),ve=0;ve<Pt.length;ve++){var kt=Pt[ve].split("=");if(1<kt.length){var De=kt[0];kt=kt[1];var Ee=De.split("_");W=2<=Ee.length&&Ee[1]=="type"?W+(De+"="+kt+"&"):W+(De+"=redacted&")}}else W=null;else W=B;return"XMLHTTP REQ ("+T+") [attempt "+k+"]: "+m+`
`+_+`
`+W})}function Gl(u,m,_,T,k,B,W){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+k+"]: "+m+`
`+_+`
`+B+" "+W})}function er(u,m,_,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ie(u,_)+(T?" "+T:"")})}function jn(u,m){u.info(function(){return"TIMEOUT: "+m})}tr.prototype.info=function(){};function Ie(u,m){if(!u.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var T=_[u];if(!(2>T.length)){var k=T[1];if(Array.isArray(k)&&!(1>k.length)){var B=k[0];if(B!="noop"&&B!="stop"&&B!="close")for(var W=1;W<k.length;W++)k[W]=""}}}}return ro(_)}catch{return m}}var ye={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},mi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Jr;function Qs(){}$(Qs,so),Qs.prototype.g=function(){return new XMLHttpRequest},Qs.prototype.i=function(){return{}},Jr=new Qs;function Fn(u,m,_,T){this.j=u,this.i=m,this.l=_,this.R=T||1,this.U=new Zr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new oo}function oo(){this.i=null,this.g="",this.h=!1}var nr={},ts={};function Mn(u,m,_){u.L=1,u.v=is(ie(m)),u.m=_,u.P=!0,gi(u,null)}function gi(u,m){u.F=Date.now(),Zt(u),u.A=ie(u.v);var _=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),yi(_.i,"t",T),u.C=0,_=u.j.J,u.h=new oo,u.g=su(u.j,_?m:null,!u.m),0<u.O&&(u.M=new lh(z(u.Y,u,u.g),u.O)),m=u.U,_=u.g,T=u.ca;var k="readystatechange";Array.isArray(k)||(k&&(Xi[0]=k.toString()),k=Xi);for(var B=0;B<k.length;B++){var W=fi(_,k[B],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.H?R(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Zi(),Fl(u.i,u.u,u.A,u.l,u.R,u.m)}Fn.prototype.ca=function(u){u=u.target;const m=this.M;m&&vn(u)==3?m.j():this.Y(u)},Fn.prototype.Y=function(u){try{if(u==this.g)t:{const Ee=vn(this.g);var m=this.g.Ba();const Ai=this.g.Z();if(!(3>Ee)&&(Ee!=3||this.g&&(this.h.h||this.g.oa()||Wl(this.g)))){this.J||Ee!=4||m==7||(m==8||0>=Ai?Zi(3):Zi(2)),Ys(this);var _=this.g.Z();this.X=_;e:if(ir(this)){var T=Wl(this.g);u="";var k=T.length,B=vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){en(this),sn(this);var W="";break e}this.h.i=new g.TextDecoder}for(m=0;m<k;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(B&&m==k-1)});T.length=0,this.h.g+=u,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=_==200,Gl(this.i,this.u,this.A,this.l,this.R,Ee,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Pt,ve=this.g;if((Pt=ve.g?ve.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ft(Pt)){var kt=Pt;break e}}kt=null}if(_=kt)er(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,an(this,_);else{this.o=!1,this.s=3,oe(12),en(this),sn(this);break t}}if(this.P){_=!0;let Pe;for(;!this.J&&this.C<W.length;)if(Pe=rr(this,W),Pe==ts){Ee==4&&(this.s=4,oe(14),_=!1),er(this.i,this.l,null,"[Incomplete Response]");break}else if(Pe==nr){this.s=4,oe(15),er(this.i,this.l,W,"[Invalid Chunk]"),_=!1;break}else er(this.i,this.l,Pe,null),an(this,Pe);if(ir(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ee!=4||W.length!=0||this.h.h||(this.s=1,oe(16),_=!1),this.o=this.o&&_,!_)er(this.i,this.l,W,"[Invalid Chunked Response]"),en(this),sn(this);else if(0<W.length&&!this.W){this.W=!0;var De=this.j;De.g==this&&De.ba&&!De.M&&(De.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),cs(De),De.M=!0,oe(11))}}else er(this.i,this.l,W,null),an(this,W);Ee==4&&en(this),this.o&&!this.J&&(Ee==4?nu(this.j,this):(this.o=!1,Zt(this)))}else mh(this.g),_==400&&0<W.indexOf("Unknown SID")?(this.s=3,oe(12)):(this.s=0,oe(13)),en(this),sn(this)}}}catch{}finally{}};function ir(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function rr(u,m){var _=u.C,T=m.indexOf(`
`,_);return T==-1?ts:(_=Number(m.substring(_,T)),isNaN(_)?nr:(T+=1,T+_>m.length?ts:(m=m.slice(T,T+_),u.C=T+_,m)))}Fn.prototype.cancel=function(){this.J=!0,en(this)};function Zt(u){u.S=Date.now()+u.I,lo(u,u.I)}function lo(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Ji(z(u.ba,u),m)}function Ys(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Fn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(jn(this.i,this.A),this.L!=2&&(Zi(),oe(17)),en(this),this.s=2,sn(this)):lo(this,this.S-u)};function sn(u){u.j.G==0||u.J||nu(u.j,u)}function en(u){Ys(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,He(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function an(u,m){try{var _=u.j;if(_.G!=0&&(_.g==u||sr(_.h,u))){if(!u.K&&sr(_.h,u)&&_.G==3){try{var T=_.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var k=T;if(k[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)ra(_),na(_);else break t;Eo(_),oe(18)}}else _.za=k[1],0<_.za-_.T&&37500>k[2]&&_.F&&_.v==0&&!_.C&&(_.C=Ji(z(_.Za,_),6e3));if(1>=Kl(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ti(_,11)}else if((u.K||_.g==u)&&ra(_),!ft(m))for(k=_.Da.g.parse(m),m=0;m<k.length;m++){let kt=k[m];if(_.T=kt[0],kt=kt[1],_.G==2)if(kt[0]=="c"){_.K=kt[1],_.ia=kt[2];const De=kt[3];De!=null&&(_.la=De,_.j.info("VER="+_.la));const Ee=kt[4];Ee!=null&&(_.Aa=Ee,_.j.info("SVER="+_.Aa));const Ai=kt[5];Ai!=null&&typeof Ai=="number"&&0<Ai&&(T=1.5*Ai,_.L=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const Pe=u.g;if(Pe){const Wn=Pe.g?Pe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wn){var B=T.h;B.g||Wn.indexOf("spdy")==-1&&Wn.indexOf("quic")==-1&&Wn.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(ar(B,B.h),B.h=null))}if(T.D){const Ao=Pe.g?Pe.g.getResponseHeader("X-HTTP-Session-Id"):null;Ao&&(T.ya=Ao,zt(T.I,T.D,Ao))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),T=_;var W=u;if(T.qa=ru(T,T.J?T.ia:null,T.W),W.K){gn(T.h,W);var Pt=W,ve=T.L;ve&&(Pt.I=ve),Pt.B&&(Ys(Pt),Zt(Pt)),T.g=W}else tu(T);0<_.i.length&&ia(_)}else kt[0]!="stop"&&kt[0]!="close"||Ti(_,7);else _.G==3&&(kt[0]=="stop"||kt[0]=="close"?kt[0]=="stop"?Ti(_,7):yo(_):kt[0]!="noop"&&_.l&&_.l.ta(kt),_.v=0)}}Zi(4)}catch{}}var uh=class{constructor(u,m){this.g=u,this.map=m}};function uo(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function co(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Kl(u){return u.h?1:u.g?u.g.size:0}function sr(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function ar(u,m){u.g?u.g.add(m):u.h=m}function gn(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}uo.prototype.cancel=function(){if(this.i=$e(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function $e(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.D);return m}return tt(u.i)}function Ql(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],_=u.length,T=0;T<_;T++)m.push(u[T]);return m}m=[],_=0;for(T in u)m[_++]=u[T];return m}function ch(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var _=0;_<u;_++)m.push(_);return m}m=[],_=0;for(const T in u)m[_++]=T;return m}}}function es(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var _=ch(u),T=Ql(u),k=T.length,B=0;B<k;B++)m.call(void 0,T[B],_&&_[B],u)}var ho=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xs(u,m){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var T=u[_].indexOf("="),k=null;if(0<=T){var B=u[_].substring(0,T);k=u[_].substring(T+1)}else B=u[_];m(B,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}function pi(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof pi){this.h=u.h,or(this,u.j),this.o=u.o,this.g=u.g,ns(this,u.s),this.l=u.l;var m=u.i,_=new Gn;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),$s(this,_),this.m=u.m}else u&&(m=String(u).match(ho))?(this.h=!1,or(this,m[1]||"",!0),this.o=lr(m[2]||""),this.g=lr(m[3]||"",!0),ns(this,m[4]),this.l=lr(m[5]||"",!0),$s(this,m[6]||"",!0),this.m=lr(m[7]||"")):(this.h=!1,this.i=new Gn(null,this.h))}pi.prototype.toString=function(){var u=[],m=this.j;m&&u.push(pn(m,fo,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(pn(m,fo,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(pn(_,_.charAt(0)=="/"?mo:Yl,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",pn(_,dh)),u.join("")};function ie(u){return new pi(u)}function or(u,m,_){u.j=_?lr(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ns(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function $s(u,m,_){m instanceof Gn?(u.i=m,go(u.i,u.h)):(_||(m=pn(m,fh)),u.i=new Gn(m,u.h))}function zt(u,m,_){u.i.set(m,_)}function is(u){return zt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function lr(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function pn(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,hh),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function hh(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var fo=/[#\/\?@]/g,Yl=/[#\?:]/g,mo=/[#\?]/g,fh=/[#\?@]/g,dh=/#/g;function Gn(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function _n(u){u.g||(u.g=new Map,u.h=0,u.i&&Xs(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}r=Gn.prototype,r.add=function(u,m){_n(this),this.i=null,u=vi(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function Ws(u,m){_n(u),m=vi(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function _i(u,m){return _n(u),m=vi(u,m),u.g.has(m)}r.forEach=function(u,m){_n(this),this.g.forEach(function(_,T){_.forEach(function(k){u.call(m,k,T,this)},this)},this)},r.na=function(){_n(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let T=0;T<m.length;T++){const k=u[T];for(let B=0;B<k.length;B++)_.push(m[T])}return _},r.V=function(u){_n(this);let m=[];if(typeof u=="string")_i(this,u)&&(m=m.concat(this.g.get(vi(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)m=m.concat(u[_])}return m},r.set=function(u,m){return _n(this),this.i=null,u=vi(this,u),_i(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function yi(u,m,_){Ws(u,m),0<_.length&&(u.i=null,u.g.set(vi(u,m),tt(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var T=m[_];const B=encodeURIComponent(String(T)),W=this.V(T);for(T=0;T<W.length;T++){var k=B;W[T]!==""&&(k+="="+encodeURIComponent(String(W[T]))),u.push(k)}}return this.i=u.join("&")};function vi(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function go(u,m){m&&!u.j&&(_n(u),u.i=null,u.g.forEach(function(_,T){var k=T.toLowerCase();T!=k&&(Ws(this,T),yi(this,k,_))},u)),u.j=m}function Xl(u,m){const _=new tr;if(g.Image){const T=new Image;T.onload=j(yn,_,"TestLoadImage: loaded",!0,m,T),T.onerror=j(yn,_,"TestLoadImage: error",!1,m,T),T.onabort=j(yn,_,"TestLoadImage: abort",!1,m,T),T.ontimeout=j(yn,_,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function rs(u,m){const _=new tr,T=new AbortController,k=setTimeout(()=>{T.abort(),yn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(k),B.ok?yn(_,"TestPingServer: ok",!0,m):yn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(k),yn(_,"TestPingServer: error",!1,m)})}function yn(u,m,_,T,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),T(_)}catch{}}function ss(){this.g=new Xe}function Kn(u,m,_){const T=_||"";try{es(u,function(k,B){let W=k;v(k)&&(W=ro(k)),m.push(T+B+"="+encodeURIComponent(W))})}catch(k){throw m.push(T+"type="+encodeURIComponent("_badmap")),k}}function ur(u){this.l=u.Ub||null,this.j=u.eb||!1}$(ur,so),ur.prototype.g=function(){return new Ei(this.l,this.j)},ur.prototype.i=function(u){return function(){return u}}({});function Ei(u,m){_e.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}$(Ei,_e),r=Ei.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Yn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qn(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Yn(this)),this.g&&(this.readyState=3,Yn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;po(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function po(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Qn(this):Yn(this),this.readyState==3&&po(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,Qn(this))},r.Qa=function(u){this.g&&(this.response=u,Qn(this))},r.ga=function(){this.g&&Qn(this)};function Qn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Yn(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function Yn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ei.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function _o(u){let m="";return Dt(u,function(_,T){m+=T,m+=":",m+=_,m+=`\r
`}),m}function Ce(u,m,_){t:{for(T in _){var T=!1;break t}T=!0}T||(_=_o(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):zt(u,m,_))}function jt(u){_e.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}$(jt,_e);var Zs=/^https?$/i,as=["POST","PUT"];r=jt.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Jr.g(),this.v=this.o?Hl(this.o):Hl(Jr),this.g.onreadystatechange=z(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){$l(this,B);return}if(u=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var k in T)_.set(k,T[k]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())_.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(B=>B.toLowerCase()=="content-type"),k=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(as,m,void 0))||T||k||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,W]of _)this.g.setRequestHeader(B,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{os(this),this.u=!0,this.g.send(u),this.u=!1}catch(B){$l(this,B)}};function $l(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Js(u),Xn(u)}function Js(u){u.A||(u.A=!0,we(u,"complete"),we(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,we(this,"complete"),we(this,"abort"),Xn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xn(this,!0)),jt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?ta(this):this.bb())},r.bb=function(){ta(this)};function ta(u){if(u.h&&typeof d<"u"&&(!u.v[1]||vn(u)!=4||u.Z()!=2)){if(u.u&&vn(u)==4)Bl(u.Ea,0,u);else if(we(u,"readystatechange"),vn(u)==4){u.h=!1;try{const W=u.Z();t:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var T;if(T=W===0){var k=String(u.D).match(ho)[1]||null;!k&&g.self&&g.self.location&&(k=g.self.location.protocol.slice(0,-1)),T=!Zs.test(k?k.toLowerCase():"")}_=T}if(_)we(u,"complete"),we(u,"success");else{u.m=6;try{var B=2<vn(u)?u.g.statusText:""}catch{B=""}u.l=B+" ["+u.Z()+"]",Js(u)}}finally{Xn(u)}}}}function Xn(u,m){if(u.g){os(u);const _=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||we(u,"ready");try{_.onreadystatechange=T}catch{}}}function os(u){u.I&&(g.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function vn(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<vn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Hn(m)}};function Wl(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function mh(u){const m={};u=(u.g&&2<=vn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(ft(u[T]))continue;var _=V(u[T]);const k=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const B=m[k]||[];m[k]=B,B.push(_)}M(m,function(T){return T.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ls(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function ea(u){this.Aa=0,this.i=[],this.j=new tr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ls("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ls("baseRetryDelayMs",5e3,u),this.cb=ls("retryDelaySeedMs",1e4,u),this.Wa=ls("forwardChannelMaxRetries",2,u),this.wa=ls("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new uo(u&&u.concurrentRequestLimit),this.Da=new ss,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=ea.prototype,r.la=8,r.G=1,r.connect=function(u,m,_,T){oe(0),this.W=u,this.H=m||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.I=ru(this,null,this.W),ia(this)};function yo(u){if(Zl(u),u.G==3){var m=u.U++,_=ie(u.I);if(zt(_,"SID",u.K),zt(_,"RID",m),zt(_,"TYPE","terminate"),us(u,_),m=new Fn(u,u.j,m),m.L=2,m.v=is(ie(_)),_=!1,g.navigator&&g.navigator.sendBeacon)try{_=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&g.Image&&(new Image().src=m.v,_=!0),_||(m.g=su(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Zt(m)}iu(u)}function na(u){u.g&&(cs(u),u.g.cancel(),u.g=null)}function Zl(u){na(u),u.u&&(g.clearTimeout(u.u),u.u=null),ra(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function ia(u){if(!co(u.h)&&!u.s){u.s=!0;var m=u.Ga;gt||D(),lt||(gt(),lt=!0),qt.add(m,u),u.B=0}}function gh(u,m){return Kl(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Ji(z(u.Ga,u,m),To(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const k=new Fn(this,this.j,u);let B=this.o;if(this.S&&(B?(B=R(B),I(B,this.S)):B=this.S),this.m!==null||this.O||(k.H=B,B=null),this.P)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=Jl(this,k,m),_=ie(this.I),zt(_,"RID",u),zt(_,"CVER",22),this.D&&zt(_,"X-HTTP-Session-Id",this.D),us(this,_),B&&(this.O?m="headers="+encodeURIComponent(String(_o(B)))+"&"+m:this.m&&Ce(_,this.m,B)),ar(this.h,k),this.Ua&&zt(_,"TYPE","init"),this.P?(zt(_,"$req",m),zt(_,"SID","null"),k.T=!0,Mn(k,_,null)):Mn(k,_,m),this.G=2}}else this.G==3&&(u?vo(this,u):this.i.length==0||co(this.h)||vo(this))};function vo(u,m){var _;m?_=m.l:_=u.U++;const T=ie(u.I);zt(T,"SID",u.K),zt(T,"RID",_),zt(T,"AID",u.T),us(u,T),u.m&&u.o&&Ce(T,u.m,u.o),_=new Fn(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Jl(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),ar(u.h,_),Mn(_,T,m)}function us(u,m){u.H&&Dt(u.H,function(_,T){zt(m,T,_)}),u.l&&es({},function(_,T){zt(m,T,_)})}function Jl(u,m,_){_=Math.min(u.i.length,_);var T=u.l?z(u.l.Na,u.l,u):null;t:{var k=u.i;let B=-1;for(;;){const W=["count="+_];B==-1?0<_?(B=k[0].g,W.push("ofs="+B)):B=0:W.push("ofs="+B);let Pt=!0;for(let ve=0;ve<_;ve++){let kt=k[ve].g;const De=k[ve].map;if(kt-=B,0>kt)B=Math.max(0,k[ve].g-100),Pt=!1;else try{Kn(De,W,"req"+kt+"_")}catch{T&&T(De)}}if(Pt){T=W.join("&");break t}}}return u=u.i.splice(0,_),m.D=u,T}function tu(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;gt||D(),lt||(gt(),lt=!0),qt.add(m,u),u.v=0}}function Eo(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Ji(z(u.Fa,u),To(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,eu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Ji(z(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,oe(10),na(this),eu(this))};function cs(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function eu(u){u.g=new Fn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=ie(u.qa);zt(m,"RID","rpc"),zt(m,"SID",u.K),zt(m,"AID",u.T),zt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&zt(m,"TO",u.ja),zt(m,"TYPE","xmlhttp"),us(u,m),u.m&&u.o&&Ce(m,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=is(ie(m)),_.m=null,_.P=!0,gi(_,u)}r.Za=function(){this.C!=null&&(this.C=null,na(this),Eo(this),oe(19))};function ra(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function nu(u,m){var _=null;if(u.g==m){ra(u),cs(u),u.g=null;var T=2}else if(sr(u.h,m))_=m.D,gn(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var k=u.B;T=Gs(),we(T,new jl(T,_)),ia(u)}else tu(u);else if(k=m.s,k==3||k==0&&0<m.X||!(T==1&&gh(u,m)||T==2&&Eo(u)))switch(_&&0<_.length&&(m=u.h,m.i=m.i.concat(_)),k){case 1:Ti(u,5);break;case 4:Ti(u,10);break;case 3:Ti(u,6);break;default:Ti(u,2)}}}function To(u,m){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*m}function Ti(u,m){if(u.j.info("Error code "+m),m==2){var _=z(u.fb,u),T=u.Xa;const k=!T;T=new pi(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||or(T,"https"),is(T),k?Xl(T.toString(),_):rs(T.toString(),_)}else oe(2);u.G=0,u.l&&u.l.sa(m),iu(u),Zl(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),oe(2)):(this.j.info("Failed to ping google.com"),oe(1))};function iu(u){if(u.G=0,u.ka=[],u.l){const m=$e(u.h);(m.length!=0||u.i.length!=0)&&(X(u.ka,m),X(u.ka,u.i),u.h.i.length=0,tt(u.i),u.i.length=0),u.l.ra()}}function ru(u,m,_){var T=_ instanceof pi?ie(_):new pi(_);if(T.g!="")m&&(T.g=m+"."+T.g),ns(T,T.s);else{var k=g.location;T=k.protocol,m=m?m+"."+k.hostname:k.hostname,k=+k.port;var B=new pi(null);T&&or(B,T),m&&(B.g=m),k&&ns(B,k),_&&(B.l=_),T=B}return _=u.D,m=u.ya,_&&m&&zt(T,_,m),zt(T,"VER",u.la),us(u,T),T}function su(u,m,_){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new jt(new ur({eb:_})):new jt(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function au(){}r=au.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function sa(){}sa.prototype.g=function(u,m){return new We(u,m)};function We(u,m){_e.call(this),this.g=new ea(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!ft(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!ft(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new $n(this)}$(We,_e),We.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},We.prototype.close=function(){yo(this.g)},We.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=ro(u),u=_);m.i.push(new uh(m.Ya++,u)),m.G==3&&ia(m)},We.prototype.N=function(){this.g.l=null,delete this.j,yo(this.g),delete this.g,We.aa.N.call(this)};function ou(u){$i.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}$(ou,$i);function lu(){Vn.call(this),this.status=1}$(lu,Vn);function $n(u){this.g=u}$($n,au),$n.prototype.ua=function(){we(this.g,"a")},$n.prototype.ta=function(u){we(this.g,new ou(u))},$n.prototype.sa=function(u){we(this.g,new lu)},$n.prototype.ra=function(){we(this.g,"b")},sa.prototype.createWebChannel=sa.prototype.g,We.prototype.send=We.prototype.o,We.prototype.open=We.prototype.m,We.prototype.close=We.prototype.close,Uv=function(){return new sa},kv=function(){return Gs()},Pv=mn,Od={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ye.NO_ERROR=0,ye.TIMEOUT=8,ye.HTTP_ERROR=6,dc=ye,mi.COMPLETE="complete",Mv=mi,ql.EventType=qn,qn.OPEN="a",qn.CLOSE="b",qn.ERROR="c",qn.MESSAGE="d",_e.prototype.listen=_e.prototype.K,hl=ql,jt.prototype.listenOnce=jt.prototype.L,jt.prototype.getLastError=jt.prototype.Ka,jt.prototype.getLastErrorCode=jt.prototype.Ba,jt.prototype.getStatus=jt.prototype.Z,jt.prototype.getResponseJson=jt.prototype.Oa,jt.prototype.getResponseText=jt.prototype.oa,jt.prototype.send=jt.prototype.ea,jt.prototype.setWithCredentials=jt.prototype.Ha,Vv=jt}).apply(typeof ac<"u"?ac:typeof self<"u"?self:typeof window<"u"?window:{});const sy="@firebase/firestore",ay="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ge.UNAUTHENTICATED=new Ge(null),Ge.GOOGLE_CREDENTIALS=new Ge("google-credentials-uid"),Ge.FIRST_PARTY=new Ge("first-party-uid"),Ge.MOCK_USER=new Ge("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $a="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms=new $d("@firebase/firestore");function Va(){return Ms.logLevel}function it(r,...t){if(Ms.logLevel<=Ot.DEBUG){const i=t.map(Jd);Ms.debug(`Firestore (${$a}): ${r}`,...i)}}function ji(r,...t){if(Ms.logLevel<=Ot.ERROR){const i=t.map(Jd);Ms.error(`Firestore (${$a}): ${r}`,...i)}}function qa(r,...t){if(Ms.logLevel<=Ot.WARN){const i=t.map(Jd);Ms.warn(`Firestore (${$a}): ${r}`,...i)}}function Jd(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(r="Unexpected state"){const t=`FIRESTORE (${$a}) INTERNAL ASSERTION FAILED: `+r;throw ji(t),new Error(t)}function Ft(r,t){r||pt()}function Et(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends Ki{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(){this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class sb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable(()=>i(Ge.UNAUTHENTICATED))}shutdown(){}}class ab{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class ob{constructor(t){this.t=t,this.currentUser=Ge.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Ft(this.o===void 0);let s=this.i;const l=p=>this.i!==s?(s=this.i,i(p)):Promise.resolve();let c=new Hr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Hr,t.enqueueRetryable(()=>l(this.currentUser))};const d=()=>{const p=c;t.enqueueRetryable(async()=>{await p.promise,await l(this.currentUser)})},g=p=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(p=>g(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Hr)}},0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==t?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ft(typeof s.accessToken=="string"),new Lv(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ft(t===null||typeof t=="string"),new Ge(t)}}class lb{constructor(t,i,s){this.l=t,this.h=i,this.P=s,this.type="FirstParty",this.user=Ge.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class ub{constructor(t,i,s){this.l=t,this.h=i,this.P=s}getToken(){return Promise.resolve(new lb(this.l,this.h,this.P))}start(t,i){t.enqueueRetryable(()=>i(Ge.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class oy{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cb{constructor(t,i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,On(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,i){Ft(this.o===void 0);const s=c=>{c.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.R;return this.R=c.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable(()=>s(c))};const l=c=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>l(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?l(c):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new oy(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(i=>i?(Ft(typeof i.token=="string"),this.R=i.token,new oy(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hb(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=hb(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<i&&(s+=t.charAt(l[c]%62))}return s}}function Mt(r,t){return r<t?-1:r>t?1:0}function ja(r,t,i){return r.length===t.length&&r.every((s,l)=>i(s,t[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ly=-62135596800,uy=1e6;class be{static now(){return be.fromMillis(Date.now())}static fromDate(t){return be.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),s=Math.floor((t-1e3*i)*uy);return new be(i,s)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ut(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ut(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<ly)throw new ut(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ut(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/uy}_compareTo(t){return this.seconds===t.seconds?Mt(this.nanoseconds,t.nanoseconds):Mt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-ly;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{static fromTimestamp(t){return new yt(t)}static min(){return new yt(new be(0,0))}static max(){return new yt(new be(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cy="__name__";class ii{constructor(t,i,s){i===void 0?i=0:i>t.length&&pt(),s===void 0?s=t.length-i:s>t.length-i&&pt(),this.segments=t,this.offset=i,this.len=s}get length(){return this.len}isEqual(t){return ii.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof ii?t.forEach(s=>{i.push(s)}):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,s=this.limit();i<s;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const s=Math.min(t.length,i.length);for(let l=0;l<s;l++){const c=ii.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Math.sign(t.length-i.length)}static compareSegments(t,i){const s=ii.isNumericId(t),l=ii.isNumericId(i);return s&&!l?-1:!s&&l?1:s&&l?ii.extractNumericId(t).compare(ii.extractNumericId(i)):t<i?-1:t>i?1:0}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Br.fromString(t.substring(4,t.length-2))}}class Wt extends ii{construct(t,i,s){return new Wt(t,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const s of t){if(s.indexOf("//")>=0)throw new ut(Q.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(l=>l.length>0))}return new Wt(i)}static emptyPath(){return new Wt([])}}const fb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ze extends ii{construct(t,i,s){return new ze(t,i,s)}static isValidIdentifier(t){return fb.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ze.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===cy}static keyField(){return new ze([cy])}static fromServerFormat(t){const i=[];let s="",l=0;const c=()=>{if(s.length===0)throw new ut(Q.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new ut(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ut(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(s+=g,l++):(c(),l++)}if(c(),d)throw new ut(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ze(i)}static emptyPath(){return new ze([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(t){this.path=t}static fromPath(t){return new ht(Wt.fromString(t))}static fromName(t){return new ht(Wt.fromString(t).popFirst(5))}static empty(){return new ht(Wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Wt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return Wt.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ht(new Wt(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const El=-1;function db(r,t){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=yt.fromTimestamp(s===1e9?new be(i+1,0):new be(i,s));return new jr(l,ht.empty(),t)}function mb(r){return new jr(r.readTime,r.key,El)}class jr{constructor(t,i,s){this.readTime=t,this.documentKey=i,this.largestBatchId=s}static min(){return new jr(yt.min(),ht.empty(),El)}static max(){return new jr(yt.max(),ht.empty(),El)}}function gb(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=ht.comparator(r.documentKey,t.documentKey),i!==0?i:Mt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _b{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wa(r){if(r.code!==Q.FAILED_PRECONDITION||r.message!==pb)throw r;it("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&pt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new G((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,l)}})}toPromise(){return new Promise((t,i)=>{this.next(t,i)})}wrapUserFunction(t){try{const i=t();return i instanceof G?i:G.resolve(i)}catch(i){return G.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction(()=>t(i)):G.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction(()=>t(i)):G.reject(i)}static resolve(t){return new G((i,s)=>{i(t)})}static reject(t){return new G((i,s)=>{s(t)})}static waitFor(t){return new G((i,s)=>{let l=0,c=0,d=!1;t.forEach(g=>{++l,g.next(()=>{++c,d&&c===l&&i()},p=>s(p))}),d=!0,c===l&&i()})}static or(t){let i=G.resolve(!1);for(const s of t)i=i.next(l=>l?G.resolve(l):s());return i}static forEach(t,i){const s=[];return t.forEach((l,c)=>{s.push(i.call(this,l,c))}),this.waitFor(s)}static mapArray(t,i){return new G((s,l)=>{const c=t.length,d=new Array(c);let g=0;for(let p=0;p<c;p++){const v=p;i(t[v]).next(A=>{d[v]=A,++g,g===c&&s(d)},A=>l(A))}})}static doWhile(t,i){return new G((s,l)=>{const c=()=>{t()===!0?i().next(()=>{c()},l):s()};c()})}}function yb(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Za(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=s=>this.oe(s),this._e=s=>i.writeSequenceNumber(s))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}jc.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm=-1;function Fc(r){return r==null}function Rc(r){return r===0&&1/r==-1/0}function vb(r){return typeof r=="number"&&Number.isInteger(r)&&!Rc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv="";function Eb(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=hy(t)),t=Tb(r.get(i),t);return hy(t)}function Tb(r,t){let i=t;const s=r.length;for(let l=0;l<s;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case zv:i+="";break;default:i+=c}}return i}function hy(r){return r+zv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fy(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function Ls(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function Bv(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(t,i){this.comparator=t,this.root=i||xe.EMPTY}insert(t,i){return new ee(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,xe.BLACK,null,null))}remove(t){return new ee(this.comparator,this.root.remove(t,this.comparator).copy(null,null,xe.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(t){let i=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return i+s.left.size;l<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((i,s)=>(t(i,s),!1))}toString(){const t=[];return this.inorderTraversal((i,s)=>(t.push(`${i}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new oc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new oc(this.root,t,this.comparator,!1)}getReverseIterator(){return new oc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new oc(this.root,t,this.comparator,!0)}}class oc{constructor(t,i,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?s(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class xe{constructor(t,i,s,l,c){this.key=t,this.value=i,this.color=s??xe.RED,this.left=l??xe.EMPTY,this.right=c??xe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,s,l,c){return new xe(t??this.key,i??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,s){let l=this;const c=s(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,s),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return xe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let s,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return xe.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,xe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,xe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw pt();const t=this.left.check();if(t!==this.right.check())throw pt();return t+(this.isRed()?0:1)}}xe.EMPTY=null,xe.RED=!0,xe.BLACK=!1;xe.EMPTY=new class{constructor(){this.size=0}get key(){throw pt()}get value(){throw pt()}get color(){throw pt()}get left(){throw pt()}get right(){throw pt()}copy(t,i,s,l,c){return this}insert(t,i,s){return new xe(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(t){this.comparator=t,this.data=new ee(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((i,s)=>(t(i),!1))}forEachInRange(t,i){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new dy(this.data.getIterator())}getIteratorFrom(t){return new dy(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach(s=>{i=i.add(s)}),i}isEqual(t){if(!(t instanceof Re)||this.size!==t.size)return!1;const i=this.data.getIterator(),s=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(i=>{t.push(i)}),t}toString(){const t=[];return this.forEach(i=>t.push(i)),"SortedSet("+t.toString()+")"}copy(t){const i=new Re(this.comparator);return i.data=t,i}}class dy{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(t){this.fields=t,t.sort(ze.comparator)}static empty(){return new xn([])}unionWith(t){let i=new Re(ze.comparator);for(const s of this.fields)i=i.add(s);for(const s of t)i=i.add(s);return new xn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return ja(this.fields,t.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(t){this.binaryString=t}static fromBase64String(t){const i=function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Hv("Invalid base64 string: "+c):c}}(t);return new Be(i)}static fromUint8Array(t){const i=function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c}(t);return new Be(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let l=0;l<i.length;l++)s[l]=i.charCodeAt(l);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Mt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Be.EMPTY_BYTE_STRING=new Be("");const Ab=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fr(r){if(Ft(!!r),typeof r=="string"){let t=0;const i=Ab.exec(r);if(Ft(!!i),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ue(r.seconds),nanos:ue(r.nanos)}}function ue(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Gr(r){return typeof r=="string"?Be.fromBase64String(r):Be.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv="server_timestamp",jv="__type__",Fv="__previous_value__",Gv="__local_write_time__";function em(r){var t,i;return((i=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[jv])===null||i===void 0?void 0:i.stringValue)===qv}function Gc(r){const t=r.mapValue.fields[Fv];return em(t)?Gc(t):t}function Tl(r){const t=Fr(r.mapValue.fields[Gv].timestampValue);return new be(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(t,i,s,l,c,d,g,p,v){this.databaseId=t,this.appId=i,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=v}}const wc="(default)";class Al{constructor(t,i){this.projectId=t,this.database=i||wc}static empty(){return new Al("","")}get isDefaultDatabase(){return this.database===wc}isEqual(t){return t instanceof Al&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv="__type__",bb="__max__",lc={mapValue:{}},Qv="__vector__",Ic="value";function Kr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?em(r)?4:wb(r)?9007199254740991:Rb(r)?10:11:pt()}function ui(r,t){if(r===t)return!0;const i=Kr(r);if(i!==Kr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Tl(r).isEqual(Tl(t));case 3:return function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Fr(l.timestampValue),g=Fr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(l,c){return Gr(l.bytesValue).isEqual(Gr(c.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(l,c){return ue(l.geoPointValue.latitude)===ue(c.geoPointValue.latitude)&&ue(l.geoPointValue.longitude)===ue(c.geoPointValue.longitude)}(r,t);case 2:return function(l,c){if("integerValue"in l&&"integerValue"in c)return ue(l.integerValue)===ue(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=ue(l.doubleValue),g=ue(c.doubleValue);return d===g?Rc(d)===Rc(g):isNaN(d)&&isNaN(g)}return!1}(r,t);case 9:return ja(r.arrayValue.values||[],t.arrayValue.values||[],ui);case 10:case 11:return function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(fy(d)!==fy(g))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(g[p]===void 0||!ui(d[p],g[p])))return!1;return!0}(r,t);default:return pt()}}function Sl(r,t){return(r.values||[]).find(i=>ui(i,t))!==void 0}function Fa(r,t){if(r===t)return 0;const i=Kr(r),s=Kr(t);if(i!==s)return Mt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Mt(r.booleanValue,t.booleanValue);case 2:return function(c,d){const g=ue(c.integerValue||c.doubleValue),p=ue(d.integerValue||d.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1}(r,t);case 3:return my(r.timestampValue,t.timestampValue);case 4:return my(Tl(r),Tl(t));case 5:return Mt(r.stringValue,t.stringValue);case 6:return function(c,d){const g=Gr(c),p=Gr(d);return g.compareTo(p)}(r.bytesValue,t.bytesValue);case 7:return function(c,d){const g=c.split("/"),p=d.split("/");for(let v=0;v<g.length&&v<p.length;v++){const A=Mt(g[v],p[v]);if(A!==0)return A}return Mt(g.length,p.length)}(r.referenceValue,t.referenceValue);case 8:return function(c,d){const g=Mt(ue(c.latitude),ue(d.latitude));return g!==0?g:Mt(ue(c.longitude),ue(d.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return gy(r.arrayValue,t.arrayValue);case 10:return function(c,d){var g,p,v,A;const C=c.fields||{},z=d.fields||{},j=(g=C[Ic])===null||g===void 0?void 0:g.arrayValue,$=(p=z[Ic])===null||p===void 0?void 0:p.arrayValue,tt=Mt(((v=j==null?void 0:j.values)===null||v===void 0?void 0:v.length)||0,((A=$==null?void 0:$.values)===null||A===void 0?void 0:A.length)||0);return tt!==0?tt:gy(j,$)}(r.mapValue,t.mapValue);case 11:return function(c,d){if(c===lc.mapValue&&d===lc.mapValue)return 0;if(c===lc.mapValue)return 1;if(d===lc.mapValue)return-1;const g=c.fields||{},p=Object.keys(g),v=d.fields||{},A=Object.keys(v);p.sort(),A.sort();for(let C=0;C<p.length&&C<A.length;++C){const z=Mt(p[C],A[C]);if(z!==0)return z;const j=Fa(g[p[C]],v[A[C]]);if(j!==0)return j}return Mt(p.length,A.length)}(r.mapValue,t.mapValue);default:throw pt()}}function my(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Mt(r,t);const i=Fr(r),s=Fr(t),l=Mt(i.seconds,s.seconds);return l!==0?l:Mt(i.nanos,s.nanos)}function gy(r,t){const i=r.values||[],s=t.values||[];for(let l=0;l<i.length&&l<s.length;++l){const c=Fa(i[l],s[l]);if(c)return c}return Mt(i.length,s.length)}function Ga(r){return Nd(r)}function Nd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(i){const s=Fr(i);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(i){return Gr(i).toBase64()}(r.bytesValue):"referenceValue"in r?function(i){return ht.fromName(i).toString()}(r.referenceValue):"geoPointValue"in r?function(i){return`geo(${i.latitude},${i.longitude})`}(r.geoPointValue):"arrayValue"in r?function(i){let s="[",l=!0;for(const c of i.values||[])l?l=!1:s+=",",s+=Nd(c);return s+"]"}(r.arrayValue):"mapValue"in r?function(i){const s=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of s)c?c=!1:l+=",",l+=`${d}:${Nd(i.fields[d])}`;return l+"}"}(r.mapValue):pt()}function mc(r){switch(Kr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Gc(r);return t?16+mc(t):16;case 5:return 2*r.stringValue.length;case 6:return Gr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((l,c)=>l+mc(c),0)}(r.arrayValue);case 10:case 11:return function(s){let l=0;return Ls(s.fields,(c,d)=>{l+=c.length+mc(d)}),l}(r.mapValue);default:throw pt()}}function Vd(r){return!!r&&"integerValue"in r}function nm(r){return!!r&&"arrayValue"in r}function py(r){return!!r&&"nullValue"in r}function _y(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function gc(r){return!!r&&"mapValue"in r}function Rb(r){var t,i;return((i=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[Kv])===null||i===void 0?void 0:i.stringValue)===Qv}function ml(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return Ls(r.mapValue.fields,(i,s)=>t.mapValue.fields[i]=ml(s)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=ml(r.arrayValue.values[i]);return t}return Object.assign({},r)}function wb(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===bb}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(t){this.value=t}static empty(){return new Nn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let s=0;s<t.length-1;++s)if(i=(i.mapValue.fields||{})[t.get(s)],!gc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=ml(i)}setAll(t){let i=ze.emptyPath(),s={},l=[];t.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const p=this.getFieldsMap(i);this.applyChanges(p,s,l),s={},l=[],i=g.popLast()}d?s[g.lastSegment()]=ml(d):l.push(g.lastSegment())});const c=this.getFieldsMap(i);this.applyChanges(c,s,l)}delete(t){const i=this.field(t.popLast());gc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return ui(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=i.mapValue.fields[t.get(s)];gc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(s)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,s){Ls(i,(l,c)=>t[l]=c);for(const l of s)delete t[l]}clone(){return new Nn(ml(this.value))}}function Yv(r){const t=[];return Ls(r.fields,(i,s)=>{const l=new ze([i]);if(gc(s)){const c=Yv(s.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)}),new xn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(t,i,s,l,c,d,g){this.key=t,this.documentType=i,this.version=s,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new Ke(t,0,yt.min(),yt.min(),yt.min(),Nn.empty(),0)}static newFoundDocument(t,i,s,l){return new Ke(t,1,i,yt.min(),s,l,0)}static newNoDocument(t,i){return new Ke(t,2,i,yt.min(),yt.min(),Nn.empty(),0)}static newUnknownDocument(t,i){return new Ke(t,3,i,yt.min(),yt.min(),Nn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ke&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ke(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(t,i){this.position=t,this.inclusive=i}}function yy(r,t,i){let s=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?s=ht.comparator(ht.fromName(d.referenceValue),i.key):s=Fa(d,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function vy(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!ui(r.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(t,i="asc"){this.field=t,this.dir=i}}function Ib(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{}class Se extends Xv{constructor(t,i,s){super(),this.field=t,this.op=i,this.value=s}static create(t,i,s){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,s):new Db(t,i,s):i==="array-contains"?new Vb(t,s):i==="in"?new Mb(t,s):i==="not-in"?new Pb(t,s):i==="array-contains-any"?new kb(t,s):new Se(t,i,s)}static createKeyFieldInFilter(t,i,s){return i==="in"?new Ob(t,s):new Nb(t,s)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(Fa(i,this.value)):i!==null&&Kr(this.value)===Kr(i)&&this.matchesComparison(Fa(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return pt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ci extends Xv{constructor(t,i){super(),this.filters=t,this.op=i,this.ce=null}static create(t,i){return new ci(t,i)}matches(t){return $v(this)?this.filters.find(i=>!i.matches(t))===void 0:this.filters.find(i=>i.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,i)=>t.concat(i.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function $v(r){return r.op==="and"}function Wv(r){return Cb(r)&&$v(r)}function Cb(r){for(const t of r.filters)if(t instanceof ci)return!1;return!0}function Md(r){if(r instanceof Se)return r.field.canonicalString()+r.op.toString()+Ga(r.value);if(Wv(r))return r.filters.map(t=>Md(t)).join(",");{const t=r.filters.map(i=>Md(i)).join(",");return`${r.op}(${t})`}}function Zv(r,t){return r instanceof Se?function(s,l){return l instanceof Se&&s.op===l.op&&s.field.isEqual(l.field)&&ui(s.value,l.value)}(r,t):r instanceof ci?function(s,l){return l instanceof ci&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce((c,d,g)=>c&&Zv(d,l.filters[g]),!0):!1}(r,t):void pt()}function Jv(r){return r instanceof Se?function(i){return`${i.field.canonicalString()} ${i.op} ${Ga(i.value)}`}(r):r instanceof ci?function(i){return i.op.toString()+" {"+i.getFilters().map(Jv).join(" ,")+"}"}(r):"Filter"}class Db extends Se{constructor(t,i,s){super(t,i,s),this.key=ht.fromName(s.referenceValue)}matches(t){const i=ht.comparator(t.key,this.key);return this.matchesComparison(i)}}class Ob extends Se{constructor(t,i){super(t,"in",i),this.keys=tE("in",i)}matches(t){return this.keys.some(i=>i.isEqual(t.key))}}class Nb extends Se{constructor(t,i){super(t,"not-in",i),this.keys=tE("not-in",i)}matches(t){return!this.keys.some(i=>i.isEqual(t.key))}}function tE(r,t){var i;return(((i=t.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(s=>ht.fromName(s.referenceValue))}class Vb extends Se{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return nm(i)&&Sl(i.arrayValue,this.value)}}class Mb extends Se{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Sl(this.value.arrayValue,i)}}class Pb extends Se{constructor(t,i){super(t,"not-in",i)}matches(t){if(Sl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&!Sl(this.value.arrayValue,i)}}class kb extends Se{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!nm(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>Sl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(t,i=null,s=[],l=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.le=null}}function Ey(r,t=null,i=[],s=[],l=null,c=null,d=null){return new Ub(r,t,i,s,l,c,d)}function im(r){const t=Et(r);if(t.le===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map(s=>Md(s)).join(","),i+="|ob:",i+=t.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),Fc(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(s=>Ga(s)).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(s=>Ga(s)).join(",")),t.le=i}return t.le}function rm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!Ib(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!Zv(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!vy(r.startAt,t.startAt)&&vy(r.endAt,t.endAt)}function Pd(r){return ht.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(t,i=null,s=[],l=[],c=null,d="F",g=null,p=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function Lb(r,t,i,s,l,c,d,g){return new Kc(r,t,i,s,l,c,d,g)}function eE(r){return new Kc(r)}function Ty(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function xb(r){return r.collectionGroup!==null}function gl(r){const t=Et(r);if(t.he===null){t.he=[];const i=new Set;for(const c of t.explicitOrderBy)t.he.push(c),i.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Re(ze.comparator);return d.filters.forEach(p=>{p.getFlattenedFilters().forEach(v=>{v.isInequality()&&(g=g.add(v.field))})}),g})(t).forEach(c=>{i.has(c.canonicalString())||c.isKeyField()||t.he.push(new Dc(c,s))}),i.has(ze.keyField().canonicalString())||t.he.push(new Dc(ze.keyField(),s))}return t.he}function ri(r){const t=Et(r);return t.Pe||(t.Pe=zb(t,gl(r))),t.Pe}function zb(r,t){if(r.limitType==="F")return Ey(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(l=>{const c=l.dir==="desc"?"asc":"desc";return new Dc(l.field,c)});const i=r.endAt?new Cc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Cc(r.startAt.position,r.startAt.inclusive):null;return Ey(r.path,r.collectionGroup,t,r.filters,r.limit,i,s)}}function kd(r,t,i){return new Kc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function Qc(r,t){return rm(ri(r),ri(t))&&r.limitType===t.limitType}function nE(r){return`${im(ri(r))}|lt:${r.limitType}`}function Ma(r){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(l=>Jv(l)).join(", ")}]`),Fc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(l=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(l)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(l=>Ga(l)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(l=>Ga(l)).join(",")),`Target(${s})`}(ri(r))}; limitType=${r.limitType})`}function Yc(r,t){return t.isFoundDocument()&&function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):ht.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(r,t)&&function(s,l){for(const c of gl(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0}(r,t)&&function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0}(r,t)&&function(s,l){return!(s.startAt&&!function(d,g,p){const v=yy(d,g,p);return d.inclusive?v<=0:v<0}(s.startAt,gl(s),l)||s.endAt&&!function(d,g,p){const v=yy(d,g,p);return d.inclusive?v>=0:v>0}(s.endAt,gl(s),l))}(r,t)}function Bb(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function iE(r){return(t,i)=>{let s=!1;for(const l of gl(r)){const c=Hb(l,t,i);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function Hb(r,t,i){const s=r.field.isKeyField()?ht.comparator(t.key,i.key):function(c,d,g){const p=d.data.field(c),v=g.data.field(c);return p!==null&&v!==null?Fa(p,v):pt()}(r.field,t,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return pt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[i]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Ls(this.inner,(i,s)=>{for(const[l,c]of s)t(l,c)})}isEmpty(){return Bv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb=new ee(ht.comparator);function Fi(){return qb}const rE=new ee(ht.comparator);function fl(...r){let t=rE;for(const i of r)t=t.insert(i.key,i);return t}function sE(r){let t=rE;return r.forEach((i,s)=>t=t.insert(i,s.overlayedDocument)),t}function Os(){return pl()}function aE(){return pl()}function pl(){return new xs(r=>r.toString(),(r,t)=>r.isEqual(t))}const jb=new ee(ht.comparator),Fb=new Re(ht.comparator);function Nt(...r){let t=Fb;for(const i of r)t=t.add(i);return t}const Gb=new Re(Mt);function Kb(){return Gb}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rc(t)?"-0":t}}function oE(r){return{integerValue:""+r}}function Qb(r,t){return vb(t)?oE(t):sm(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(){this._=void 0}}function Yb(r,t,i){return r instanceof Oc?function(l,c){const d={fields:{[jv]:{stringValue:qv},[Gv]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&em(c)&&(c=Gc(c)),c&&(d.fields[Fv]=c),{mapValue:d}}(i,t):r instanceof bl?uE(r,t):r instanceof Rl?cE(r,t):function(l,c){const d=lE(l,c),g=Ay(d)+Ay(l.Ie);return Vd(d)&&Vd(l.Ie)?oE(g):sm(l.serializer,g)}(r,t)}function Xb(r,t,i){return r instanceof bl?uE(r,t):r instanceof Rl?cE(r,t):i}function lE(r,t){return r instanceof Nc?function(s){return Vd(s)||function(c){return!!c&&"doubleValue"in c}(s)}(t)?t:{integerValue:0}:null}class Oc extends Xc{}class bl extends Xc{constructor(t){super(),this.elements=t}}function uE(r,t){const i=hE(t);for(const s of r.elements)i.some(l=>ui(l,s))||i.push(s);return{arrayValue:{values:i}}}class Rl extends Xc{constructor(t){super(),this.elements=t}}function cE(r,t){let i=hE(t);for(const s of r.elements)i=i.filter(l=>!ui(l,s));return{arrayValue:{values:i}}}class Nc extends Xc{constructor(t,i){super(),this.serializer=t,this.Ie=i}}function Ay(r){return ue(r.integerValue||r.doubleValue)}function hE(r){return nm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function $b(r,t){return r.field.isEqual(t.field)&&function(s,l){return s instanceof bl&&l instanceof bl||s instanceof Rl&&l instanceof Rl?ja(s.elements,l.elements,ui):s instanceof Nc&&l instanceof Nc?ui(s.Ie,l.Ie):s instanceof Oc&&l instanceof Oc}(r.transform,t.transform)}class Wb{constructor(t,i){this.version=t,this.transformResults=i}}class si{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new si}static exists(t){return new si(void 0,t)}static updateTime(t){return new si(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function pc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class $c{}function fE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new am(r.key,si.none()):new Nl(r.key,r.data,si.none());{const i=r.data,s=Nn.empty();let l=new Re(ze.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?s.delete(c):s.set(c,d),l=l.add(c)}return new zs(r.key,s,new xn(l.toArray()),si.none())}}function Zb(r,t,i){r instanceof Nl?function(l,c,d){const g=l.value.clone(),p=by(l.fieldTransforms,c,d.transformResults);g.setAll(p),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(r,t,i):r instanceof zs?function(l,c,d){if(!pc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=by(l.fieldTransforms,c,d.transformResults),p=c.data;p.setAll(dE(l)),p.setAll(g),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(r,t,i):function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,t,i)}function _l(r,t,i,s){return r instanceof Nl?function(c,d,g,p){if(!pc(c.precondition,d))return g;const v=c.value.clone(),A=Ry(c.fieldTransforms,p,d);return v.setAll(A),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(r,t,i,s):r instanceof zs?function(c,d,g,p){if(!pc(c.precondition,d))return g;const v=Ry(c.fieldTransforms,p,d),A=d.data;return A.setAll(dE(c)),A.setAll(v),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(C=>C.field))}(r,t,i,s):function(c,d,g){return pc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(r,t,i)}function Jb(r,t){let i=null;for(const s of r.fieldTransforms){const l=t.data.field(s.field),c=lE(s.transform,l||null);c!=null&&(i===null&&(i=Nn.empty()),i.set(s.field,c))}return i||null}function Sy(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&ja(s,l,(c,d)=>$b(c,d))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Nl extends $c{constructor(t,i,s,l=[]){super(),this.key=t,this.value=i,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class zs extends $c{constructor(t,i,s,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function dE(r){const t=new Map;return r.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=r.data.field(i);t.set(i,s)}}),t}function by(r,t,i){const s=new Map;Ft(r.length===i.length);for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,g=t.data.field(c.field);s.set(c.field,Xb(d,g,i[l]))}return s}function Ry(r,t,i){const s=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);s.set(l.field,Yb(c,d,t))}return s}class am extends $c{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tR extends $c{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(t,i,s,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,i){const s=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&Zb(c,t,s[l])}}applyToLocalView(t,i){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(i=_l(s,t,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(i=_l(s,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const s=aE();return this.mutations.forEach(l=>{const c=t.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const p=fE(d,g);p!==null&&s.set(l.key,p),d.isValidDocument()||d.convertToNoDocument(yt.min())}),s}keys(){return this.mutations.reduce((t,i)=>t.add(i.key),Nt())}isEqual(t){return this.batchId===t.batchId&&ja(this.mutations,t.mutations,(i,s)=>Sy(i,s))&&ja(this.baseMutations,t.baseMutations,(i,s)=>Sy(i,s))}}class om{constructor(t,i,s,l){this.batch=t,this.commitVersion=i,this.mutationResults=s,this.docVersions=l}static from(t,i,s){Ft(t.mutations.length===s.length);let l=function(){return jb}();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,s[d].version);return new om(t,i,s,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ge,Lt;function rR(r){switch(r){case Q.OK:return pt();case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0;default:return pt()}}function mE(r){if(r===void 0)return ji("GRPC error has no .code"),Q.UNKNOWN;switch(r){case ge.OK:return Q.OK;case ge.CANCELLED:return Q.CANCELLED;case ge.UNKNOWN:return Q.UNKNOWN;case ge.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case ge.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case ge.INTERNAL:return Q.INTERNAL;case ge.UNAVAILABLE:return Q.UNAVAILABLE;case ge.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case ge.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case ge.NOT_FOUND:return Q.NOT_FOUND;case ge.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case ge.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case ge.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case ge.ABORTED:return Q.ABORTED;case ge.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case ge.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case ge.DATA_LOSS:return Q.DATA_LOSS;default:return pt()}}(Lt=ge||(ge={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR=new Br([4294967295,4294967295],0);function wy(r){const t=sR().encode(r),i=new Nv;return i.update(t),new Uint8Array(i.digest())}function Iy(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Br([i,s],0),new Br([l,c],0)]}class lm{constructor(t,i,s){if(this.bitmap=t,this.padding=i,this.hashCount=s,i<0||i>=8)throw new dl(`Invalid padding: ${i}`);if(s<0)throw new dl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new dl(`Invalid hash count: ${s}`);if(t.length===0&&i!==0)throw new dl(`Invalid padding when bitmap length is 0: ${i}`);this.Ee=8*t.length-i,this.de=Br.fromNumber(this.Ee)}Ae(t,i,s){let l=t.add(i.multiply(Br.fromNumber(s)));return l.compare(aR)===1&&(l=new Br([l.getBits(0),l.getBits(1)],0)),l.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const i=wy(t),[s,l]=Iy(i);for(let c=0;c<this.hashCount;c++){const d=this.Ae(s,l,c);if(!this.Re(d))return!1}return!0}static create(t,i,s){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new lm(c,l,i);return s.forEach(g=>d.insert(g)),d}insert(t){if(this.Ee===0)return;const i=wy(t),[s,l]=Iy(i);for(let c=0;c<this.hashCount;c++){const d=this.Ae(s,l,c);this.Ve(d)}}Ve(t){const i=Math.floor(t/8),s=t%8;this.bitmap[i]|=1<<s}}class dl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(t,i,s,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,s){const l=new Map;return l.set(t,Vl.createSynthesizedTargetChangeForCurrentChange(t,i,s)),new Wc(yt.min(),l,new ee(Mt),Fi(),Nt())}}class Vl{constructor(t,i,s,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,s){return new Vl(s,i,Nt(),Nt(),Nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(t,i,s,l){this.me=t,this.removedTargetIds=i,this.key=s,this.fe=l}}class gE{constructor(t,i){this.targetId=t,this.ge=i}}class pE{constructor(t,i,s=Be.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=s,this.cause=l}}class Cy{constructor(){this.pe=0,this.ye=Dy(),this.we=Be.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.we=t)}Fe(){let t=Nt(),i=Nt(),s=Nt();return this.ye.forEach((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:s=s.add(l);break;default:pt()}}),new Vl(this.we,this.be,t,i,s)}Me(){this.Se=!1,this.ye=Dy()}xe(t,i){this.Se=!0,this.ye=this.ye.insert(t,i)}Oe(t){this.Se=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,Ft(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class oR{constructor(t){this.ke=t,this.qe=new Map,this.Qe=Fi(),this.$e=uc(),this.Ke=uc(),this.Ue=new ee(Mt)}We(t){for(const i of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(i,t.fe):this.ze(i,t.key,t.fe);for(const i of t.removedTargetIds)this.ze(i,t.key,t.fe)}je(t){this.forEachTarget(t,i=>{const s=this.He(i);switch(t.state){case 0:this.Je(i)&&s.Ce(t.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(t.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(i);break;case 3:this.Je(i)&&(s.Le(),s.Ce(t.resumeToken));break;case 4:this.Je(i)&&(this.Ye(i),s.Ce(t.resumeToken));break;default:pt()}})}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.qe.forEach((s,l)=>{this.Je(l)&&i(l)})}Ze(t){const i=t.targetId,s=t.ge.count,l=this.Xe(i);if(l){const c=l.target;if(Pd(c))if(s===0){const d=new ht(c.path);this.ze(i,d,Ke.newNoDocument(d,yt.min()))}else Ft(s===1);else{const d=this.et(i);if(d!==s){const g=this.tt(t),p=g?this.nt(g,t,d):1;if(p!==0){this.Ye(i);const v=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(i,v)}}}}}tt(t){const i=t.ge.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=Gr(s).toUint8Array()}catch(p){if(p instanceof Hv)return qa("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new lm(d,l,c)}catch(p){return qa(p instanceof dl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.Ee===0?null:g}nt(t,i,s){return i.ge.count===s-this.st(t,i.targetId)?0:2}st(t,i){const s=this.ke.getRemoteKeysForTarget(i);let l=0;return s.forEach(c=>{const d=this.ke.it(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.ze(i,c,null),l++)}),l}ot(t){const i=new Map;this.qe.forEach((c,d)=>{const g=this.Xe(d);if(g){if(c.current&&Pd(g.target)){const p=new ht(g.target.path);this._t(p).has(d)||this.ut(d,p)||this.ze(d,p,Ke.newNoDocument(p,t))}c.ve&&(i.set(d,c.Fe()),c.Me())}});let s=Nt();this.Ke.forEach((c,d)=>{let g=!0;d.forEachWhile(p=>{const v=this.Xe(p);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(c))}),this.Qe.forEach((c,d)=>d.setReadTime(t));const l=new Wc(t,i,this.Ue,this.Qe,s);return this.Qe=Fi(),this.$e=uc(),this.Ke=uc(),this.Ue=new ee(Mt),l}Ge(t,i){if(!this.Je(t))return;const s=this.ut(t,i.key)?2:0;this.He(t).xe(i.key,s),this.Qe=this.Qe.insert(i.key,i),this.$e=this.$e.insert(i.key,this._t(i.key).add(t)),this.Ke=this.Ke.insert(i.key,this.ct(i.key).add(t))}ze(t,i,s){if(!this.Je(t))return;const l=this.He(t);this.ut(t,i)?l.xe(i,1):l.Oe(i),this.Ke=this.Ke.insert(i,this.ct(i).delete(t)),this.Ke=this.Ke.insert(i,this.ct(i).add(t)),s&&(this.Qe=this.Qe.insert(i,s))}removeTarget(t){this.qe.delete(t)}et(t){const i=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let i=this.qe.get(t);return i||(i=new Cy,this.qe.set(t,i)),i}ct(t){let i=this.Ke.get(t);return i||(i=new Re(Mt),this.Ke=this.Ke.insert(t,i)),i}_t(t){let i=this.$e.get(t);return i||(i=new Re(Mt),this.$e=this.$e.insert(t,i)),i}Je(t){const i=this.Xe(t)!==null;return i||it("WatchChangeAggregator","Detected inactive target",t),i}Xe(t){const i=this.qe.get(t);return i&&i.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new Cy),this.ke.getRemoteKeysForTarget(t).forEach(i=>{this.ze(t,i,null)})}ut(t,i){return this.ke.getRemoteKeysForTarget(t).has(i)}}function uc(){return new ee(ht.comparator)}function Dy(){return new ee(ht.comparator)}const lR={asc:"ASCENDING",desc:"DESCENDING"},uR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cR={and:"AND",or:"OR"};class hR{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Ud(r,t){return r.useProto3Json||Fc(t)?t:{value:t}}function Vc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function _E(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function fR(r,t){return Vc(r,t.toTimestamp())}function ai(r){return Ft(!!r),yt.fromTimestamp(function(i){const s=Fr(i);return new be(s.seconds,s.nanos)}(r))}function um(r,t){return Ld(r,t).canonicalString()}function Ld(r,t){const i=function(l){return new Wt(["projects",l.projectId,"databases",l.database])}(r).child("documents");return t===void 0?i:i.child(t)}function yE(r){const t=Wt.fromString(r);return Ft(SE(t)),t}function xd(r,t){return um(r.databaseId,t.path)}function _d(r,t){const i=yE(t);if(i.get(1)!==r.databaseId.projectId)throw new ut(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ut(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ht(EE(i))}function vE(r,t){return um(r.databaseId,t)}function dR(r){const t=yE(r);return t.length===4?Wt.emptyPath():EE(t)}function zd(r){return new Wt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function EE(r){return Ft(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function Oy(r,t,i){return{name:xd(r,t),fields:i.value.mapValue.fields}}function mR(r,t){let i;if("targetChange"in t){t.targetChange;const s=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:pt()}(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=function(v,A){return v.useProto3Json?(Ft(A===void 0||typeof A=="string"),Be.fromBase64String(A||"")):(Ft(A===void 0||A instanceof Buffer||A instanceof Uint8Array),Be.fromUint8Array(A||new Uint8Array))}(r,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&function(v){const A=v.code===void 0?Q.UNKNOWN:mE(v.code);return new ut(A,v.message||"")}(d);i=new pE(s,l,c,g||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=_d(r,s.document.name),c=ai(s.document.updateTime),d=s.document.createTime?ai(s.document.createTime):yt.min(),g=new Nn({mapValue:{fields:s.document.fields}}),p=Ke.newFoundDocument(l,c,d,g),v=s.targetIds||[],A=s.removedTargetIds||[];i=new _c(v,A,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=_d(r,s.document),c=s.readTime?ai(s.readTime):yt.min(),d=Ke.newNoDocument(l,c),g=s.removedTargetIds||[];i=new _c([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=_d(r,s.document),c=s.removedTargetIds||[];i=new _c([],c,l,null)}else{if(!("filter"in t))return pt();{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,d=new iR(l,c),g=s.targetId;i=new gE(g,d)}}return i}function gR(r,t){let i;if(t instanceof Nl)i={update:Oy(r,t.key,t.value)};else if(t instanceof am)i={delete:xd(r,t.key)};else if(t instanceof zs)i={update:Oy(r,t.key,t.data),updateMask:bR(t.fieldMask)};else{if(!(t instanceof tR))return pt();i={verify:xd(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map(s=>function(c,d){const g=d.transform;if(g instanceof Oc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof bl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Rl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Nc)return{fieldPath:d.field.canonicalString(),increment:g.Ie};throw pt()}(0,s))),t.precondition.isNone||(i.currentDocument=function(l,c){return c.updateTime!==void 0?{updateTime:fR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:pt()}(r,t.precondition)),i}function pR(r,t){return r&&r.length>0?(Ft(t!==void 0),r.map(i=>function(l,c){let d=l.updateTime?ai(l.updateTime):ai(c);return d.isEqual(yt.min())&&(d=ai(c)),new Wb(d,l.transformResults||[])}(i,t))):[]}function _R(r,t){return{documents:[vE(r,t.path)]}}function yR(r,t){const i={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=vE(r,l);const c=function(v){if(v.length!==0)return AE(ci.create(v,"and"))}(t.filters);c&&(i.structuredQuery.where=c);const d=function(v){if(v.length!==0)return v.map(A=>function(z){return{field:Pa(z.field),direction:TR(z.dir)}}(A))}(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Ud(r,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(t.startAt)),t.endAt&&(i.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(t.endAt)),{ht:i,parent:l}}function vR(r){let t=dR(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let l=null;if(s>0){Ft(s===1);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=function(C){const z=TE(C);return z instanceof ci&&Wv(z)?z.getFilters():[z]}(i.where));let d=[];i.orderBy&&(d=function(C){return C.map(z=>function($){return new Dc(ka($.field),function(X){switch(X){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}($.direction))}(z))}(i.orderBy));let g=null;i.limit&&(g=function(C){let z;return z=typeof C=="object"?C.value:C,Fc(z)?null:z}(i.limit));let p=null;i.startAt&&(p=function(C){const z=!!C.before,j=C.values||[];return new Cc(j,z)}(i.startAt));let v=null;return i.endAt&&(v=function(C){const z=!C.before,j=C.values||[];return new Cc(j,z)}(i.endAt)),Lb(t,l,d,c,g,"F",p,v)}function ER(r,t){const i=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pt()}}(t.purpose);return i==null?null:{"goog-listen-tags":i}}function TE(r){return r.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=ka(i.unaryFilter.field);return Se.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=ka(i.unaryFilter.field);return Se.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ka(i.unaryFilter.field);return Se.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ka(i.unaryFilter.field);return Se.create(d,"!=",{nullValue:"NULL_VALUE"});default:return pt()}}(r):r.fieldFilter!==void 0?function(i){return Se.create(ka(i.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return pt()}}(i.fieldFilter.op),i.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(i){return ci.create(i.compositeFilter.filters.map(s=>TE(s)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return pt()}}(i.compositeFilter.op))}(r):pt()}function TR(r){return lR[r]}function AR(r){return uR[r]}function SR(r){return cR[r]}function Pa(r){return{fieldPath:r.canonicalString()}}function ka(r){return ze.fromServerFormat(r.fieldPath)}function AE(r){return r instanceof Se?function(i){if(i.op==="=="){if(_y(i.value))return{unaryFilter:{field:Pa(i.field),op:"IS_NAN"}};if(py(i.value))return{unaryFilter:{field:Pa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(_y(i.value))return{unaryFilter:{field:Pa(i.field),op:"IS_NOT_NAN"}};if(py(i.value))return{unaryFilter:{field:Pa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pa(i.field),op:AR(i.op),value:i.value}}}(r):r instanceof ci?function(i){const s=i.getFilters().map(l=>AE(l));return s.length===1?s[0]:{compositeFilter:{op:SR(i.op),filters:s}}}(r):pt()}function bR(r){const t=[];return r.fields.forEach(i=>t.push(i.canonicalString())),{fieldPaths:t}}function SE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(t,i,s,l,c=yt.min(),d=yt.min(),g=Be.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=i,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(t){return new Ur(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(t){this.Tt=t}}function wR(r){const t=vR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?kd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(){this.Tn=new CR}addToCollectionParentIndex(t,i){return this.Tn.add(i),G.resolve()}getCollectionParents(t,i){return G.resolve(this.Tn.getEntries(i))}addFieldIndex(t,i){return G.resolve()}deleteFieldIndex(t,i){return G.resolve()}deleteAllFieldIndexes(t){return G.resolve()}createTargetIndexes(t,i){return G.resolve()}getDocumentsMatchingTarget(t,i){return G.resolve(null)}getIndexType(t,i){return G.resolve(0)}getFieldIndexes(t,i){return G.resolve([])}getNextCollectionGroupToUpdate(t){return G.resolve(null)}getMinOffset(t,i){return G.resolve(jr.min())}getMinOffsetFromCollectionGroup(t,i){return G.resolve(jr.min())}updateCollectionGroup(t,i,s){return G.resolve()}updateIndexEntries(t,i){return G.resolve()}}class CR{constructor(){this.index={}}add(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i]||new Re(Wt.comparator),c=!l.has(s);return this.index[i]=l.add(s),c}has(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i];return l&&l.has(s)}getEntries(t){return(this.index[t]||new Re(Wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ny={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},bE=41943040;class rn{static withCacheSize(t){return new rn(t,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rn.DEFAULT_COLLECTION_PERCENTILE=10,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rn.DEFAULT=new rn(bE,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rn.DISABLED=new rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Kn(){return new Ka(0)}static Un(){return new Ka(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy="LruGarbageCollector",DR=1048576;function My([r,t],[i,s]){const l=Mt(r,i);return l===0?Mt(t,s):l}class OR{constructor(t){this.Hn=t,this.buffer=new Re(My),this.Jn=0}Yn(){return++this.Jn}Zn(t){const i=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();My(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class NR{constructor(t,i,s){this.garbageCollector=t,this.asyncQueue=i,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){it(Vy,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Za(i)?it(Vy,"Ignoring IndexedDB error during garbage collection: ",i):await Wa(i)}await this.er(3e5)})}}class VR{constructor(t,i){this.tr=t,this.params=i}calculateTargetCount(t,i){return this.tr.nr(t).next(s=>Math.floor(i/100*s))}nthSequenceNumber(t,i){if(i===0)return G.resolve(jc.ae);const s=new OR(i);return this.tr.forEachTarget(t,l=>s.Zn(l.sequenceNumber)).next(()=>this.tr.rr(t,l=>s.Zn(l))).next(()=>s.maxValue)}removeTargets(t,i,s){return this.tr.removeTargets(t,i,s)}removeOrphanedDocuments(t,i){return this.tr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),G.resolve(Ny)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ny):this.ir(t,i))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,i){let s,l,c,d,g,p,v;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(C=>(C>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),l=this.params.maximumSequenceNumbersToCollect):l=C,d=Date.now(),this.nthSequenceNumber(t,l))).next(C=>(s=C,g=Date.now(),this.removeTargets(t,s,i))).next(C=>(c=C,p=Date.now(),this.removeOrphanedDocuments(t,s))).next(C=>(v=Date.now(),Va()<=Ot.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(p-g)+`ms
	Removed ${C} documents in `+(v-p)+`ms
Total Duration: ${v-A}ms`),G.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:C})))}}function MR(r,t){return new VR(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(){this.changes=new xs(t=>t.toString(),(t,i)=>t.isEqual(i)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Ke.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?G.resolve(s):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(t,i,s,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,i){let s=null;return this.documentOverlayCache.getOverlay(t,i).next(l=>(s=l,this.remoteDocumentCache.getEntry(t,i))).next(l=>(s!==null&&_l(s.mutation,l,xn.empty(),be.now()),l))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next(s=>this.getLocalViewOfDocuments(t,s,Nt()).next(()=>s))}getLocalViewOfDocuments(t,i,s=Nt()){const l=Os();return this.populateOverlays(t,l,i).next(()=>this.computeViews(t,i,l,s).next(c=>{let d=fl();return c.forEach((g,p)=>{d=d.insert(g,p.overlayedDocument)}),d}))}getOverlayedDocuments(t,i){const s=Os();return this.populateOverlays(t,s,i).next(()=>this.computeViews(t,i,s,Nt()))}populateOverlays(t,i,s){const l=[];return s.forEach(c=>{i.has(c)||l.push(c)}),this.documentOverlayCache.getOverlays(t,l).next(c=>{c.forEach((d,g)=>{i.set(d,g)})})}computeViews(t,i,s,l){let c=Fi();const d=pl(),g=function(){return pl()}();return i.forEach((p,v)=>{const A=s.get(v.key);l.has(v.key)&&(A===void 0||A.mutation instanceof zs)?c=c.insert(v.key,v):A!==void 0?(d.set(v.key,A.mutation.getFieldMask()),_l(A.mutation,v,A.mutation.getFieldMask(),be.now())):d.set(v.key,xn.empty())}),this.recalculateAndSaveOverlays(t,c).next(p=>(p.forEach((v,A)=>d.set(v,A)),i.forEach((v,A)=>{var C;return g.set(v,new kR(A,(C=d.get(v))!==null&&C!==void 0?C:null))}),g))}recalculateAndSaveOverlays(t,i){const s=pl();let l=new ee((d,g)=>d-g),c=Nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next(d=>{for(const g of d)g.keys().forEach(p=>{const v=i.get(p);if(v===null)return;let A=s.get(p)||xn.empty();A=g.applyToLocalView(v,A),s.set(p,A);const C=(l.get(g.batchId)||Nt()).add(p);l=l.insert(g.batchId,C)})}).next(()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),v=p.key,A=p.value,C=aE();A.forEach(z=>{if(!c.has(z)){const j=fE(i.get(z),s.get(z));j!==null&&C.set(z,j),c=c.add(z)}}),d.push(this.documentOverlayCache.saveOverlays(t,v,C))}return G.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,i,s,l){return function(d){return ht.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):xb(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,s,l):this.getDocumentsMatchingCollectionQuery(t,i,s,l)}getNextDocuments(t,i,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,s,l).next(c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,s.largestBatchId,l-c.size):G.resolve(Os());let g=El,p=c;return d.next(v=>G.forEach(v,(A,C)=>(g<C.largestBatchId&&(g=C.largestBatchId),c.get(A)?G.resolve():this.remoteDocumentCache.getEntry(t,A).next(z=>{p=p.insert(A,z)}))).next(()=>this.populateOverlays(t,v,c)).next(()=>this.computeViews(t,p,v,Nt())).next(A=>({batchId:g,changes:sE(A)})))})}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ht(i)).next(s=>{let l=fl();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(t,i,s,l){const c=i.collectionGroup;let d=fl();return this.indexManager.getCollectionParents(t,c).next(g=>G.forEach(g,p=>{const v=function(C,z){return new Kc(z,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)}(i,p.child(c));return this.getDocumentsMatchingCollectionQuery(t,v,s,l).next(A=>{A.forEach((C,z)=>{d=d.insert(C,z)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(t,i,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,s.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,s,c,l))).next(d=>{c.forEach((p,v)=>{const A=v.getKey();d.get(A)===null&&(d=d.insert(A,Ke.newInvalidDocument(A)))});let g=fl();return d.forEach((p,v)=>{const A=c.get(p);A!==void 0&&_l(A.mutation,v,xn.empty(),be.now()),Yc(i,v)&&(g=g.insert(p,v))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,i){return G.resolve(this.dr.get(i))}saveBundleMetadata(t,i){return this.dr.set(i.id,function(l){return{id:l.id,version:l.version,createTime:ai(l.createTime)}}(i)),G.resolve()}getNamedQuery(t,i){return G.resolve(this.Ar.get(i))}saveNamedQuery(t,i){return this.Ar.set(i.name,function(l){return{name:l.name,query:wR(l.bundledQuery),readTime:ai(l.readTime)}}(i)),G.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(){this.overlays=new ee(ht.comparator),this.Rr=new Map}getOverlay(t,i){return G.resolve(this.overlays.get(i))}getOverlays(t,i){const s=Os();return G.forEach(i,l=>this.getOverlay(t,l).next(c=>{c!==null&&s.set(l,c)})).next(()=>s)}saveOverlays(t,i,s){return s.forEach((l,c)=>{this.Et(t,i,c)}),G.resolve()}removeOverlaysForBatchId(t,i,s){const l=this.Rr.get(s);return l!==void 0&&(l.forEach(c=>this.overlays=this.overlays.remove(c)),this.Rr.delete(s)),G.resolve()}getOverlaysForCollection(t,i,s){const l=Os(),c=i.length+1,d=new ht(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const p=g.getNext().value,v=p.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===c&&p.largestBatchId>s&&l.set(p.getKey(),p)}return G.resolve(l)}getOverlaysForCollectionGroup(t,i,s,l){let c=new ee((v,A)=>v-A);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>s){let A=c.get(v.largestBatchId);A===null&&(A=Os(),c=c.insert(v.largestBatchId,A)),A.set(v.getKey(),v)}}const g=Os(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((v,A)=>g.set(v,A)),!(g.size()>=l)););return G.resolve(g)}Et(t,i,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.Rr.get(l.largestBatchId).delete(s.key);this.Rr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new nR(i,s));let c=this.Rr.get(i);c===void 0&&(c=Nt(),this.Rr.set(i,c)),this.Rr.set(i,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(){this.sessionToken=Be.EMPTY_BYTE_STRING}getSessionToken(t){return G.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,G.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(){this.Vr=new Re(Me.mr),this.gr=new Re(Me.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,i){const s=new Me(t,i);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(t,i){t.forEach(s=>this.addReference(s,i))}removeReference(t,i){this.wr(new Me(t,i))}br(t,i){t.forEach(s=>this.removeReference(s,i))}Sr(t){const i=new ht(new Wt([])),s=new Me(i,t),l=new Me(i,t+1),c=[];return this.gr.forEachInRange([s,l],d=>{this.wr(d),c.push(d.key)}),c}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const i=new ht(new Wt([])),s=new Me(i,t),l=new Me(i,t+1);let c=Nt();return this.gr.forEachInRange([s,l],d=>{c=c.add(d.key)}),c}containsKey(t){const i=new Me(t,0),s=this.Vr.firstAfterOrEqual(i);return s!==null&&t.isEqual(s.key)}}class Me{constructor(t,i){this.key=t,this.Cr=i}static mr(t,i){return ht.comparator(t.key,i.key)||Mt(t.Cr,i.Cr)}static pr(t,i){return Mt(t.Cr,i.Cr)||ht.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Fr=1,this.Mr=new Re(Me.mr)}checkEmpty(t){return G.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,s,l){const c=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new eR(c,i,s,l);this.mutationQueue.push(d);for(const g of l)this.Mr=this.Mr.add(new Me(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return G.resolve(d)}lookupMutationBatch(t,i){return G.resolve(this.Or(i))}getNextMutationBatchAfterBatchId(t,i){const s=i+1,l=this.Nr(s),c=l<0?0:l;return G.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return G.resolve(this.mutationQueue.length===0?tm:this.Fr-1)}getAllMutationBatches(t){return G.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const s=new Me(i,0),l=new Me(i,Number.POSITIVE_INFINITY),c=[];return this.Mr.forEachInRange([s,l],d=>{const g=this.Or(d.Cr);c.push(g)}),G.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let s=new Re(Mt);return i.forEach(l=>{const c=new Me(l,0),d=new Me(l,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([c,d],g=>{s=s.add(g.Cr)})}),G.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(t,i){const s=i.path,l=s.length+1;let c=s;ht.isDocumentKey(c)||(c=c.child(""));const d=new Me(new ht(c),0);let g=new Re(Mt);return this.Mr.forEachWhile(p=>{const v=p.key.path;return!!s.isPrefixOf(v)&&(v.length===l&&(g=g.add(p.Cr)),!0)},d),G.resolve(this.Br(g))}Br(t){const i=[];return t.forEach(s=>{const l=this.Or(s);l!==null&&i.push(l)}),i}removeMutationBatch(t,i){Ft(this.Lr(i.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return G.forEach(i.mutations,l=>{const c=new Me(l.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)}).next(()=>{this.Mr=s})}qn(t){}containsKey(t,i){const s=new Me(i,0),l=this.Mr.firstAfterOrEqual(s);return G.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,G.resolve()}Lr(t,i){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const i=this.Nr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(t){this.kr=t,this.docs=function(){return new ee(ht.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const s=i.key,l=this.docs.get(s),c=l?l.size:0,d=this.kr(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const s=this.docs.get(i);return G.resolve(s?s.document.mutableCopy():Ke.newInvalidDocument(i))}getEntries(t,i){let s=Fi();return i.forEach(l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():Ke.newInvalidDocument(l))}),G.resolve(s)}getDocumentsMatchingQuery(t,i,s,l){let c=Fi();const d=i.path,g=new ht(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:v,value:{document:A}}=p.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||gb(mb(A),s)<=0||(l.has(A.key)||Yc(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return G.resolve(c)}getAllFromCollectionGroup(t,i,s,l){pt()}qr(t,i){return G.forEach(this.docs,s=>i(s))}newChangeBuffer(t){return new qR(this)}getSize(t){return G.resolve(this.size)}}class qR extends PR{constructor(t){super(),this.Ir=t}applyChanges(t){const i=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?i.push(this.Ir.addEntry(t,l)):this.Ir.removeEntry(s)}),G.waitFor(i)}getFromCache(t,i){return this.Ir.getEntry(t,i)}getAllFromCache(t,i){return this.Ir.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(t){this.persistence=t,this.Qr=new xs(i=>im(i),rm),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.$r=0,this.Kr=new cm,this.targetCount=0,this.Ur=Ka.Kn()}forEachTarget(t,i){return this.Qr.forEach((s,l)=>i(l)),G.resolve()}getLastRemoteSnapshotVersion(t){return G.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return G.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Ur.next(),G.resolve(this.highestTargetId)}setTargetsMetadata(t,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.$r&&(this.$r=i),G.resolve()}zn(t){this.Qr.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.Ur=new Ka(i),this.highestTargetId=i),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,i){return this.zn(i),this.targetCount+=1,G.resolve()}updateTargetData(t,i){return this.zn(i),G.resolve()}removeTargetData(t,i){return this.Qr.delete(i.target),this.Kr.Sr(i.targetId),this.targetCount-=1,G.resolve()}removeTargets(t,i,s){let l=0;const c=[];return this.Qr.forEach((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.Qr.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)}),G.waitFor(c).next(()=>l)}getTargetCount(t){return G.resolve(this.targetCount)}getTargetData(t,i){const s=this.Qr.get(i)||null;return G.resolve(s)}addMatchingKeys(t,i,s){return this.Kr.yr(i,s),G.resolve()}removeMatchingKeys(t,i,s){this.Kr.br(i,s);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach(d=>{c.push(l.markPotentiallyOrphaned(t,d))}),G.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.Kr.Sr(i),G.resolve()}getMatchingKeysForTargetId(t,i){const s=this.Kr.vr(i);return G.resolve(s)}containsKey(t,i){return G.resolve(this.Kr.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(t,i){this.Wr={},this.overlays={},this.Gr=new jc(0),this.zr=!1,this.zr=!0,this.jr=new zR,this.referenceDelegate=t(this),this.Hr=new jR(this),this.indexManager=new IR,this.remoteDocumentCache=function(l){return new HR(l)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new RR(i),this.Yr=new LR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new xR,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let s=this.Wr[t.toKey()];return s||(s=new BR(i,this.referenceDelegate),this.Wr[t.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,i,s){it("MemoryPersistence","Starting transaction:",t);const l=new FR(this.Gr.next());return this.referenceDelegate.Zr(),s(l).next(c=>this.referenceDelegate.Xr(l).next(()=>c)).toPromise().then(c=>(l.raiseOnCommittedEvent(),c))}ei(t,i){return G.or(Object.values(this.Wr).map(s=>()=>s.containsKey(t,i)))}}class FR extends _b{constructor(t){super(),this.currentSequenceNumber=t}}class hm{constructor(t){this.persistence=t,this.ti=new cm,this.ni=null}static ri(t){return new hm(t)}get ii(){if(this.ni)return this.ni;throw pt()}addReference(t,i,s){return this.ti.addReference(s,i),this.ii.delete(s.toString()),G.resolve()}removeReference(t,i,s){return this.ti.removeReference(s,i),this.ii.add(s.toString()),G.resolve()}markPotentiallyOrphaned(t,i){return this.ii.add(i.toString()),G.resolve()}removeTarget(t,i){this.ti.Sr(i.targetId).forEach(l=>this.ii.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,i.targetId).next(l=>{l.forEach(c=>this.ii.add(c.toString()))}).next(()=>s.removeTargetData(t,i))}Zr(){this.ni=new Set}Xr(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return G.forEach(this.ii,s=>{const l=ht.fromPath(s);return this.si(t,l).next(c=>{c||i.removeEntry(l,yt.min())})}).next(()=>(this.ni=null,i.apply(t)))}updateLimboDocument(t,i){return this.si(t,i).next(s=>{s?this.ii.delete(i.toString()):this.ii.add(i.toString())})}Jr(t){return 0}si(t,i){return G.or([()=>G.resolve(this.ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.ei(t,i)])}}class Mc{constructor(t,i){this.persistence=t,this.oi=new xs(s=>Eb(s.path),(s,l)=>s.isEqual(l)),this.garbageCollector=MR(this,i)}static ri(t,i){return new Mc(t,i)}Zr(){}Xr(t){return G.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}nr(t){const i=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>i.next(l=>s+l))}sr(t){let i=0;return this.rr(t,s=>{i++}).next(()=>i)}rr(t,i){return G.forEach(this.oi,(s,l)=>this.ar(t,s,l).next(c=>c?G.resolve():i(l)))}removeTargets(t,i,s){return this.persistence.getTargetCache().removeTargets(t,i,s)}removeOrphanedDocuments(t,i){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.qr(t,d=>this.ar(t,d,i).next(g=>{g||(s++,c.removeEntry(d,yt.min()))})).next(()=>c.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,i){return this.oi.set(i,t.currentSequenceNumber),G.resolve()}removeTarget(t,i){const s=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,i,s){return this.oi.set(s,t.currentSequenceNumber),G.resolve()}removeReference(t,i,s){return this.oi.set(s,t.currentSequenceNumber),G.resolve()}updateLimboDocument(t,i){return this.oi.set(i,t.currentSequenceNumber),G.resolve()}Jr(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=mc(t.data.value)),i}ar(t,i,s){return G.or([()=>this.persistence.ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.oi.get(i);return G.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(t,i,s,l){this.targetId=t,this.fromCache=i,this.Hi=s,this.Ji=l}static Yi(t,i){let s=Nt(),l=Nt();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new fm(t,i.fromCache,s,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return zA()?8:yb(Qe())>0?6:4}()}initialize(t,i){this.ns=t,this.indexManager=i,this.Zi=!0}getDocumentsMatchingQuery(t,i,s,l){const c={result:null};return this.rs(t,i).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.ss(t,i,l,s).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new GR;return this._s(t,i,d).next(g=>{if(c.result=g,this.Xi)return this.us(t,i,d,g.size)})}).next(()=>c.result)}us(t,i,s,l){return s.documentReadCount<this.es?(Va()<=Ot.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",Ma(i),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),G.resolve()):(Va()<=Ot.DEBUG&&it("QueryEngine","Query:",Ma(i),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.ts*l?(Va()<=Ot.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",Ma(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ri(i))):G.resolve())}rs(t,i){if(Ty(i))return G.resolve(null);let s=ri(i);return this.indexManager.getIndexType(t,s).next(l=>l===0?null:(i.limit!==null&&l===1&&(i=kd(i,null,"F"),s=ri(i)),this.indexManager.getDocumentsMatchingTarget(t,s).next(c=>{const d=Nt(...c);return this.ns.getDocuments(t,d).next(g=>this.indexManager.getMinOffset(t,s).next(p=>{const v=this.cs(i,g);return this.ls(i,v,d,p.readTime)?this.rs(t,kd(i,null,"F")):this.hs(t,v,i,p)}))})))}ss(t,i,s,l){return Ty(i)||l.isEqual(yt.min())?G.resolve(null):this.ns.getDocuments(t,s).next(c=>{const d=this.cs(i,c);return this.ls(i,d,s,l)?G.resolve(null):(Va()<=Ot.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ma(i)),this.hs(t,d,i,db(l,El)).next(g=>g))})}cs(t,i){let s=new Re(iE(t));return i.forEach((l,c)=>{Yc(t,c)&&(s=s.add(c))}),s}ls(t,i,s,l){if(t.limit===null)return!1;if(s.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}_s(t,i,s){return Va()<=Ot.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",Ma(i)),this.ns.getDocumentsMatchingQuery(t,i,jr.min(),s)}hs(t,i,s,l){return this.ns.getDocumentsMatchingQuery(t,s,l).next(c=>(i.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dm="LocalStore",QR=3e8;class YR{constructor(t,i,s,l){this.persistence=t,this.Ps=i,this.serializer=l,this.Ts=new ee(Mt),this.Is=new xs(c=>im(c),rm),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(s)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new UR(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>t.collect(i,this.Ts))}}function XR(r,t,i,s){return new YR(r,t,i,s)}async function wE(r,t){const i=Et(r);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let l;return i.mutationQueue.getAllMutationBatches(s).next(c=>(l=c,i.As(t),i.mutationQueue.getAllMutationBatches(s))).next(c=>{const d=[],g=[];let p=Nt();for(const v of l){d.push(v.batchId);for(const A of v.mutations)p=p.add(A.key)}for(const v of c){g.push(v.batchId);for(const A of v.mutations)p=p.add(A.key)}return i.localDocuments.getDocuments(s,p).next(v=>({Rs:v,removedBatchIds:d,addedBatchIds:g}))})})}function $R(r,t){const i=Et(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=t.batch.keys(),c=i.ds.newChangeBuffer({trackRemovals:!0});return function(g,p,v,A){const C=v.batch,z=C.keys();let j=G.resolve();return z.forEach($=>{j=j.next(()=>A.getEntry(p,$)).next(tt=>{const X=v.docVersions.get($);Ft(X!==null),tt.version.compareTo(X)<0&&(C.applyToRemoteDocument(tt,v),tt.isValidDocument()&&(tt.setReadTime(v.commitVersion),A.addEntry(tt)))})}),j.next(()=>g.mutationQueue.removeMutationBatch(p,C))}(i,s,t,c).next(()=>c.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let p=Nt();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(p=p.add(g.batch.mutations[v].key));return p}(t))).next(()=>i.localDocuments.getDocuments(s,l))})}function IE(r){const t=Et(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",i=>t.Hr.getLastRemoteSnapshotVersion(i))}function WR(r,t){const i=Et(r),s=t.snapshotVersion;let l=i.Ts;return i.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=i.ds.newChangeBuffer({trackRemovals:!0});l=i.Ts;const g=[];t.targetChanges.forEach((A,C)=>{const z=l.get(C);if(!z)return;g.push(i.Hr.removeMatchingKeys(c,A.removedDocuments,C).next(()=>i.Hr.addMatchingKeys(c,A.addedDocuments,C)));let j=z.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(C)!==null?j=j.withResumeToken(Be.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):A.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(A.resumeToken,s)),l=l.insert(C,j),function(tt,X,Tt){return tt.resumeToken.approximateByteSize()===0||X.snapshotVersion.toMicroseconds()-tt.snapshotVersion.toMicroseconds()>=QR?!0:Tt.addedDocuments.size+Tt.modifiedDocuments.size+Tt.removedDocuments.size>0}(z,j,A)&&g.push(i.Hr.updateTargetData(c,j))});let p=Fi(),v=Nt();if(t.documentUpdates.forEach(A=>{t.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))}),g.push(ZR(c,d,t.documentUpdates).next(A=>{p=A.Vs,v=A.fs})),!s.isEqual(yt.min())){const A=i.Hr.getLastRemoteSnapshotVersion(c).next(C=>i.Hr.setTargetsMetadata(c,c.currentSequenceNumber,s));g.push(A)}return G.waitFor(g).next(()=>d.apply(c)).next(()=>i.localDocuments.getLocalViewOfDocuments(c,p,v)).next(()=>p)}).then(c=>(i.Ts=l,c))}function ZR(r,t,i){let s=Nt(),l=Nt();return i.forEach(c=>s=s.add(c)),t.getEntries(r,s).next(c=>{let d=Fi();return i.forEach((g,p)=>{const v=c.get(g);p.isFoundDocument()!==v.isFoundDocument()&&(l=l.add(g)),p.isNoDocument()&&p.version.isEqual(yt.min())?(t.removeEntry(g,p.readTime),d=d.insert(g,p)):!v.isValidDocument()||p.version.compareTo(v.version)>0||p.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(p),d=d.insert(g,p)):it(dm,"Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",p.version)}),{Vs:d,fs:l}})}function JR(r,t){const i=Et(r);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=tm),i.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function tw(r,t){const i=Et(r);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return i.Hr.getTargetData(s,t).next(c=>c?(l=c,G.resolve(l)):i.Hr.allocateTargetId(s).next(d=>(l=new Ur(t,d,"TargetPurposeListen",s.currentSequenceNumber),i.Hr.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=i.Ts.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ts=i.Ts.insert(s.targetId,s),i.Is.set(t,s.targetId)),s})}async function Bd(r,t,i){const s=Et(r),l=s.Ts.get(t),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,d=>s.persistence.referenceDelegate.removeTarget(d,l))}catch(d){if(!Za(d))throw d;it(dm,`Failed to update sequence numbers for target ${t}: ${d}`)}s.Ts=s.Ts.remove(t),s.Is.delete(l.target)}function Py(r,t,i){const s=Et(r);let l=yt.min(),c=Nt();return s.persistence.runTransaction("Execute query","readwrite",d=>function(p,v,A){const C=Et(p),z=C.Is.get(A);return z!==void 0?G.resolve(C.Ts.get(z)):C.Hr.getTargetData(v,A)}(s,d,ri(t)).next(g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(d,g.targetId).next(p=>{c=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(d,t,i?l:yt.min(),i?c:Nt())).next(g=>(ew(s,Bb(t),g),{documents:g,gs:c})))}function ew(r,t,i){let s=r.Es.get(t)||yt.min();i.forEach((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),r.Es.set(t,s)}class ky{constructor(){this.activeTargetIds=Kb()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ss(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class nw{constructor(){this.ho=new ky,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,s){}addLocalQueryTarget(t,i=!0){return i&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,i,s){this.Po[t]=i}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new ky,Promise.resolve()}handleUserChange(t,i,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy="ConnectivityMonitor";class Ly{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){it(Uy,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){it(Uy,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cc=null;function Hd(){return cc===null?cc=function(){return 268435456+Math.round(2147483648*Math.random())}():cc++,"0x"+cc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yd="RestConnection",rw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class sw{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.po=i+"://"+t.host,this.yo=`projects/${s}/databases/${l}`,this.wo=this.databaseId.database===wc?`project_id=${s}`:`project_id=${s}&database_id=${l}`}bo(t,i,s,l,c){const d=Hd(),g=this.So(t,i.toUriEncodedString());it(yd,`Sending RPC '${t}' ${d}:`,g,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,l,c),this.vo(t,g,p,s).then(v=>(it(yd,`Received RPC '${t}' ${d}: `,v),v),v=>{throw qa(yd,`RPC '${t}' ${d} failed with error: `,v,"url: ",g,"request:",s),v})}Co(t,i,s,l,c,d){return this.bo(t,i,s,l,c)}Do(t,i,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+$a}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((l,c)=>t[c]=l),s&&s.headers.forEach((l,c)=>t[c]=l)}So(t,i){const s=rw[t];return`${this.po}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Ko(t){this.ko(t)}Uo(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fe="WebChannelConnection";class ow extends sw{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,i,s,l){const c=Hd();return new Promise((d,g)=>{const p=new Vv;p.setWithCredentials(!0),p.listenOnce(Mv.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case dc.NO_ERROR:const A=p.getResponseJson();it(Fe,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(A)),d(A);break;case dc.TIMEOUT:it(Fe,`RPC '${t}' ${c} timed out`),g(new ut(Q.DEADLINE_EXCEEDED,"Request time out"));break;case dc.HTTP_ERROR:const C=p.getStatus();if(it(Fe,`RPC '${t}' ${c} failed with status:`,C,"response text:",p.getResponseText()),C>0){let z=p.getResponseJson();Array.isArray(z)&&(z=z[0]);const j=z==null?void 0:z.error;if(j&&j.status&&j.message){const $=function(X){const Tt=X.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(Tt)>=0?Tt:Q.UNKNOWN}(j.status);g(new ut($,j.message))}else g(new ut(Q.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new ut(Q.UNAVAILABLE,"Connection failed."));break;default:pt()}}finally{it(Fe,`RPC '${t}' ${c} completed.`)}});const v=JSON.stringify(l);it(Fe,`RPC '${t}' ${c} sending request:`,l),p.send(i,"POST",v,s,15)})}Wo(t,i,s){const l=Hd(),c=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=Uv(),g=kv(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(p.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,i,s),p.encodeInitMessageHeaders=!0;const A=c.join("");it(Fe,`Creating RPC '${t}' stream ${l}: ${A}`,p);const C=d.createWebChannel(A,p);let z=!1,j=!1;const $=new aw({Fo:X=>{j?it(Fe,`Not sending because RPC '${t}' stream ${l} is closed:`,X):(z||(it(Fe,`Opening RPC '${t}' stream ${l} transport.`),C.open(),z=!0),it(Fe,`RPC '${t}' stream ${l} sending:`,X),C.send(X))},Mo:()=>C.close()}),tt=(X,Tt,ft)=>{X.listen(Tt,Z=>{try{ft(Z)}catch(It){setTimeout(()=>{throw It},0)}})};return tt(C,hl.EventType.OPEN,()=>{j||(it(Fe,`RPC '${t}' stream ${l} transport opened.`),$.Qo())}),tt(C,hl.EventType.CLOSE,()=>{j||(j=!0,it(Fe,`RPC '${t}' stream ${l} transport closed`),$.Ko())}),tt(C,hl.EventType.ERROR,X=>{j||(j=!0,qa(Fe,`RPC '${t}' stream ${l} transport errored:`,X),$.Ko(new ut(Q.UNAVAILABLE,"The operation could not be completed")))}),tt(C,hl.EventType.MESSAGE,X=>{var Tt;if(!j){const ft=X.data[0];Ft(!!ft);const Z=ft,It=(Z==null?void 0:Z.error)||((Tt=Z[0])===null||Tt===void 0?void 0:Tt.error);if(It){it(Fe,`RPC '${t}' stream ${l} received error:`,It);const ct=It.status;let Dt=function(S){const I=ge[S];if(I!==void 0)return mE(I)}(ct),M=It.message;Dt===void 0&&(Dt=Q.INTERNAL,M="Unknown error status: "+ct+" with message "+It.message),j=!0,$.Ko(new ut(Dt,M)),C.close()}else it(Fe,`RPC '${t}' stream ${l} received:`,ft),$.Uo(ft)}}),tt(g,Pv.STAT_EVENT,X=>{X.stat===Od.PROXY?it(Fe,`RPC '${t}' stream ${l} detected buffering proxy`):X.stat===Od.NOPROXY&&it(Fe,`RPC '${t}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{$.$o()},0),$}}function vd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zc(r){return new hR(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(t,i,s=1e3,l=1.5,c=6e4){this.Ti=t,this.timerId=i,this.Go=s,this.zo=l,this.jo=c,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const i=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),l=Math.max(0,i-s);l>0&&it("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Ho} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,l,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xy="PersistentStream";class DE{constructor(t,i,s,l,c,d,g,p){this.Ti=t,this.n_=s,this.r_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new CE(t,i)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,i){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():i&&i.code===Q.RESOURCE_EXHAUSTED?(ji(i.toString()),ji("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):i&&i.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(i)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),i=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.i_===i&&this.V_(s,l)},s=>{t(()=>{const l=new ut(Q.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(l)})})}V_(t,i){const s=this.R_(this.i_);this.stream=this.f_(t,i),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(l=>{s(()=>this.m_(l))}),this.stream.onMessage(l=>{s(()=>++this.__==1?this.g_(l):this.onNext(l))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return it(xy,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return i=>{this.Ti.enqueueAndForget(()=>this.i_===t?i():(it(xy,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class lw extends DE{constructor(t,i,s,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,l,d),this.serializer=c}f_(t,i){return this.connection.Wo("Listen",t,i)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const i=mR(this.serializer,t),s=function(c){if(!("targetChange"in c))return yt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?yt.min():d.readTime?ai(d.readTime):yt.min()}(t);return this.listener.p_(i,s)}y_(t){const i={};i.database=zd(this.serializer),i.addTarget=function(c,d){let g;const p=d.target;if(g=Pd(p)?{documents:_R(c,p)}:{query:yR(c,p).ht},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=_E(c,d.resumeToken);const v=Ud(c,d.expectedCount);v!==null&&(g.expectedCount=v)}else if(d.snapshotVersion.compareTo(yt.min())>0){g.readTime=Vc(c,d.snapshotVersion.toTimestamp());const v=Ud(c,d.expectedCount);v!==null&&(g.expectedCount=v)}return g}(this.serializer,t);const s=ER(this.serializer,t);s&&(i.labels=s),this.I_(i)}w_(t){const i={};i.database=zd(this.serializer),i.removeTarget=t,this.I_(i)}}class uw extends DE{constructor(t,i,s,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,l,d),this.serializer=c}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(t,i){return this.connection.Wo("Write",t,i)}g_(t){return Ft(!!t.streamToken),this.lastStreamToken=t.streamToken,Ft(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){Ft(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const i=pR(t.writeResults,t.commitTime),s=ai(t.commitTime);return this.listener.v_(s,i)}C_(){const t={};t.database=zd(this.serializer),this.I_(t)}S_(t){const i={streamToken:this.lastStreamToken,writes:t.map(s=>gR(this.serializer,s))};this.I_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{}class hw extends cw{constructor(t,i,s,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=s,this.serializer=l,this.F_=!1}M_(){if(this.F_)throw new ut(Q.FAILED_PRECONDITION,"The client has already been terminated.")}bo(t,i,s,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.bo(t,Ld(i,s),l,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ut(Q.UNKNOWN,c.toString())})}Co(t,i,s,l,c){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Co(t,Ld(i,s),l,d,g,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ut(Q.UNKNOWN,d.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class fw{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(ji(i),this.N_=!1):it("OnlineStateTracker",i)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps="RemoteStore";class dw{constructor(t,i,s,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=c,this.z_.To(d=>{s.enqueueAndForget(async()=>{Bs(this)&&(it(Ps,"Restarting streams for network reachability change."),await async function(p){const v=Et(p);v.W_.add(4),await Ml(v),v.j_.set("Unknown"),v.W_.delete(4),await Jc(v)}(this))})}),this.j_=new fw(s,l)}}async function Jc(r){if(Bs(r))for(const t of r.G_)await t(!0)}async function Ml(r){for(const t of r.G_)await t(!1)}function OE(r,t){const i=Et(r);i.U_.has(t.targetId)||(i.U_.set(t.targetId,t),_m(i)?pm(i):Ja(i).c_()&&gm(i,t))}function mm(r,t){const i=Et(r),s=Ja(i);i.U_.delete(t),s.c_()&&NE(i,t),i.U_.size===0&&(s.c_()?s.P_():Bs(i)&&i.j_.set("Unknown"))}function gm(r,t){if(r.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(yt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}Ja(r).y_(t)}function NE(r,t){r.H_.Ne(t),Ja(r).w_(t)}function pm(r){r.H_=new oR({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>r.U_.get(t)||null,it:()=>r.datastore.serializer.databaseId}),Ja(r).start(),r.j_.B_()}function _m(r){return Bs(r)&&!Ja(r).u_()&&r.U_.size>0}function Bs(r){return Et(r).W_.size===0}function VE(r){r.H_=void 0}async function mw(r){r.j_.set("Online")}async function gw(r){r.U_.forEach((t,i)=>{gm(r,t)})}async function pw(r,t){VE(r),_m(r)?(r.j_.q_(t),pm(r)):r.j_.set("Unknown")}async function _w(r,t,i){if(r.j_.set("Online"),t instanceof pE&&t.state===2&&t.cause)try{await async function(l,c){const d=c.cause;for(const g of c.targetIds)l.U_.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.U_.delete(g),l.H_.removeTarget(g))}(r,t)}catch(s){it(Ps,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Pc(r,s)}else if(t instanceof _c?r.H_.We(t):t instanceof gE?r.H_.Ze(t):r.H_.je(t),!i.isEqual(yt.min()))try{const s=await IE(r.localStore);i.compareTo(s)>=0&&await function(c,d){const g=c.H_.ot(d);return g.targetChanges.forEach((p,v)=>{if(p.resumeToken.approximateByteSize()>0){const A=c.U_.get(v);A&&c.U_.set(v,A.withResumeToken(p.resumeToken,d))}}),g.targetMismatches.forEach((p,v)=>{const A=c.U_.get(p);if(!A)return;c.U_.set(p,A.withResumeToken(Be.EMPTY_BYTE_STRING,A.snapshotVersion)),NE(c,p);const C=new Ur(A.target,p,v,A.sequenceNumber);gm(c,C)}),c.remoteSyncer.applyRemoteEvent(g)}(r,i)}catch(s){it(Ps,"Failed to raise snapshot:",s),await Pc(r,s)}}async function Pc(r,t,i){if(!Za(t))throw t;r.W_.add(1),await Ml(r),r.j_.set("Offline"),i||(i=()=>IE(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{it(Ps,"Retrying IndexedDB access"),await i(),r.W_.delete(1),await Jc(r)})}function ME(r,t){return t().catch(i=>Pc(r,i,t))}async function th(r){const t=Et(r),i=Qr(t);let s=t.K_.length>0?t.K_[t.K_.length-1].batchId:tm;for(;yw(t);)try{const l=await JR(t.localStore,s);if(l===null){t.K_.length===0&&i.P_();break}s=l.batchId,vw(t,l)}catch(l){await Pc(t,l)}PE(t)&&kE(t)}function yw(r){return Bs(r)&&r.K_.length<10}function vw(r,t){r.K_.push(t);const i=Qr(r);i.c_()&&i.b_&&i.S_(t.mutations)}function PE(r){return Bs(r)&&!Qr(r).u_()&&r.K_.length>0}function kE(r){Qr(r).start()}async function Ew(r){Qr(r).C_()}async function Tw(r){const t=Qr(r);for(const i of r.K_)t.S_(i.mutations)}async function Aw(r,t,i){const s=r.K_.shift(),l=om.from(s,t,i);await ME(r,()=>r.remoteSyncer.applySuccessfulWrite(l)),await th(r)}async function Sw(r,t){t&&Qr(r).b_&&await async function(s,l){if(function(d){return rR(d)&&d!==Q.ABORTED}(l.code)){const c=s.K_.shift();Qr(s).h_(),await ME(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l)),await th(s)}}(r,t),PE(r)&&kE(r)}async function zy(r,t){const i=Et(r);i.asyncQueue.verifyOperationInProgress(),it(Ps,"RemoteStore received new credentials");const s=Bs(i);i.W_.add(3),await Ml(i),s&&i.j_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.W_.delete(3),await Jc(i)}async function bw(r,t){const i=Et(r);t?(i.W_.delete(2),await Jc(i)):t||(i.W_.add(2),await Ml(i),i.j_.set("Unknown"))}function Ja(r){return r.J_||(r.J_=function(i,s,l){const c=Et(i);return c.M_(),new lw(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(r.datastore,r.asyncQueue,{xo:mw.bind(null,r),No:gw.bind(null,r),Lo:pw.bind(null,r),p_:_w.bind(null,r)}),r.G_.push(async t=>{t?(r.J_.h_(),_m(r)?pm(r):r.j_.set("Unknown")):(await r.J_.stop(),VE(r))})),r.J_}function Qr(r){return r.Y_||(r.Y_=function(i,s,l){const c=Et(i);return c.M_(),new uw(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:Ew.bind(null,r),Lo:Sw.bind(null,r),D_:Tw.bind(null,r),v_:Aw.bind(null,r)}),r.G_.push(async t=>{t?(r.Y_.h_(),await th(r)):(await r.Y_.stop(),r.K_.length>0&&(it(Ps,`Stopping write stream with ${r.K_.length} pending writes`),r.K_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(t,i,s,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new Hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,i,s,l,c){const d=Date.now()+s,g=new ym(t,i,d,l,c);return g.start(s),g}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(Q.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vm(r,t){if(ji("AsyncQueue",`${t}: ${r}`),Za(r))return new ut(Q.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{static emptySet(t){return new La(t.comparator)}constructor(t){this.comparator=t?(i,s)=>t(i,s)||ht.comparator(i.key,s.key):(i,s)=>ht.comparator(i.key,s.key),this.keyedMap=fl(),this.sortedSet=new ee(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((i,s)=>(t(i),!1))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof La)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach(i=>{t.push(i.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const s=new La;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(){this.Z_=new ee(ht.comparator)}track(t){const i=t.doc.key,s=this.Z_.get(i);s?t.type!==0&&s.type===3?this.Z_=this.Z_.insert(i,t):t.type===3&&s.type!==1?this.Z_=this.Z_.insert(i,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.Z_=this.Z_.insert(i,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.Z_=this.Z_.insert(i,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.Z_=this.Z_.remove(i):t.type===1&&s.type===2?this.Z_=this.Z_.insert(i,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.Z_=this.Z_.insert(i,{type:2,doc:t.doc}):pt():this.Z_=this.Z_.insert(i,t)}X_(){const t=[];return this.Z_.inorderTraversal((i,s)=>{t.push(s)}),t}}class Qa{constructor(t,i,s,l,c,d,g,p,v){this.query=t,this.docs=i,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=v}static fromInitialDocuments(t,i,s,l,c){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new Qa(t,i,La.emptySet(i),d,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Qc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,s=t.docChanges;if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==s[l].type||!i[l].doc.isEqual(s[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class ww{constructor(){this.queries=Hy(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(i,s){const l=Et(i),c=l.queries;l.queries=Hy(),c.forEach((d,g)=>{for(const p of g.ta)p.onError(s)})})(this,new ut(Q.ABORTED,"Firestore shutting down"))}}function Hy(){return new xs(r=>nE(r),Qc)}async function Iw(r,t){const i=Et(r);let s=3;const l=t.query;let c=i.queries.get(l);c?!c.na()&&t.ra()&&(s=2):(c=new Rw,s=t.ra()?0:1);try{switch(s){case 0:c.ea=await i.onListen(l,!0);break;case 1:c.ea=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=vm(d,`Initialization of query '${Ma(t.query)}' failed`);return void t.onError(g)}i.queries.set(l,c),c.ta.push(t),t.sa(i.onlineState),c.ea&&t.oa(c.ea)&&Em(i)}async function Cw(r,t){const i=Et(r),s=t.query;let l=3;const c=i.queries.get(s);if(c){const d=c.ta.indexOf(t);d>=0&&(c.ta.splice(d,1),c.ta.length===0?l=t.ra()?0:1:!c.na()&&t.ra()&&(l=2))}switch(l){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function Dw(r,t){const i=Et(r);let s=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.ta)g.oa(l)&&(s=!0);d.ea=l}}s&&Em(i)}function Ow(r,t,i){const s=Et(r),l=s.queries.get(t);if(l)for(const c of l.ta)c.onError(i);s.queries.delete(t)}function Em(r){r.ia.forEach(t=>{t.next()})}var qd,qy;(qy=qd||(qd={}))._a="default",qy.Cache="cache";class Nw{constructor(t,i,s){this.query=t,this.aa=i,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new Qa(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.ua?this.la(t)&&(this.aa.next(t),i=!0):this.ha(t,this.onlineState)&&(this.Pa(t),i=!0),this.ca=t,i}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let i=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),i=!0),i}ha(t,i){if(!t.fromCache||!this.ra())return!0;const s=i!=="Offline";return(!this.options.Ta||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}la(t){if(t.docChanges.length>0)return!0;const i=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Pa(t){t=Qa.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==qd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(t){this.key=t}}class LE{constructor(t){this.key=t}}class Vw{constructor(t,i){this.query=t,this.fa=i,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Nt(),this.mutatedKeys=Nt(),this.ya=iE(t),this.wa=new La(this.ya)}get ba(){return this.fa}Sa(t,i){const s=i?i.Da:new By,l=i?i.wa:this.wa;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,v=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal((A,C)=>{const z=l.get(A),j=Yc(this.query,C)?C:null,$=!!z&&this.mutatedKeys.has(z.key),tt=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let X=!1;z&&j?z.data.isEqual(j.data)?$!==tt&&(s.track({type:3,doc:j}),X=!0):this.va(z,j)||(s.track({type:2,doc:j}),X=!0,(p&&this.ya(j,p)>0||v&&this.ya(j,v)<0)&&(g=!0)):!z&&j?(s.track({type:0,doc:j}),X=!0):z&&!j&&(s.track({type:1,doc:z}),X=!0,(p||v)&&(g=!0)),X&&(j?(d=d.add(j),c=tt?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),s.track({type:1,doc:A})}return{wa:d,Da:s,ls:g,mutatedKeys:c}}va(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,s,l){const c=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const d=t.Da.X_();d.sort((A,C)=>function(j,$){const tt=X=>{switch(X){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt()}};return tt(j)-tt($)}(A.type,C.type)||this.ya(A.doc,C.doc)),this.Ca(s),l=l!=null&&l;const g=i&&!l?this.Fa():[],p=this.pa.size===0&&this.current&&!l?1:0,v=p!==this.ga;return this.ga=p,d.length!==0||v?{snapshot:new Qa(this.query,t.wa,c,d,t.mutatedKeys,p===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:g}:{Ma:g}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new By,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(i=>this.fa=this.fa.add(i)),t.modifiedDocuments.forEach(i=>{}),t.removedDocuments.forEach(i=>this.fa=this.fa.delete(i)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=Nt(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const i=[];return t.forEach(s=>{this.pa.has(s)||i.push(new LE(s))}),this.pa.forEach(s=>{t.has(s)||i.push(new UE(s))}),i}Oa(t){this.fa=t.gs,this.pa=Nt();const i=this.Sa(t.documents);return this.applyChanges(i,!0)}Na(){return Qa.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Tm="SyncEngine";class Mw{constructor(t,i,s){this.query=t,this.targetId=i,this.view=s}}class Pw{constructor(t){this.key=t,this.Ba=!1}}class kw{constructor(t,i,s,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.La={},this.ka=new xs(g=>nE(g),Qc),this.qa=new Map,this.Qa=new Set,this.$a=new ee(ht.comparator),this.Ka=new Map,this.Ua=new cm,this.Wa={},this.Ga=new Map,this.za=Ka.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function Uw(r,t,i=!0){const s=jE(r);let l;const c=s.ka.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.Na()):l=await xE(s,t,i,!0),l}async function Lw(r,t){const i=jE(r);await xE(i,t,!0,!1)}async function xE(r,t,i,s){const l=await tw(r.localStore,ri(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let g;return s&&(g=await xw(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&OE(r.remoteStore,l),g}async function xw(r,t,i,s,l){r.Ha=(C,z,j)=>async function(tt,X,Tt,ft){let Z=X.view.Sa(Tt);Z.ls&&(Z=await Py(tt.localStore,X.query,!1).then(({documents:M})=>X.view.Sa(M,Z)));const It=ft&&ft.targetChanges.get(X.targetId),ct=ft&&ft.targetMismatches.get(X.targetId)!=null,Dt=X.view.applyChanges(Z,tt.isPrimaryClient,It,ct);return Fy(tt,X.targetId,Dt.Ma),Dt.snapshot}(r,C,z,j);const c=await Py(r.localStore,t,!0),d=new Vw(t,c.gs),g=d.Sa(c.documents),p=Vl.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",l),v=d.applyChanges(g,r.isPrimaryClient,p);Fy(r,i,v.Ma);const A=new Mw(t,i,d);return r.ka.set(t,A),r.qa.has(i)?r.qa.get(i).push(t):r.qa.set(i,[t]),v.snapshot}async function zw(r,t,i){const s=Et(r),l=s.ka.get(t),c=s.qa.get(l.targetId);if(c.length>1)return s.qa.set(l.targetId,c.filter(d=>!Qc(d,t))),void s.ka.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await Bd(s.localStore,l.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(l.targetId),i&&mm(s.remoteStore,l.targetId),jd(s,l.targetId)}).catch(Wa)):(jd(s,l.targetId),await Bd(s.localStore,l.targetId,!0))}async function Bw(r,t){const i=Et(r),s=i.ka.get(t),l=i.qa.get(s.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),mm(i.remoteStore,s.targetId))}async function Hw(r,t,i){const s=Yw(r);try{const l=await function(d,g){const p=Et(d),v=be.now(),A=g.reduce((j,$)=>j.add($.key),Nt());let C,z;return p.persistence.runTransaction("Locally write mutations","readwrite",j=>{let $=Fi(),tt=Nt();return p.ds.getEntries(j,A).next(X=>{$=X,$.forEach((Tt,ft)=>{ft.isValidDocument()||(tt=tt.add(Tt))})}).next(()=>p.localDocuments.getOverlayedDocuments(j,$)).next(X=>{C=X;const Tt=[];for(const ft of g){const Z=Jb(ft,C.get(ft.key).overlayedDocument);Z!=null&&Tt.push(new zs(ft.key,Z,Yv(Z.value.mapValue),si.exists(!0)))}return p.mutationQueue.addMutationBatch(j,v,Tt,g)}).next(X=>{z=X;const Tt=X.applyToLocalDocumentSet(C,tt);return p.documentOverlayCache.saveOverlays(j,X.batchId,Tt)})}).then(()=>({batchId:z.batchId,changes:sE(C)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),function(d,g,p){let v=d.Wa[d.currentUser.toKey()];v||(v=new ee(Mt)),v=v.insert(g,p),d.Wa[d.currentUser.toKey()]=v}(s,l.batchId,i),await Pl(s,l.changes),await th(s.remoteStore)}catch(l){const c=vm(l,"Failed to persist write");i.reject(c)}}async function zE(r,t){const i=Et(r);try{const s=await WR(i.localStore,t);t.targetChanges.forEach((l,c)=>{const d=i.Ka.get(c);d&&(Ft(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?d.Ba=!0:l.modifiedDocuments.size>0?Ft(d.Ba):l.removedDocuments.size>0&&(Ft(d.Ba),d.Ba=!1))}),await Pl(i,s,t)}catch(s){await Wa(s)}}function jy(r,t,i){const s=Et(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const l=[];s.ka.forEach((c,d)=>{const g=d.view.sa(t);g.snapshot&&l.push(g.snapshot)}),function(d,g){const p=Et(d);p.onlineState=g;let v=!1;p.queries.forEach((A,C)=>{for(const z of C.ta)z.sa(g)&&(v=!0)}),v&&Em(p)}(s.eventManager,t),l.length&&s.La.p_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function qw(r,t,i){const s=Et(r);s.sharedClientState.updateQueryState(t,"rejected",i);const l=s.Ka.get(t),c=l&&l.key;if(c){let d=new ee(ht.comparator);d=d.insert(c,Ke.newNoDocument(c,yt.min()));const g=Nt().add(c),p=new Wc(yt.min(),new Map,new ee(Mt),d,g);await zE(s,p),s.$a=s.$a.remove(c),s.Ka.delete(t),Am(s)}else await Bd(s.localStore,t,!1).then(()=>jd(s,t,i)).catch(Wa)}async function jw(r,t){const i=Et(r),s=t.batch.batchId;try{const l=await $R(i.localStore,t);HE(i,s,null),BE(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await Pl(i,l)}catch(l){await Wa(l)}}async function Fw(r,t,i){const s=Et(r);try{const l=await function(d,g){const p=Et(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let A;return p.mutationQueue.lookupMutationBatch(v,g).next(C=>(Ft(C!==null),A=C.keys(),p.mutationQueue.removeMutationBatch(v,C))).next(()=>p.mutationQueue.performConsistencyCheck(v)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(v,A,g)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,A)).next(()=>p.localDocuments.getDocuments(v,A))})}(s.localStore,t);HE(s,t,i),BE(s,t),s.sharedClientState.updateMutationState(t,"rejected",i),await Pl(s,l)}catch(l){await Wa(l)}}function BE(r,t){(r.Ga.get(t)||[]).forEach(i=>{i.resolve()}),r.Ga.delete(t)}function HE(r,t,i){const s=Et(r);let l=s.Wa[s.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),s.Wa[s.currentUser.toKey()]=l}}function jd(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.qa.get(t))r.ka.delete(s),i&&r.La.Ja(s,i);r.qa.delete(t),r.isPrimaryClient&&r.Ua.Sr(t).forEach(s=>{r.Ua.containsKey(s)||qE(r,s)})}function qE(r,t){r.Qa.delete(t.path.canonicalString());const i=r.$a.get(t);i!==null&&(mm(r.remoteStore,i),r.$a=r.$a.remove(t),r.Ka.delete(i),Am(r))}function Fy(r,t,i){for(const s of i)s instanceof UE?(r.Ua.addReference(s.key,t),Gw(r,s)):s instanceof LE?(it(Tm,"Document no longer in limbo: "+s.key),r.Ua.removeReference(s.key,t),r.Ua.containsKey(s.key)||qE(r,s.key)):pt()}function Gw(r,t){const i=t.key,s=i.path.canonicalString();r.$a.get(i)||r.Qa.has(s)||(it(Tm,"New document in limbo: "+i),r.Qa.add(s),Am(r))}function Am(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const t=r.Qa.values().next().value;r.Qa.delete(t);const i=new ht(Wt.fromString(t)),s=r.za.next();r.Ka.set(s,new Pw(i)),r.$a=r.$a.insert(i,s),OE(r.remoteStore,new Ur(ri(eE(i.path)),s,"TargetPurposeLimboResolution",jc.ae))}}async function Pl(r,t,i){const s=Et(r),l=[],c=[],d=[];s.ka.isEmpty()||(s.ka.forEach((g,p)=>{d.push(s.Ha(p,t,i).then(v=>{var A;if((v||i)&&s.isPrimaryClient){const C=v?!v.fromCache:(A=i==null?void 0:i.targetChanges.get(p.targetId))===null||A===void 0?void 0:A.current;s.sharedClientState.updateQueryState(p.targetId,C?"current":"not-current")}if(v){l.push(v);const C=fm.Yi(p.targetId,v);c.push(C)}}))}),await Promise.all(d),s.La.p_(l),await async function(p,v){const A=Et(p);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",C=>G.forEach(v,z=>G.forEach(z.Hi,j=>A.persistence.referenceDelegate.addReference(C,z.targetId,j)).next(()=>G.forEach(z.Ji,j=>A.persistence.referenceDelegate.removeReference(C,z.targetId,j)))))}catch(C){if(!Za(C))throw C;it(dm,"Failed to update sequence numbers: "+C)}for(const C of v){const z=C.targetId;if(!C.fromCache){const j=A.Ts.get(z),$=j.snapshotVersion,tt=j.withLastLimboFreeSnapshotVersion($);A.Ts=A.Ts.insert(z,tt)}}}(s.localStore,c))}async function Kw(r,t){const i=Et(r);if(!i.currentUser.isEqual(t)){it(Tm,"User change. New user:",t.toKey());const s=await wE(i.localStore,t);i.currentUser=t,function(c,d){c.Ga.forEach(g=>{g.forEach(p=>{p.reject(new ut(Q.CANCELLED,d))})}),c.Ga.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Pl(i,s.Rs)}}function Qw(r,t){const i=Et(r),s=i.Ka.get(t);if(s&&s.Ba)return Nt().add(s.key);{let l=Nt();const c=i.qa.get(t);if(!c)return l;for(const d of c){const g=i.ka.get(d);l=l.unionWith(g.view.ba)}return l}}function jE(r){const t=Et(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=zE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Qw.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=qw.bind(null,t),t.La.p_=Dw.bind(null,t.eventManager),t.La.Ja=Ow.bind(null,t.eventManager),t}function Yw(r){const t=Et(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=jw.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Fw.bind(null,t),t}class kc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Zc(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,i){return null}nu(t,i){return null}eu(t){return XR(this.persistence,new KR,t.initialUser,this.serializer)}Xa(t){return new RE(hm.ri,this.serializer)}Za(t){return new nw}async terminate(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}kc.provider={build:()=>new kc};class Xw extends kc{constructor(t){super(),this.cacheSizeBytes=t}tu(t,i){Ft(this.persistence.referenceDelegate instanceof Mc);const s=this.persistence.referenceDelegate.garbageCollector;return new NR(s,t.asyncQueue,i)}Xa(t){const i=this.cacheSizeBytes!==void 0?rn.withCacheSize(this.cacheSizeBytes):rn.DEFAULT;return new RE(s=>Mc.ri(s,i),this.serializer)}}class Fd{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>jy(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Kw.bind(null,this.syncEngine),await bw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new ww}()}createDatastore(t){const i=Zc(t.databaseInfo.databaseId),s=function(c){return new ow(c)}(t.databaseInfo);return function(c,d,g,p){return new hw(c,d,g,p)}(t.authCredentials,t.appCheckCredentials,s,i)}createRemoteStore(t){return function(s,l,c,d,g){return new dw(s,l,c,d,g)}(this.localStore,this.datastore,t.asyncQueue,i=>jy(this.syncEngine,i,0),function(){return Ly.D()?new Ly:new iw}())}createSyncEngine(t,i){return function(l,c,d,g,p,v,A){const C=new kw(l,c,d,g,p,v);return A&&(C.ja=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){var t,i;await async function(l){const c=Et(l);it(Ps,"RemoteStore shutting down."),c.W_.add(5),await Ml(c),c.z_.shutdown(),c.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Fd.provider={build:()=>new Fd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):ji("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,i){setTimeout(()=>{this.muted||t(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yr="FirestoreClient";class Ww{constructor(t,i,s,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=l,this.user=Ge.UNAUTHENTICATED,this.clientId=xv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async d=>{it(Yr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(it(Yr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const s=vm(i,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function Ed(r,t){r.asyncQueue.verifyOperationInProgress(),it(Yr,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let s=i.initialUser;r.setCredentialChangeListener(async l=>{s.isEqual(l)||(await wE(t.localStore,l),s=l)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function Gy(r,t){r.asyncQueue.verifyOperationInProgress();const i=await Zw(r);it(Yr,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener(s=>zy(t.remoteStore,s)),r.setAppCheckTokenChangeListener((s,l)=>zy(t.remoteStore,l)),r._onlineComponents=t}async function Zw(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){it(Yr,"Using user provided OfflineComponentProvider");try{await Ed(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!function(l){return l.name==="FirebaseError"?l.code===Q.FAILED_PRECONDITION||l.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(i))throw i;qa("Error using user provided cache. Falling back to memory cache: "+i),await Ed(r,new kc)}}else it(Yr,"Using default OfflineComponentProvider"),await Ed(r,new Xw(void 0));return r._offlineComponents}async function FE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(it(Yr,"Using user provided OnlineComponentProvider"),await Gy(r,r._uninitializedComponentsProvider._online)):(it(Yr,"Using default OnlineComponentProvider"),await Gy(r,new Fd))),r._onlineComponents}function Jw(r){return FE(r).then(t=>t.syncEngine)}async function tI(r){const t=await FE(r),i=t.eventManager;return i.onListen=Uw.bind(null,t.syncEngine),i.onUnlisten=zw.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=Lw.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=Bw.bind(null,t.syncEngine),i}function eI(r,t,i={}){const s=new Hr;return r.asyncQueue.enqueueAndForget(async()=>function(c,d,g,p,v){const A=new $w({next:z=>{A.su(),d.enqueueAndForget(()=>Cw(c,C)),z.fromCache&&p.source==="server"?v.reject(new ut(Q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(z)},error:z=>v.reject(z)}),C=new Nw(g,A,{includeMetadataChanges:!0,Ta:!0});return Iw(c,C)}(await tI(r),r.asyncQueue,t,i,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(r,t,i){if(!i)throw new ut(Q.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function nI(r,t,i,s){if(t===!0&&s===!0)throw new ut(Q.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function Qy(r){if(!ht.isDocumentKey(r))throw new ut(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Yy(r){if(ht.isDocumentKey(r))throw new ut(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Sm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":pt()}function wl(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ut(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Sm(r);throw new ut(Q.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE="firestore.googleapis.com",Xy=!0;class $y{constructor(t){var i,s;if(t.host===void 0){if(t.ssl!==void 0)throw new ut(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=QE,this.ssl=Xy}else this.host=t.host,this.ssl=(i=t.ssl)!==null&&i!==void 0?i:Xy;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=bE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<DR)throw new ut(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}nI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=GE((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new ut(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new ut(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new ut(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,l){return s.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class eh{constructor(t,i,s,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $y({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ut(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $y(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new sb;switch(s.type){case"firstParty":return new ub(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ut(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=Ky.get(i);s&&(it("ComponentProvider","Removing Datastore"),Ky.delete(i),s.terminate())}(this),Promise.resolve()}}function iI(r,t,i,s={}){var l;const c=(r=wl(r,eh))._getSettings(),d=Object.assign(Object.assign({},c),{emulatorOptions:r._getEmulatorOptions()}),g=`${t}:${i}`;c.host!==QE&&c.host!==g&&qa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},c),{host:g,ssl:!1,emulatorOptions:s});if(!Ns(p,d)&&(r._setSettings(p),s.mockUserToken)){let v,A;if(typeof s.mockUserToken=="string")v=s.mockUserToken,A=Ge.MOCK_USER;else{v=VA(s.mockUserToken,(l=r._app)===null||l===void 0?void 0:l.options.projectId);const C=s.mockUserToken.sub||s.mockUserToken.user_id;if(!C)throw new ut(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Ge(C)}r._authCredentials=new ab(new Lv(v,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(t,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new nh(this.firestore,t,this._query)}}class zn{constructor(t,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new zn(this.firestore,t,this._key)}}class qr extends nh{constructor(t,i,s){super(t,i,eE(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new zn(this.firestore,null,new ht(t))}withConverter(t){return new qr(this.firestore,t,this._path)}}function Wy(r,t,...i){if(r=fn(r),KE("collection","path",t),r instanceof eh){const s=Wt.fromString(t,...i);return Yy(s),new qr(r,null,s)}{if(!(r instanceof zn||r instanceof qr))throw new ut(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Wt.fromString(t,...i));return Yy(s),new qr(r.firestore,null,s)}}function YE(r,t,...i){if(r=fn(r),arguments.length===1&&(t=xv.newId()),KE("doc","path",t),r instanceof eh){const s=Wt.fromString(t,...i);return Qy(s),new zn(r,null,new ht(s))}{if(!(r instanceof zn||r instanceof qr))throw new ut(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Wt.fromString(t,...i));return Qy(s),new zn(r.firestore,r instanceof qr?r.converter:null,new ht(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy="AsyncQueue";class Jy{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new CE(this,"async_queue_retry"),this.bu=()=>{const s=vd();s&&it(Zy,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.Su=t;const i=vd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const i=vd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.bu)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const i=new Hr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!Za(t))throw t;it(Zy,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const i=this.Su.then(()=>(this.pu=!0,t().catch(s=>{this.gu=s,this.pu=!1;const l=function(d){let g=d.message||"";return d.stack&&(g=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),g}(s);throw ji("INTERNAL UNHANDLED ERROR: ",l),s}).then(s=>(this.pu=!1,s))));return this.Su=i,i}enqueueAfterDelay(t,i,s){this.Du(),this.wu.indexOf(t)>-1&&(i=0);const l=ym.createAndSchedule(this,t,i,s,c=>this.Fu(c));return this.fu.push(l),l}Du(){this.gu&&pt()}verifyOperationInProgress(){}async Mu(){let t;do t=this.Su,await t;while(t!==this.Su)}xu(t){for(const i of this.fu)if(i.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.fu)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const i=this.fu.indexOf(t);this.fu.splice(i,1)}}class ih extends eh{constructor(t,i,s,l){super(t,i,s,l),this.type="firestore",this._queue=new Jy,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Jy(t),this._firestoreClient=void 0,await t}}}function rI(r,t){const i=typeof r=="object"?r:Cv(),s=typeof r=="string"?r:wc,l=Zd(i,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=OA("firestore");c&&iI(l,...c)}return l}function XE(r){if(r._terminated)throw new ut(Q.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||sI(r),r._firestoreClient}function sI(r){var t,i,s;const l=r._freezeSettings(),c=function(g,p,v,A){return new Sb(g,p,v,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,GE(A.experimentalLongPollingOptions),A.useFetchStreams)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,l);r._componentsProvider||!((i=l.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=l.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),r._firestoreClient=new Ww(r._authCredentials,r._appCheckCredentials,r._queue,c,r._componentsProvider&&function(g){const p=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ya(Be.fromBase64String(t))}catch(i){throw new ut(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Ya(Be.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ut(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ze(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ut(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ut(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Mt(this._lat,t._lat)||Mt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(t){this._values=(t||[]).map(i=>i)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI=/^__.*__$/;class oI{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return this.fieldMask!==null?new zs(t,this.data,this.fieldMask,i,this.fieldTransforms):new Nl(t,this.data,i,this.fieldTransforms)}}function WE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt()}}class Im{constructor(t,i,s,l,c,d){this.settings=t,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.Bu(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new Im(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(t),l=this.ku({path:s,Qu:!1});return l.$u(t),l}Ku(t){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(t),l=this.ku({path:s,Qu:!1});return l.Bu(),l}Uu(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return Uc(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(i=>t.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>t.isPrefixOf(i.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(WE(this.Lu)&&aI.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class lI{constructor(t,i,s){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=s||Zc(t)}ju(t,i,s,l=!1){return new Im({Lu:t,methodName:i,zu:s,path:ze.emptyPath(),Qu:!1,Gu:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function uI(r){const t=r._freezeSettings(),i=Zc(r._databaseId);return new lI(r._databaseId,!!t.ignoreUndefinedProperties,i)}function cI(r,t,i,s,l,c={}){const d=r.ju(c.merge||c.mergeFields?2:0,t,i,l);eT("Data must be an object, but it was:",d,s);const g=JE(s,d);let p,v;if(c.merge)p=new xn(d.fieldMask),v=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const C of c.mergeFields){const z=hI(t,C,i);if(!d.contains(z))throw new ut(Q.INVALID_ARGUMENT,`Field '${z}' is specified in your field mask but missing from your input data.`);dI(A,z)||A.push(z)}p=new xn(A),v=d.fieldTransforms.filter(C=>p.covers(C.field))}else p=null,v=d.fieldTransforms;return new oI(new Nn(g),p,v)}function ZE(r,t){if(tT(r=fn(r)))return eT("Unsupported field value:",t,r),JE(r,t);if(r instanceof $E)return function(s,l){if(!WE(l.Lu))throw l.Wu(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Wu(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(s,l){const c=[];let d=0;for(const g of s){let p=ZE(g,l.Uu(d));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),d++}return{arrayValue:{values:c}}}(r,t)}return function(s,l){if((s=fn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Qb(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=be.fromDate(s);return{timestampValue:Vc(l.serializer,c)}}if(s instanceof be){const c=new be(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Vc(l.serializer,c)}}if(s instanceof Rm)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ya)return{bytesValue:_E(l.serializer,s._byteString)};if(s instanceof zn){const c=l.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw l.Wu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:um(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof wm)return function(d,g){return{mapValue:{fields:{[Kv]:{stringValue:Qv},[Ic]:{arrayValue:{values:d.toArray().map(v=>{if(typeof v!="number")throw g.Wu("VectorValues must only contain numeric values.");return sm(g.serializer,v)})}}}}}}(s,l);throw l.Wu(`Unsupported field value: ${Sm(s)}`)}(r,t)}function JE(r,t){const i={};return Bv(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ls(r,(s,l)=>{const c=ZE(l,t.qu(s));c!=null&&(i[s]=c)}),{mapValue:{fields:i}}}function tT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof be||r instanceof Rm||r instanceof Ya||r instanceof zn||r instanceof $E||r instanceof wm)}function eT(r,t,i){if(!tT(i)||!function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}(i)){const s=Sm(i);throw s==="an object"?t.Wu(r+" a custom object"):t.Wu(r+" "+s)}}function hI(r,t,i){if((t=fn(t))instanceof bm)return t._internalPath;if(typeof t=="string")return nT(r,t);throw Uc("Field path arguments must be of type string or ",r,!1,void 0,i)}const fI=new RegExp("[~\\*/\\[\\]]");function nT(r,t,i){if(t.search(fI)>=0)throw Uc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new bm(...t.split("."))._internalPath}catch{throw Uc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function Uc(r,t,i,s,l){const c=s&&!s.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(c||d)&&(p+=" (found",c&&(p+=` in field ${s}`),d&&(p+=` in document ${l}`),p+=")"),new ut(Q.INVALID_ARGUMENT,g+r+p)}function dI(r,t){return r.some(i=>i.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(t,i,s,l,c){this._firestore=t,this._userDataWriter=i,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new zn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new mI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(rT("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class mI extends iT{data(){return super.data()}}function rT(r,t){return typeof t=="string"?nT(r,t):t instanceof bm?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ut(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class pI{convertValue(t,i="none"){switch(Kr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ue(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Gr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw pt()}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const s={};return Ls(t,(l,c)=>{s[l]=this.convertValue(c,i)}),s}convertVectorValue(t){var i,s,l;const c=(l=(s=(i=t.fields)===null||i===void 0?void 0:i[Ic].arrayValue)===null||s===void 0?void 0:s.values)===null||l===void 0?void 0:l.map(d=>ue(d.doubleValue));return new wm(c)}convertGeoPoint(t){return new Rm(ue(t.latitude),ue(t.longitude))}convertArray(t,i){return(t.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(t,i){switch(i){case"previous":const s=Gc(t);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(Tl(t));default:return null}}convertTimestamp(t){const i=Fr(t);return new be(i.seconds,i.nanos)}convertDocumentKey(t,i){const s=Wt.fromString(t);Ft(SE(s));const l=new Al(s.get(1),s.get(3)),c=new ht(s.popFirst(5));return l.isEqual(i)||ji(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(r,t,i){let s;return s=r?r.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class yI extends iT{constructor(t,i,s,l,c,d){super(t,i,s,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new yc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const s=this._document.data.field(rT("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class yc extends yI{data(t={}){return super.data(t)}}class vI{constructor(t,i,s,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new hc(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach(i=>t.push(i)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach(s=>{t.call(i,new yc(this._firestore,this._userDataWriter,s.key,s,new hc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ut(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map(g=>{const p=new yc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new hc(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}})}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(g=>c||g.type!==3).map(g=>{const p=new yc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new hc(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let v=-1,A=-1;return g.type!==0&&(v=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:EI(g.type),doc:p,oldIndex:v,newIndex:A}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function EI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt()}}class TI extends pI{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ya(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new zn(this.firestore,null,i)}}function AI(r){r=wl(r,nh);const t=wl(r.firestore,ih),i=XE(t),s=new TI(t);return gI(r._query),eI(i,r._query).then(l=>new vI(t,s,r,l))}function SI(r){return sT(wl(r.firestore,ih),[new am(r._key,si.none())])}function bI(r,t){const i=wl(r.firestore,ih),s=YE(r),l=_I(r.converter,t);return sT(i,[cI(uI(r.firestore),"addDoc",s._key,l,r.converter!==null,{}).toMutation(s._key,si.exists(!1))]).then(()=>s)}function sT(r,t){return function(s,l){const c=new Hr;return s.asyncQueue.enqueueAndForget(async()=>Hw(await Jw(s),l,c)),c.promise}(XE(r),t)}(function(t,i=!0){(function(l){$a=l})(Xa),Ha(new Vs("firestore",(s,{instanceIdentifier:l,options:c})=>{const d=s.getProvider("app").getImmediate(),g=new ih(new ob(s.getProvider("auth-internal")),new cb(d,s.getProvider("app-check-internal")),function(v,A){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new ut(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Al(v.options.projectId,A)}(d,l),d);return c=Object.assign({useFetchStreams:i},c),g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),zr(sy,ay,t),zr(sy,ay,"esm2017")})();function Cm(r,t){var i={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&t.indexOf(s)<0&&(i[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(r);l<s.length;l++)t.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(r,s[l])&&(i[s[l]]=r[s[l]]);return i}function aT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const RI=aT,oT=new Dl("auth","Firebase",aT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lc=new $d("@firebase/auth");function wI(r,...t){Lc.logLevel<=Ot.WARN&&Lc.warn(`Auth (${Xa}): ${r}`,...t)}function vc(r,...t){Lc.logLevel<=Ot.ERROR&&Lc.error(`Auth (${Xa}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(r,...t){throw Dm(r,...t)}function oi(r,...t){return Dm(r,...t)}function lT(r,t,i){const s=Object.assign(Object.assign({},RI()),{[t]:i});return new Dl("auth","Firebase",s).create(t,{appName:r.name})}function Hi(r){return lT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Dm(r,...t){if(typeof r!="string"){const i=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(i,...s)}return oT.create(r,...t)}function mt(r,t,...i){if(!r)throw Dm(t,...i)}function xi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw vc(t),new Error(t)}function Gi(r,t){r||xi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gd(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function II(){return tv()==="http:"||tv()==="https:"}function tv(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(II()||UA()||"connection"in navigator)?navigator.onLine:!0}function DI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(t,i){this.shortDelay=t,this.longDelay=i,Gi(i>t,"Short delay should be less than long delay!"),this.isMobile=MA()||LA()}get(){return CI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Om(r,t){Gi(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{static initialize(t,i,s){this.fetchImpl=t,i&&(this.headersImpl=i),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI=new kl(3e4,6e4);function Xr(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function $r(r,t,i,s,l={}){return cT(r,l,async()=>{let c={},d={};s&&(t==="GET"?d=s:c={body:JSON.stringify(s)});const g=Ol(Object.assign({key:r.config.apiKey},d)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const v=Object.assign({method:t,headers:p},c);return kA()||(v.referrerPolicy="no-referrer"),uT.fetch()(hT(r,r.config.apiHost,i,g),v)})}async function cT(r,t,i){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},OI),t);try{const l=new MI(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw fc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[p,v]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw fc(r,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw fc(r,"email-already-in-use",d);if(p==="USER_DISABLED")throw fc(r,"user-disabled",d);const A=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw lT(r,A,v);Bn(r,A)}}catch(l){if(l instanceof Ki)throw l;Bn(r,"network-request-failed",{message:String(l)})}}async function Ul(r,t,i,s,l={}){const c=await $r(r,t,i,s,l);return"mfaPendingCredential"in c&&Bn(r,"multi-factor-auth-required",{_serverResponse:c}),c}function hT(r,t,i,s){const l=`${t}${i}?${s}`;return r.config.emulator?Om(r.config,l):`${r.config.apiScheme}://${l}`}function VI(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class MI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,s)=>{this.timer=setTimeout(()=>s(oi(this.auth,"network-request-failed")),NI.get())})}}function fc(r,t,i){const s={appName:r.name};i.email&&(s.email=i.email),i.phoneNumber&&(s.phoneNumber=i.phoneNumber);const l=oi(r,t,s);return l.customData._tokenResponse=i,l}function ev(r){return r!==void 0&&r.enterprise!==void 0}class PI{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===t)return VI(i.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function kI(r,t){return $r(r,"GET","/v2/recaptchaConfig",Xr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UI(r,t){return $r(r,"POST","/v1/accounts:delete",t)}async function fT(r,t){return $r(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function LI(r,t=!1){const i=fn(r),s=await i.getIdToken(t),l=Nm(s);mt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c==null?void 0:c.sign_in_provider;return{claims:l,token:s,authTime:yl(Td(l.auth_time)),issuedAtTime:yl(Td(l.iat)),expirationTime:yl(Td(l.exp)),signInProvider:d||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function Td(r){return Number(r)*1e3}function Nm(r){const[t,i,s]=r.split(".");if(t===void 0||i===void 0||s===void 0)return vc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Tv(i);return l?JSON.parse(l):(vc("Failed to decode base64 JWT payload"),null)}catch(l){return vc("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function nv(r){const t=Nm(r);return mt(t,"internal-error"),mt(typeof t.exp<"u","internal-error"),mt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Il(r,t,i=!1){if(i)return t;try{return await t}catch(s){throw s instanceof Ki&&xI(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function xI({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var i;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const l=((i=this.user.stsTokenManager.expirationTime)!==null&&i!==void 0?i:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=yl(this.lastLoginAt),this.creationTime=yl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xc(r){var t;const i=r.auth,s=await r.getIdToken(),l=await Il(r,fT(i,{idToken:s}));mt(l==null?void 0:l.users.length,i,"internal-error");const c=l.users[0];r._notifyReloadListener(c);const d=!((t=c.providerUserInfo)===null||t===void 0)&&t.length?dT(c.providerUserInfo):[],g=HI(r.providerData,d),p=r.isAnonymous,v=!(r.email&&c.passwordHash)&&!(g!=null&&g.length),A=p?v:!1,C={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:g,metadata:new Kd(c.createdAt,c.lastLoginAt),isAnonymous:A};Object.assign(r,C)}async function BI(r){const t=fn(r);await xc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function HI(r,t){return[...r.filter(s=>!t.some(l=>l.providerId===s.providerId)),...t]}function dT(r){return r.map(t=>{var{providerId:i}=t,s=Cm(t,["providerId"]);return{providerId:i,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qI(r,t){const i=await cT(r,{},async()=>{const s=Ol({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=hT(r,l,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();return g["Content-Type"]="application/x-www-form-urlencoded",uT.fetch()(d,{method:"POST",headers:g,body:s})});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function jI(r,t){return $r(r,"POST","/v2/accounts:revokeToken",Xr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){mt(t.idToken,"internal-error"),mt(typeof t.idToken<"u","internal-error"),mt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):nv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){mt(t.length!==0,"internal-error");const i=nv(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(mt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:s,refreshToken:l,expiresIn:c}=await qI(t,i);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(t,i,s){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,i){const{refreshToken:s,accessToken:l,expirationTime:c}=i,d=new xa;return s&&(mt(typeof s=="string","internal-error",{appName:t}),d.refreshToken=s),l&&(mt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(mt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new xa,this.toJSON())}_performRefresh(){return xi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(r,t){mt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class zi{constructor(t){var{uid:i,auth:s,stsTokenManager:l}=t,c=Cm(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=i,this.auth=s,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new Kd(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(t){const i=await Il(this,this.stsTokenManager.getToken(this.auth,t));return mt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return LI(this,t)}reload(){return BI(this)}_assign(t){this!==t&&(mt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>Object.assign({},i)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new zi(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return i.metadata._copy(this.metadata),i}_onReload(t){mt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),i&&await xc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(On(this.auth.app))return Promise.reject(Hi(this.auth));const t=await this.getIdToken();return await Il(this,UI(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){var s,l,c,d,g,p,v,A;const C=(s=i.displayName)!==null&&s!==void 0?s:void 0,z=(l=i.email)!==null&&l!==void 0?l:void 0,j=(c=i.phoneNumber)!==null&&c!==void 0?c:void 0,$=(d=i.photoURL)!==null&&d!==void 0?d:void 0,tt=(g=i.tenantId)!==null&&g!==void 0?g:void 0,X=(p=i._redirectEventId)!==null&&p!==void 0?p:void 0,Tt=(v=i.createdAt)!==null&&v!==void 0?v:void 0,ft=(A=i.lastLoginAt)!==null&&A!==void 0?A:void 0,{uid:Z,emailVerified:It,isAnonymous:ct,providerData:Dt,stsTokenManager:M}=i;mt(Z&&M,t,"internal-error");const R=xa.fromJSON(this.name,M);mt(typeof Z=="string",t,"internal-error"),Or(C,t.name),Or(z,t.name),mt(typeof It=="boolean",t,"internal-error"),mt(typeof ct=="boolean",t,"internal-error"),Or(j,t.name),Or($,t.name),Or(tt,t.name),Or(X,t.name),Or(Tt,t.name),Or(ft,t.name);const S=new zi({uid:Z,auth:t,email:z,emailVerified:It,displayName:C,isAnonymous:ct,photoURL:$,phoneNumber:j,tenantId:tt,stsTokenManager:R,createdAt:Tt,lastLoginAt:ft});return Dt&&Array.isArray(Dt)&&(S.providerData=Dt.map(I=>Object.assign({},I))),X&&(S._redirectEventId=X),S}static async _fromIdTokenResponse(t,i,s=!1){const l=new xa;l.updateFromServerResponse(i);const c=new zi({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:s});return await xc(c),c}static async _fromGetAccountInfoResponse(t,i,s){const l=i.users[0];mt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?dT(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!(c!=null&&c.length),g=new xa;g.updateFromIdToken(s);const p=new zi({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),v={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Kd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(c!=null&&c.length)};return Object.assign(p,v),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv=new Map;function Bi(r){Gi(r instanceof Function,"Expected a class definition");let t=iv.get(r);return t?(Gi(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,iv.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}mT.type="NONE";const rv=mT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ec(r,t,i){return`firebase:${r}:${t}:${i}`}class za{constructor(t,i,s){this.persistence=t,this.auth=i,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=Ec(this.userKey,l.apiKey,c),this.fullPersistenceKey=Ec("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?zi._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,s="authUser"){if(!i.length)return new za(Bi(rv),t,s);const l=(await Promise.all(i.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let c=l[0]||Bi(rv);const d=Ec(s,t.config.apiKey,t.name);let g=null;for(const v of i)try{const A=await v._get(d);if(A){const C=zi._fromJSON(t,A);v!==c&&(g=C),c=v;break}}catch{}const p=l.filter(v=>v._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new za(c,t,s):(c=p[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async v=>{if(v!==c)try{await v._remove(d)}catch{}})),new za(c,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sv(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(yT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(gT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ET(t))return"Blackberry";if(TT(t))return"Webos";if(pT(t))return"Safari";if((t.includes("chrome/")||_T(t))&&!t.includes("edge/"))return"Chrome";if(vT(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(i);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function gT(r=Qe()){return/firefox\//i.test(r)}function pT(r=Qe()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function _T(r=Qe()){return/crios\//i.test(r)}function yT(r=Qe()){return/iemobile/i.test(r)}function vT(r=Qe()){return/android/i.test(r)}function ET(r=Qe()){return/blackberry/i.test(r)}function TT(r=Qe()){return/webos/i.test(r)}function Vm(r=Qe()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function FI(r=Qe()){var t;return Vm(r)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function GI(){return xA()&&document.documentMode===10}function AT(r=Qe()){return Vm(r)||vT(r)||TT(r)||ET(r)||/windows phone/i.test(r)||yT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ST(r,t=[]){let i;switch(r){case"Browser":i=sv(Qe());break;case"Worker":i=`${sv(Qe())}-${r}`;break;default:i=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${Xa}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const s=c=>new Promise((d,g)=>{try{const p=t(c);d(p)}catch(p){g(p)}});s.onAbort=i,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const s of this.queue)await s(t),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QI(r,t={}){return $r(r,"GET","/v2/passwordPolicy",Xr(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI=6;class XI{constructor(t){var i,s,l,c;const d=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(i=d.minPasswordLength)!==null&&i!==void 0?i:YI,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(c=t.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var i,s,l,c,d,g;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(i=p.meetsMinPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(l=p.containsLowercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsUppercaseLetter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNumericCharacter)!==null&&d!==void 0?d:!0),p.isValid&&(p.isValid=(g=p.containsNonAlphanumericCharacter)!==null&&g!==void 0?g:!0),p}validatePasswordLengthOptions(t,i){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(i.meetsMinPasswordLength=t.length>=s),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let s;for(let l=0;l<t.length;l++)s=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,i,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(t,i,s,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new av(this),this.idTokenSubscription=new av(this),this.beforeStateQueue=new KI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=oT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Bi(i)),this._initializationPromise=this.queue(async()=>{var s,l;if(!this._deleted&&(this.persistenceManager=await za.create(this,t),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await fT(this,{idToken:t}),s=await zi._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(s)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var i;if(On(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(g,g))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let l=s,c=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId,g=l==null?void 0:l._redirectEventId,p=await this.tryRedirectSignIn(t);(!d||d===g)&&(p!=null&&p.user)&&(l=p.user,c=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(l)}catch(d){l=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return mt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await xc(t)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=DI()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(On(this.app))return Promise.reject(Hi(this));const i=t?fn(t):null;return i&&mt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&mt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return On(this.app)?Promise.reject(Hi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return On(this.app)?Promise.reject(Hi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Bi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await QI(this),i=new XI(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Dl("auth","Firebase",t())}onAuthStateChanged(t,i,s){return this.registerStateListener(this.authStateSubscription,t,i,s)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,s){return this.registerStateListener(this.idTokenSubscription,t,i,s)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(s.tenantId=this.tenantId),await jI(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,i){const s=await this.getOrInitRedirectPersistenceManager(i);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Bi(t)||this._popupRedirectResolver;mt(i,this,"argument-error"),this.redirectPersistenceManager=await za.create(this,[Bi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var i,s;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)===null||i===void 0?void 0:i._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(i=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&i!==void 0?i:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,s,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(mt(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const p=t.addObserver(i,s,l);return()=>{d=!0,p()}}else{const p=t.addObserver(i);return()=>{d=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return mt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=ST(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const i={"X-Client-Version":this.clientVersion};this.app.options.appId&&(i["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(i["X-Firebase-Client"]=s);const l=await this._getAppCheckToken();return l&&(i["X-Firebase-AppCheck"]=l),i}async _getAppCheckToken(){var t;if(On(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const i=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return i!=null&&i.error&&wI(`Error while retrieving App Check token: ${i.error}`),i==null?void 0:i.token}}function Hs(r){return fn(r)}class av{constructor(t){this.auth=t,this.observer=null,this.addObserver=KA(i=>this.observer=i)}get next(){return mt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function WI(r){rh=r}function bT(r){return rh.loadJS(r)}function ZI(){return rh.recaptchaEnterpriseScript}function JI(){return rh.gapiScript}function t1(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class e1{constructor(){this.enterprise=new n1}ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}class n1{ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}const i1="recaptcha-enterprise",RT="NO_RECAPTCHA";class r1{constructor(t){this.type=i1,this.auth=Hs(t)}async verify(t="verify",i=!1){async function s(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,g)=>{kI(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const v=new PI(p);return c.tenantId==null?c._agentRecaptchaConfig=v:c._tenantRecaptchaConfigs[c.tenantId]=v,d(v.siteKey)}}).catch(p=>{g(p)})})}function l(c,d,g){const p=window.grecaptcha;ev(p)?p.enterprise.ready(()=>{p.enterprise.execute(c,{action:t}).then(v=>{d(v)}).catch(()=>{d(RT)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new e1().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{s(this.auth).then(g=>{if(!i&&ev(window.grecaptcha))l(g,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let p=ZI();p.length!==0&&(p+=g),bT(p).then(()=>{l(g,c,d)}).catch(v=>{d(v)})}}).catch(g=>{d(g)})})}}async function ov(r,t,i,s=!1,l=!1){const c=new r1(r);let d;if(l)d=RT;else try{d=await c.verify(i)}catch{d=await c.verify(i,!0)}const g=Object.assign({},t);if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const p=g.phoneEnrollmentInfo.phoneNumber,v=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:v,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const p=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return s?Object.assign(g,{captchaResp:d}):Object.assign(g,{captchaResponse:d}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function Qd(r,t,i,s,l){var c;if(!((c=r._getRecaptchaConfig())===null||c===void 0)&&c.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const d=await ov(r,t,i,i==="getOobCode");return s(r,d)}else return s(r,t).catch(async d=>{if(d.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const g=await ov(r,t,i,i==="getOobCode");return s(r,g)}else return Promise.reject(d)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(r,t){const i=Zd(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Ns(c,t??{}))return l;Bn(l,"already-initialized")}return i.initialize({options:t})}function a1(r,t){const i=(t==null?void 0:t.persistence)||[],s=(Array.isArray(i)?i:[i]).map(Bi);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function o1(r,t,i){const s=Hs(r);mt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const l=!1,c=wT(t),{host:d,port:g}=l1(t),p=g===null?"":`:${g}`,v={url:`${c}//${d}${p}/`},A=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){mt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),mt(Ns(v,s.config.emulator)&&Ns(A,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=v,s.emulatorConfig=A,s.settings.appVerificationDisabledForTesting=!0,u1()}function wT(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function l1(r){const t=wT(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const s=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:lv(s.substr(c.length+1))}}else{const[c,d]=s.split(":");return{host:c,port:lv(d)}}}function lv(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function u1(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return xi("not implemented")}_getIdTokenResponse(t){return xi("not implemented")}_linkToIdToken(t,i){return xi("not implemented")}_getReauthenticationResolver(t){return xi("not implemented")}}async function c1(r,t){return $r(r,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h1(r,t){return Ul(r,"POST","/v1/accounts:signInWithPassword",Xr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f1(r,t){return Ul(r,"POST","/v1/accounts:signInWithEmailLink",Xr(r,t))}async function d1(r,t){return Ul(r,"POST","/v1/accounts:signInWithEmailLink",Xr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl extends Mm{constructor(t,i,s,l=null){super("password",s),this._email=t,this._password=i,this._tenantId=l}static _fromEmailAndPassword(t,i){return new Cl(t,i,"password")}static _fromEmailAndCode(t,i,s=null){return new Cl(t,i,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t;if(i!=null&&i.email&&(i!=null&&i.password)){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Qd(t,i,"signInWithPassword",h1);case"emailLink":return f1(t,{email:this._email,oobCode:this._password});default:Bn(t,"internal-error")}}async _linkToIdToken(t,i){switch(this.signInMethod){case"password":const s={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Qd(t,s,"signUpPassword",c1);case"emailLink":return d1(t,{idToken:i,email:this._email,oobCode:this._password});default:Bn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ba(r,t){return Ul(r,"POST","/v1/accounts:signInWithIdp",Xr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1="http://localhost";class ks extends Mm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new ks(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Bn("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:l}=i,c=Cm(i,["providerId","signInMethod"]);if(!s||!l)return null;const d=new ks(s,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ba(t,i)}_linkToIdToken(t,i){const s=this.buildRequest();return s.idToken=i,Ba(t,s)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ba(t,i)}buildRequest(){const t={requestUri:m1,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Ol(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function p1(r){const t=ul(cl(r)).link,i=t?ul(cl(t)).deep_link_id:null,s=ul(cl(r)).deep_link_id;return(s?ul(cl(s)).link:null)||s||i||t||r}class Pm{constructor(t){var i,s,l,c,d,g;const p=ul(cl(t)),v=(i=p.apiKey)!==null&&i!==void 0?i:null,A=(s=p.oobCode)!==null&&s!==void 0?s:null,C=g1((l=p.mode)!==null&&l!==void 0?l:null);mt(v&&A&&C,"argument-error"),this.apiKey=v,this.operation=C,this.code=A,this.continueUrl=(c=p.continueUrl)!==null&&c!==void 0?c:null,this.languageCode=(d=p.languageCode)!==null&&d!==void 0?d:null,this.tenantId=(g=p.tenantId)!==null&&g!==void 0?g:null}static parseLink(t){const i=p1(t);try{return new Pm(i)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(){this.providerId=to.PROVIDER_ID}static credential(t,i){return Cl._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const s=Pm.parseLink(i);return mt(s,"argument-error"),Cl._fromEmailAndCode(t,s.code,s.tenantId)}}to.PROVIDER_ID="password";to.EMAIL_PASSWORD_SIGN_IN_METHOD="password";to.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll extends IT{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr extends Ll{constructor(){super("facebook.com")}static credential(t){return ks._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Vr.credentialFromTaggedObject(t)}static credentialFromError(t){return Vr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Vr.credential(t.oauthAccessToken)}catch{return null}}}Vr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Vr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr extends Ll{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return ks._fromParams({providerId:Mr.PROVIDER_ID,signInMethod:Mr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Mr.credentialFromTaggedObject(t)}static credentialFromError(t){return Mr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:s}=t;if(!i&&!s)return null;try{return Mr.credential(i,s)}catch{return null}}}Mr.GOOGLE_SIGN_IN_METHOD="google.com";Mr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends Ll{constructor(){super("github.com")}static credential(t){return ks._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Pr.credentialFromTaggedObject(t)}static credentialFromError(t){return Pr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Pr.credential(t.oauthAccessToken)}catch{return null}}}Pr.GITHUB_SIGN_IN_METHOD="github.com";Pr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends Ll{constructor(){super("twitter.com")}static credential(t,i){return ks._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return kr.credentialFromTaggedObject(t)}static credentialFromError(t){return kr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:s}=t;if(!i||!s)return null;try{return kr.credential(i,s)}catch{return null}}}kr.TWITTER_SIGN_IN_METHOD="twitter.com";kr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _1(r,t){return Ul(r,"POST","/v1/accounts:signUp",Xr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,s,l=!1){const c=await zi._fromIdTokenResponse(t,s,l),d=uv(s);return new Us({user:c,providerId:d,_tokenResponse:s,operationType:i})}static async _forOperation(t,i,s){await t._updateTokensIfNecessary(s,!0);const l=uv(s);return new Us({user:t,providerId:l,_tokenResponse:s,operationType:i})}}function uv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc extends Ki{constructor(t,i,s,l){var c;super(i.code,i.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,zc.prototype),this.customData={appName:t.name,tenantId:(c=t.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:i.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,i,s,l){return new zc(t,i,s,l)}}function CT(r,t,i,s){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?zc._fromErrorAndOperation(r,c,t,s):c})}async function y1(r,t,i=!1){const s=await Il(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return Us._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v1(r,t,i=!1){const{auth:s}=r;if(On(s.app))return Promise.reject(Hi(s));const l="reauthenticate";try{const c=await Il(r,CT(s,l,t,r),i);mt(c.idToken,s,"internal-error");const d=Nm(c.idToken);mt(d,s,"internal-error");const{sub:g}=d;return mt(r.uid===g,s,"user-mismatch"),Us._forOperation(r,l,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&Bn(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DT(r,t,i=!1){if(On(r.app))return Promise.reject(Hi(r));const s="signIn",l=await CT(r,s,t),c=await Us._fromIdTokenResponse(r,s,l);return i||await r._updateCurrentUser(c.user),c}async function E1(r,t){return DT(Hs(r),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OT(r){const t=Hs(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function T1(r,t,i){if(On(r.app))return Promise.reject(Hi(r));const s=Hs(r),d=await Qd(s,{returnSecureToken:!0,email:t,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_1).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&OT(r),p}),g=await Us._fromIdTokenResponse(s,"signIn",d);return await s._updateCurrentUser(g.user),g}function A1(r,t,i){return On(r.app)?Promise.reject(Hi(r)):E1(fn(r),to.credential(t,i)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&OT(r),s})}function S1(r,t,i,s){return fn(r).onIdTokenChanged(t,i,s)}function b1(r,t,i){return fn(r).beforeAuthStateChanged(t,i)}function R1(r){return fn(r).signOut()}const Bc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Bc,"1"),this.storage.removeItem(Bc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1=1e3,I1=10;class VT extends NT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=AT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const s=this.storage.getItem(i),l=this.localCache[i];s!==l&&t(i,l,s)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,p)=>{this.notifyListeners(d,p)});return}const s=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!i&&this.localCache[s]===d||this.notifyListeners(s,d)},c=this.storage.getItem(s);GI()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,I1):l()}notifyListeners(t,i){this.localCache[t]=i;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:s}),!0)})},w1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}VT.type="LOCAL";const C1=VT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT extends NT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}MT.type="SESSION";const PT=MT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D1(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const s=new sh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:s,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!(d!=null&&d.size))return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const g=Array.from(d).map(async v=>v(i.origin,c)),p=await D1(g);i.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:p})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(r="",t=10){let i="";for(let s=0;s<t;s++)i+=Math.floor(Math.random()*10);return r+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,p)=>{const v=km("",20);l.port1.start();const A=setTimeout(()=>{p(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(C){const z=C;if(z.data.eventId===v)switch(z.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(z.data.response);break;default:clearTimeout(A),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:v,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(){return window}function N1(r){li().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kT(){return typeof li().WorkerGlobalScope<"u"&&typeof li().importScripts=="function"}async function V1(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function M1(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function P1(){return kT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT="firebaseLocalStorageDb",k1=1,Hc="firebaseLocalStorage",LT="fbase_key";class xl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function ah(r,t){return r.transaction([Hc],t?"readwrite":"readonly").objectStore(Hc)}function U1(){const r=indexedDB.deleteDatabase(UT);return new xl(r).toPromise()}function Yd(){const r=indexedDB.open(UT,k1);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Hc,{keyPath:LT})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Hc)?t(s):(s.close(),await U1(),t(await Yd()))})})}async function cv(r,t,i){const s=ah(r,!0).put({[LT]:t,value:i});return new xl(s).toPromise()}async function L1(r,t){const i=ah(r,!1).get(t),s=await new xl(i).toPromise();return s===void 0?null:s.value}function hv(r,t){const i=ah(r,!0).delete(t);return new xl(i).toPromise()}const x1=800,z1=3;class xT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Yd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(i++>z1)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return kT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sh._getInstance(P1()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){var t,i;if(this.activeServiceWorker=await V1(),!this.activeServiceWorker)return;this.sender=new O1(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((i=s[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||M1()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Yd();return await cv(t,Bc,"1"),await hv(t,Bc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(s=>cv(s,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(s=>L1(s,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>hv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=ah(l,!1).getAll();return new xl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],s=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),x1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}xT.type="LOCAL";const B1=xT;new kl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1(r,t){return t?Bi(t):(mt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um extends Mm{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ba(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ba(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ba(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function q1(r){return DT(r.auth,new Um(r),r.bypassAuthState)}function j1(r){const{auth:t,user:i}=r;return mt(i,t,"internal-error"),v1(i,new Um(r),r.bypassAuthState)}async function F1(r){const{auth:t,user:i}=r;return mt(i,t,"internal-error"),y1(i,new Um(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(t,i,s,l,c=!1){this.auth=t,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:s,postBody:l,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:i,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(v){this.reject(v)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return q1;case"linkViaPopup":case"linkViaRedirect":return F1;case"reauthViaPopup":case"reauthViaRedirect":return j1;default:Bn(this.auth,"internal-error")}}resolve(t){Gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1=new kl(2e3,1e4);class Ua extends zT{constructor(t,i,s,l,c){super(t,i,l,c),this.provider=s,this.authWindow=null,this.pollId=null,Ua.currentPopupAction&&Ua.currentPopupAction.cancel(),Ua.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return mt(t,this.auth,"internal-error"),t}async onExecution(){Gi(this.filter.length===1,"Popup operations only handle one event");const t=km();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(oi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(oi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ua.currentPopupAction=null}pollUserCancellation(){const t=()=>{var i,s;if(!((s=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(oi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,G1.get())};t()}}Ua.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1="pendingRedirect",Tc=new Map;class Q1 extends zT{constructor(t,i,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,s),this.eventId=null}async execute(){let t=Tc.get(this.auth._key());if(!t){try{const s=await Y1(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(i){t=()=>Promise.reject(i)}Tc.set(this.auth._key(),t)}return this.bypassAuthState||Tc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Y1(r,t){const i=W1(t),s=$1(r);if(!await s._isAvailable())return!1;const l=await s._get(i)==="true";return await s._remove(i),l}function X1(r,t){Tc.set(r._key(),t)}function $1(r){return Bi(r._redirectPersistence)}function W1(r){return Ec(K1,r.config.apiKey,r.name)}async function Z1(r,t,i=!1){if(On(r.app))return Promise.reject(Hi(r));const s=Hs(r),l=H1(s,t),d=await new Q1(s,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1=10*60*1e3;class tC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(i=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!eC(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){var s;if(t.error&&!BT(t)){const l=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";i.onError(oi(this.auth,l))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const s=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=J1&&this.cachedEventUids.clear(),this.cachedEventUids.has(fv(t))}saveEventToCache(t){this.cachedEventUids.add(fv(t)),this.lastProcessedEventTime=Date.now()}}function fv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function BT({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function eC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return BT(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nC(r,t={}){return $r(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rC=/^https?/;async function sC(r){if(r.config.emulator)return;const{authorizedDomains:t}=await nC(r);for(const i of t)try{if(aC(i))return}catch{}Bn(r,"unauthorized-domain")}function aC(r){const t=Gd(),{protocol:i,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&s===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===s}if(!rC.test(i))return!1;if(iC.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC=new kl(3e4,6e4);function dv(){const r=li().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function lC(r){return new Promise((t,i)=>{var s,l,c;function d(){dv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{dv(),i(oi(r,"network-request-failed"))},timeout:oC.get()})}if(!((l=(s=li().gapi)===null||s===void 0?void 0:s.iframes)===null||l===void 0)&&l.Iframe)t(gapi.iframes.getContext());else if(!((c=li().gapi)===null||c===void 0)&&c.load)d();else{const g=t1("iframefcb");return li()[g]=()=>{gapi.load?d():i(oi(r,"network-request-failed"))},bT(`${JI()}?onload=${g}`).catch(p=>i(p))}}).catch(t=>{throw Ac=null,t})}let Ac=null;function uC(r){return Ac=Ac||lC(r),Ac}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC=new kl(5e3,15e3),hC="__/auth/iframe",fC="emulator/auth/iframe",dC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gC(r){const t=r.config;mt(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?Om(t,fC):`https://${r.config.authDomain}/${hC}`,s={apiKey:t.apiKey,appName:r.name,v:Xa},l=mC.get(r.config.apiHost);l&&(s.eid=l);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${i}?${Ol(s).slice(1)}`}async function pC(r){const t=await uC(r),i=li().gapi;return mt(i,r,"internal-error"),t.open({where:document.body,url:gC(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dC,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const d=oi(r,"network-request-failed"),g=li().setTimeout(()=>{c(d)},cC.get());function p(){li().clearTimeout(g),l(s)}s.ping(p).then(p,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},yC=500,vC=600,EC="_blank",TC="http://localhost";class mv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function AC(r,t,i,s=yC,l=vC){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const p=Object.assign(Object.assign({},_C),{width:s.toString(),height:l.toString(),top:c,left:d}),v=Qe().toLowerCase();i&&(g=_T(v)?EC:i),gT(v)&&(t=t||TC,p.scrollbars="yes");const A=Object.entries(p).reduce((z,[j,$])=>`${z}${j}=${$},`,"");if(FI(v)&&g!=="_self")return SC(t||"",g),new mv(null);const C=window.open(t||"",g,A);mt(C,r,"popup-blocked");try{C.focus()}catch{}return new mv(C)}function SC(r,t){const i=document.createElement("a");i.href=r,i.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC="__/auth/handler",RC="emulator/auth/handler",wC=encodeURIComponent("fac");async function gv(r,t,i,s,l,c){mt(r.config.authDomain,r,"auth-domain-config-required"),mt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:s,v:Xa,eventId:l};if(t instanceof IT){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",GA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,C]of Object.entries({}))d[A]=C}if(t instanceof Ll){const A=t.getScopes().filter(C=>C!=="");A.length>0&&(d.scopes=A.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const A of Object.keys(g))g[A]===void 0&&delete g[A];const p=await r._getAppCheckToken(),v=p?`#${wC}=${encodeURIComponent(p)}`:"";return`${IC(r)}?${Ol(g).slice(1)}${v}`}function IC({config:r}){return r.emulator?Om(r,RC):`https://${r.authDomain}/${bC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ad="webStorageSupport";class CC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=PT,this._completeRedirectFn=Z1,this._overrideRedirectResult=X1}async _openPopup(t,i,s,l){var c;Gi((c=this.eventManagers[t._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const d=await gv(t,i,s,Gd(),l);return AC(t,d,km())}async _openRedirect(t,i,s,l){await this._originValidation(t);const c=await gv(t,i,s,Gd(),l);return N1(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(Gi(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(t);return this.eventManagers[i]={promise:s},s.catch(()=>{delete this.eventManagers[i]}),s}async initAndGetManager(t){const i=await pC(t),s=new tC(t);return i.register("authEvent",l=>(mt(l==null?void 0:l.authEvent,t,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=i,s}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Ad,{type:Ad},l=>{var c;const d=(c=l==null?void 0:l[0])===null||c===void 0?void 0:c[Ad];d!==void 0&&i(!!d),Bn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=sC(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return AT()||pT()||Vm()}}const DC=CC;var pv="@firebase/auth",_v="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){mt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function VC(r){Ha(new Vs("auth",(t,{options:i})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=s.options;mt(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ST(r)},v=new $I(s,l,c,p);return a1(v,i),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,s)=>{t.getProvider("auth-internal").initialize()})),Ha(new Vs("auth-internal",t=>{const i=Hs(t.getProvider("auth").getImmediate());return(s=>new OC(s))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),zr(pv,_v,NC(r)),zr(pv,_v,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC=5*60,PC=bv("authIdTokenMaxAge")||MC;let yv=null;const kC=r=>async t=>{const i=t&&await t.getIdTokenResult(),s=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(s&&s>PC)return;const l=i==null?void 0:i.token;yv!==l&&(yv=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function UC(r=Cv()){const t=Zd(r,"auth");if(t.isInitialized())return t.getImmediate();const i=s1(r,{popupRedirectResolver:DC,persistence:[B1,C1,PT]}),s=bv("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const d=kC(c.toString());b1(i,d,()=>d(i.currentUser)),S1(i,g=>d(g))}}const l=Av("auth");return l&&o1(i,`http://${l}`),i}function LC(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}WI({loadJS(r){return new Promise((t,i)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=l=>{const c=oi("internal-error");c.customData=l,i(c)},s.type="text/javascript",s.charset="UTF-8",LC().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});VC("Browser");const xC={apiKey:"AIzaSyAQgWe34nInChUl8ZbOF9YiVJCjBzvo2cY",authDomain:"chronoapp-53363.firebaseapp.com",projectId:"chronoapp-53363",storageBucket:"chronoapp-53363.firebasestorage.app",messagingSenderId:"902735662769",appId:"1:902735662769:web:1aac26ba94a78b6c455c90"},HT=Iv(xC),Sd=rI(HT),bd=UC(HT);function zC(){const[r,t]=Nr.useState(null),[i,s]=Nr.useState(""),[l,c]=Nr.useState(""),[d,g]=Nr.useState(null),[p,v]=Nr.useState([]),[A,C]=Nr.useState({name:"",brand:"",year:"",image:"",movement:""});Nr.useEffect(()=>{r&&X()},[r]);const z=async()=>{try{const Z=await T1(bd,i,l);t(Z.user),g("Registrazione avvenuta con successo!")}catch(Z){g(Z.message)}},j=async()=>{try{const Z=await A1(bd,i,l);t(Z.user),g("Accesso effettuato con successo!")}catch(Z){g(Z.message)}},$=async()=>{await R1(bd),t(null),v([]),g("Disconnessione effettuata.")},tt=async()=>{if(A.name&&A.brand&&A.year&&A.movement)try{await bI(Wy(Sd,"watches"),{...A,userId:r.uid}),X(),C({name:"",brand:"",year:"",image:"",movement:""}),g("Orologio aggiunto con successo!")}catch(Z){g(Z.message)}else g("Compila tutti i campi!")},X=async()=>{try{const It=(await AI(Wy(Sd,"watches"))).docs.map(ct=>({id:ct.id,...ct.data()})).filter(ct=>ct.userId===(r==null?void 0:r.uid));v(It)}catch(Z){g(Z.message)}},Tt=async Z=>{try{await SI(YE(Sd,"watches",Z)),X(),g("Orologio eliminato con successo!")}catch(It){g(It.message)}},ft=Z=>{const It=Z.target.files[0];if(It){const ct=new FileReader;ct.onloadend=()=>{C({...A,image:ct.result})},ct.readAsDataURL(It)}};return _t.jsxs("div",{className:"container",children:[_t.jsx("h1",{children:"La mia collezione di orologi"}),d&&_t.jsx("p",{className:"message",children:d}),r?_t.jsxs(_t.Fragment,{children:[_t.jsx("div",{className:"buttonForm",children:_t.jsx("button",{className:"logout-btn",onClick:$,children:"Logout"})}),_t.jsx("h2",{children:"Aggiungi un nuovo orologio"}),_t.jsxs("div",{className:"form",children:[_t.jsx("input",{type:"text",placeholder:"Nome",value:A.name,onChange:Z=>C({...A,name:Z.target.value})}),_t.jsx("input",{type:"text",placeholder:"Marca",value:A.brand,onChange:Z=>C({...A,brand:Z.target.value})}),_t.jsx("input",{type:"number",placeholder:"Anno",value:A.year,onChange:Z=>C({...A,year:Z.target.value})}),_t.jsx("div",{style:{marginBottom:"10px"}})," ",_t.jsx("label",{children:_t.jsx("strong",{children:"Movimento: "})}),_t.jsxs("select",{value:A.movement,onChange:Z=>C({...A,movement:Z.target.value}),children:[_t.jsx("option",{value:"",children:"Seleziona il movimento"}),_t.jsx("option",{value:"Automatico",children:"Automatico"}),_t.jsx("option",{value:"Carica Manuale",children:"Carica Manuale"}),_t.jsx("option",{value:"Quarzo",children:"Quarzo"})]}),_t.jsx("div",{style:{marginBottom:"10px"}})," ",_t.jsx("input",{type:"file",accept:"image/*",onChange:ft}),A.image&&_t.jsx("img",{src:A.image,alt:"Anteprima",className:"preview-image"}),_t.jsx("div",{style:{marginBottom:"10px"}})," ",_t.jsxs("div",{className:"buttonForm",children:[_t.jsx("button",{onClick:tt,children:"Salva"}),_t.jsx("button",{onClick:()=>setShowBanner(!1),children:"Annulla"})]})]}),_t.jsx("div",{style:{marginBottom:"50px"}})," ",_t.jsx("h2",{children:"Lista Orologi"}),_t.jsx("div",{className:"watch-list",children:p.map(Z=>_t.jsxs("div",{className:"watch-card",children:[_t.jsx("h3",{children:Z.name}),_t.jsxs("p",{children:[Z.brand," - ",Z.year," - ",Z.movement]}),_t.jsx("div",{className:"delete-button",children:_t.jsx("button",{className:"delete-btn",onClick:()=>Tt(Z.id),children:"Elimina"})})]},Z.id))})]}):_t.jsxs("div",{className:"form",children:[_t.jsx("h2",{children:"Registrati o Accedi"}),_t.jsx("input",{type:"email",placeholder:"Email",value:i,onChange:Z=>s(Z.target.value)}),_t.jsx("input",{type:"password",placeholder:"Password",value:l,onChange:Z=>c(Z.target.value)}),_t.jsx("div",{className:"button-group",children:_t.jsxs("div",{className:"buttonForm",children:[_t.jsx("button",{onClick:z,children:"Registrati"}),_t.jsx("button",{onClick:j,children:"Accedi"})]})})]})]})}TA.createRoot(document.getElementById("root")).render(_t.jsx(Nr.StrictMode,{children:_t.jsx(zC,{})}));
